/*
 Navicat Premium Data Transfer

 Source Server         : myServer
 Source Server Type    : MySQL
 Source Server Version : 80012
 Source Host           : localhost:3306
 Source Schema         : mydb

 Target Server Type    : MySQL
 Target Server Version : 80012
 File Encoding         : 65001

 Date: 03/11/2018 09:47:33
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for activity
-- ----------------------------
DROP TABLE IF EXISTS `activity`;
CREATE TABLE `activity`  (
  `activityId` int(11) NOT NULL AUTO_INCREMENT,
  `activityTitle` text CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `activityDays` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `beginTime` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `endTime` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `personNum` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `money` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `telNum` varchar(11) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `activityIntroduce` text CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `manageCheck` int(11) NOT NULL DEFAULT 2,
  `user_userId` int(11) NOT NULL,
  `actImg` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  PRIMARY KEY (`activityId`) USING BTREE,
  INDEX `fk_activity_user1_idx`(`user_userId`) USING BTREE,
  INDEX `activityId`(`activityId`) USING BTREE,
  INDEX `activityId_2`(`activityId`) USING BTREE,
  INDEX `activityId_3`(`activityId`) USING BTREE,
  INDEX `activityId_4`(`activityId`) USING BTREE,
  INDEX `activityId_5`(`activityId`) USING BTREE,
  INDEX `activityId_6`(`activityId`) USING BTREE,
  INDEX `activityId_7`(`activityId`) USING BTREE,
  INDEX `activityId_8`(`activityId`) USING BTREE,
  INDEX `activityId_9`(`activityId`) USING BTREE,
  INDEX `activityId_10`(`activityId`) USING BTREE,
  INDEX `activityId_11`(`activityId`) USING BTREE,
  INDEX `activityId_12`(`activityId`) USING BTREE,
  INDEX `activityId_13`(`activityId`) USING BTREE,
  INDEX `activityId_14`(`activityId`) USING BTREE,
  INDEX `activityId_15`(`activityId`) USING BTREE,
  INDEX `activityId_16`(`activityId`) USING BTREE,
  INDEX `activityId_17`(`activityId`) USING BTREE,
  INDEX `activityId_18`(`activityId`) USING BTREE,
  INDEX `activityId_19`(`activityId`) USING BTREE,
  INDEX `activityId_20`(`activityId`) USING BTREE,
  INDEX `activityId_21`(`activityId`) USING BTREE,
  INDEX `activityId_22`(`activityId`) USING BTREE,
  INDEX `activityId_23`(`activityId`) USING BTREE,
  INDEX `activityId_24`(`activityId`) USING BTREE,
  INDEX `activityId_25`(`activityId`) USING BTREE,
  INDEX `activityId_26`(`activityId`) USING BTREE,
  CONSTRAINT `fk_activity_user1` FOREIGN KEY (`user_userId`) REFERENCES `user` (`userid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 44 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of activity
-- ----------------------------
INSERT INTO `activity` VALUES (1, '参观博物馆', '2', '2018/10/17 上午12:00:00', '2018/10/17 上午12:00:00', '2', '50', '13103907892', '去苏州博物馆你会发现，博物馆竟然可以这样建造', 2, 1, 'http://pic.lvmama.com//uploads/pc/place2/2018-08-17/de9e3f4e-01e4-47dc-8acc-c570fd695b04_480_320.jpg');
INSERT INTO `activity` VALUES (2, '金鸡湖观光', '2', '2018/10/17 上午12:00:00', '2018/10/19 上午12:00:00', '2', '0', '12345678912', '金鸡湖是全国最大的内陆湖', 2, 866, 'http://youji.lvyouzhongguo.net/yn-wenda-bd-p/images/k4.jpg');
INSERT INTO `activity` VALUES (3, '寒山寺领略古刹韵味', '1', '2018/10/18 上午12:00:00', '2018/10/18 上午12:00:00', '5', '50', '14725836901', '寒山寺因一首古诗而流传至今', 2, 883, 'https://pic5.40017.cn/01/000/39/5a/rBLkBls2QFOAeobZAAEK1QgO-Z0659_750x_00.jpg');
INSERT INTO `activity` VALUES (4, 'ifs大厦', '1', '2018/10/19 上午12:00:00', '2018/10/19 上午12:00:00', '10', '50', '14785236987', '据说这座大楼是钻石型的', 2, 865, 'http://n.sinaimg.cn/sinacn/w640h808/20180306/963c-fxipenn4052768.jpg');
INSERT INTO `activity` VALUES (5, '东方之门', '1', '2018/10/20 上午12:00:00', '2018/10/20 上午12:00:00', '10', '500', '12345678963', '俗称秋裤楼', 2, 844, 'http://www.slzxgw.com/admin/uploadpic/2018322740853408449.png');
INSERT INTO `activity` VALUES (6, '枫桥', '1', '2018/10/21 上午12:00:00', '2018/10/21 上午12:00:00', '6', '200', '12385265478', '枫桥夜泊的诗成之处', 2, 1, 'http://img1.qunarzz.com/sight/p0/1603/85/85aa0c000578a01e90.water.jpg_710x360_4621c512.jpg');
INSERT INTO `activity` VALUES (10, '游木渎古镇，品吴越风韵', '2', '2018/10/19 上午12:00:00', '2018/10/20 上午12:00:00', '4', '200', '14587563212', '木渎古镇位于苏州市吴江区，是吴越时期遗留下来的古镇', 2, 864, 'http://img1.qunarzz.com/sight/p0/1707/33/33c133cf198d092aa3.water.jpg_710x360_d27f710c.jpg');
INSERT INTO `activity` VALUES (21, '灵岩山烧烤', '1', '2018/10/22 上午12:00:00', '2018/10/20 上午12:00:00', '6', '100', '13103907892', '一块上山烧烤放飞自我吧！在这里没有规矩没有约束，快来吧 ', 2, 869, 'http://youji.lvyouzhongguo.net/yn-wenda-bd-p/images/k1.jpg');
INSERT INTO `activity` VALUES (23, '畅游苏州老城', '1', '2018/10/23 上午12:00:00', '2018/10/23 上午12:00:00', '10', '100', '13112345632', '老城区 有着老历史', 2, 855, 'https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=347498088,2986301812&fm=173&s=B3BA5B81C6BB6F8C281888F00300E0B1&w=640&h=480&img.JPEG');
INSERT INTO `activity` VALUES (31, '拙政园一日游', '1', '2018/10/26 上午12:00:00', '2018/10/26 上午12:00:00', '6', '150', '12345678963', '拙政园是中国第一大园林。', 2, 883, 'http://localhost:3000/Actuploadfile/3-3.jpg');
INSERT INTO `activity` VALUES (32, '平江路逛街 ', '2', '2018/10/26 上午12:00:00', '2018/10/26 上午12:00:00', '5', '100', '12345678920', '带上女朋友带上钱', 2, 844, 'http://localhost:3000/Actuploadfile/wKgB4lJab8OAE1MgAAQzNptgEhI79.jpeg');
INSERT INTO `activity` VALUES (34, '天平山观光', '2', '2018/10/26 上午12:00:00', '2018/10/26 上午12:00:00', '5', '100', '12345678920', '一览众山小，爬上山顶你会看到不一样的风景 ', 2, 866, 'http://youji.lvyouzhongguo.net/yn-wenda-bd-p/images/k4.jpg');
INSERT INTO `activity` VALUES (35, '金鸡湖漫步', '2', '2018/10/26 上午12:00:00', '2018/10/26 上午12:00:00', '5', '100', '12345678920', '夜晚在湖边散步岂不是美滋滋', 2, 863, 'http://localhost:3000/Actuploadfile/meigui.jpg');
INSERT INTO `activity` VALUES (43, '夜游古城', '1', '2018/11/26 上午12:00:00', '2018/11/27 上午12:00:00', '2', '300', '12345678963', '领略一下古城的夜晚，相信会别有一番风味', 2, 868, 'http://localhost:3000/Actuploadfile/gucheng.jpg');

-- ----------------------------
-- Table structure for activitycomment
-- ----------------------------
DROP TABLE IF EXISTS `activitycomment`;
CREATE TABLE `activitycomment`  (
  `activityCommentId` int(11) NOT NULL AUTO_INCREMENT,
  `activityTime` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `activityCommentContent` text CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `activity_activityId` int(11) NOT NULL,
  `userstatus` int(11) NULL DEFAULT 2,
  `userid` int(11) NOT NULL,
  `zan` int(11) NOT NULL DEFAULT 0,
  PRIMARY KEY (`activityCommentId`) USING BTREE,
  INDEX `fk_activityComment_activity1_idx`(`activity_activityId`) USING BTREE,
  INDEX `fk_userid`(`userid`) USING BTREE,
  INDEX `activityCommentId`(`activityCommentId`) USING BTREE,
  CONSTRAINT `activitycomment_ibfk_1` FOREIGN KEY (`activity_activityId`) REFERENCES `activity` (`activityid`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `fk_userid` FOREIGN KEY (`userid`) REFERENCES `user` (`userid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 88 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of activitycomment
-- ----------------------------
INSERT INTO `activitycomment` VALUES (1, '2018/09/10下午1:33:48', '枫桥景区人文古韵气息很深厚', 6, 1, 1, 2);
INSERT INTO `activitycomment` VALUES (2, '2018/09/08下午2:33:48', '终于近距离看到了大秋裤楼', 5, 1, 866, 0);
INSERT INTO `activitycomment` VALUES (3, '2018/09/20下午3:33:48', 'ifs国经大厦', 4, 1, 832, 1);
INSERT INTO `activitycomment` VALUES (6, '2018/10/20下午8:33:48', '终于看到了梦寐以求的园林风光', 1, 2, 866, 0);
INSERT INTO `activitycomment` VALUES (52, '2018/10/26 上午10:37:34', '钻石型大厦', 4, 2, 885, 1);
INSERT INTO `activitycomment` VALUES (53, '2018/10/26 下午1:02:20', '一直都很想去一次，终于实现了。', 23, 2, 885, 1);
INSERT INTO `activitycomment` VALUES (54, '2018/10/26 下午1:10:51', '还要再去一次，有没有一块去的？没有待会再来问一遍', 23, 2, 885, 1);
INSERT INTO `activitycomment` VALUES (56, '2018/10/27 上午10:15:26', '拙政园一日游，美滋滋', 31, 2, 844, 8);
INSERT INTO `activitycomment` VALUES (57, '2018/10/27 下午4:46:39', '哈哈呼呼 欢迎过来一起约啊', 35, 2, 883, 3);
INSERT INTO `activitycomment` VALUES (58, '2018/10/28 上午10:21:06', '姑苏城外寒山寺，夜半钟声到客船', 3, 2, 1, 1);
INSERT INTO `activitycomment` VALUES (59, '2018/10/28 上午11:26:29', '美美哒', 34, 2, 883, 5);
INSERT INTO `activitycomment` VALUES (60, '2018/10/28 上午11:27:24', '期待ing', 34, 2, 880, 3);
INSERT INTO `activitycomment` VALUES (61, '2018/10/28 下午7:15:00', '小吃街', 32, 2, 883, 0);
INSERT INTO `activitycomment` VALUES (62, '2018/10/28 下午7:15:29', '出货天堂  网红小吃', 32, 2, 883, 0);
INSERT INTO `activitycomment` VALUES (63, '2018/10/28 下午7:15:39', '啦啦啦\n', 32, 2, 1, 0);
INSERT INTO `activitycomment` VALUES (64, '2018/10/28 下午7:15:55', '下次一块去啊 小姐姐', 32, 2, 883, 0);
INSERT INTO `activitycomment` VALUES (70, '2018/10/29 下午2:29:05', '文化气息浓厚', 34, 2, 883, 0);
INSERT INTO `activitycomment` VALUES (71, '2018/10/29 下午2:30:43', '古代人真会玩', 31, 2, 870, 1);
INSERT INTO `activitycomment` VALUES (72, '2018/10/29 下午2:31:12', '不过 风景还是挺不错的', 31, 2, 883, 2);
INSERT INTO `activitycomment` VALUES (73, '2018/10/29 下午5:51:12', '哎呀呀', 34, 2, 881, 2);
INSERT INTO `activitycomment` VALUES (76, '2018/10/29 下午6:34:34', '大赞', 31, 2, 881, 1);
INSERT INTO `activitycomment` VALUES (77, '2018/10/29 下午6:36:10', '不要门票哦', 34, 2, 881, 0);
INSERT INTO `activitycomment` VALUES (79, '2018/10/29 下午6:39:40', '哎呀呀', 32, 2, 881, 0);
INSERT INTO `activitycomment` VALUES (80, '2018/10/29 下午6:40:32', '湖边漫步 美滋滋', 35, 2, 881, 0);
INSERT INTO `activitycomment` VALUES (81, '2018/10/29 下午6:42:05', '来个妹子啊', 35, 2, 881, 0);
INSERT INTO `activitycomment` VALUES (82, '2018/10/29 下午6:44:33', '终于成功了', 35, 2, 881, 0);
INSERT INTO `activitycomment` VALUES (83, '2018/10/31 下午2:23:28', '周末不开放哦小伙伴们', 34, 2, 885, 1);
INSERT INTO `activitycomment` VALUES (84, '2018/11/2 上午8:27:24', '博物馆是不要门票的哦\n', 1, 2, 883, 0);
INSERT INTO `activitycomment` VALUES (85, '2018/11/2 上午8:27:54', '周末不开放啊', 1, 2, 883, 0);

-- ----------------------------
-- Table structure for collection
-- ----------------------------
DROP TABLE IF EXISTS `collection`;
CREATE TABLE `collection`  (
  `collectionId` int(11) NOT NULL AUTO_INCREMENT,
  `scenic_scenicId` int(11) NULL DEFAULT NULL,
  `route_routeId` int(11) NULL DEFAULT NULL,
  `user_userId` int(11) NOT NULL,
  PRIMARY KEY (`collectionId`) USING BTREE,
  INDEX `fk_collection_scenic1_idx`(`scenic_scenicId`) USING BTREE,
  INDEX `fk_collection_route1_idx`(`route_routeId`) USING BTREE,
  INDEX `fk_collection_user1_idx`(`user_userId`) USING BTREE,
  CONSTRAINT `collection_ibfk_1` FOREIGN KEY (`route_routeId`) REFERENCES `route` (`routeid`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `collection_ibfk_2` FOREIGN KEY (`scenic_scenicId`) REFERENCES `scenic` (`scenicid`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `collection_ibfk_3` FOREIGN KEY (`user_userId`) REFERENCES `user` (`userid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 39 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of collection
-- ----------------------------
INSERT INTO `collection` VALUES (1, NULL, NULL, 883);
INSERT INTO `collection` VALUES (2, 350, 252, 866);
INSERT INTO `collection` VALUES (3, 352, 250, 855);
INSERT INTO `collection` VALUES (10, NULL, NULL, 883);
INSERT INTO `collection` VALUES (12, 350, 253, 832);
INSERT INTO `collection` VALUES (14, NULL, NULL, 883);
INSERT INTO `collection` VALUES (15, NULL, NULL, 868);
INSERT INTO `collection` VALUES (16, NULL, NULL, 832);
INSERT INTO `collection` VALUES (17, NULL, NULL, 868);
INSERT INTO `collection` VALUES (18, NULL, 250, 883);
INSERT INTO `collection` VALUES (19, NULL, 250, 868);
INSERT INTO `collection` VALUES (20, NULL, 255, 883);
INSERT INTO `collection` VALUES (21, NULL, 255, 885);
INSERT INTO `collection` VALUES (22, NULL, 254, 883);
INSERT INTO `collection` VALUES (23, NULL, 254, 868);
INSERT INTO `collection` VALUES (24, NULL, NULL, 868);
INSERT INTO `collection` VALUES (25, NULL, NULL, 868);
INSERT INTO `collection` VALUES (26, NULL, NULL, 868);
INSERT INTO `collection` VALUES (27, NULL, NULL, 868);
INSERT INTO `collection` VALUES (28, NULL, NULL, 868);
INSERT INTO `collection` VALUES (29, NULL, NULL, 868);
INSERT INTO `collection` VALUES (30, 351, NULL, 883);
INSERT INTO `collection` VALUES (31, NULL, 253, 883);
INSERT INTO `collection` VALUES (32, NULL, 250, 868);
INSERT INTO `collection` VALUES (33, NULL, 250, 868);
INSERT INTO `collection` VALUES (34, NULL, 253, 868);
INSERT INTO `collection` VALUES (35, NULL, 260, 883);
INSERT INTO `collection` VALUES (36, NULL, 258, 883);
INSERT INTO `collection` VALUES (37, NULL, 258, 868);
INSERT INTO `collection` VALUES (38, NULL, NULL, 868);

-- ----------------------------
-- Table structure for joinactivity
-- ----------------------------
DROP TABLE IF EXISTS `joinactivity`;
CREATE TABLE `joinactivity`  (
  `joinActivityId` int(11) NOT NULL AUTO_INCREMENT,
  `provideId` int(11) NOT NULL,
  `userStatus` int(11) NOT NULL DEFAULT 2,
  `user_userId` int(11) NOT NULL,
  `activity_activityId` int(11) NOT NULL,
  PRIMARY KEY (`joinActivityId`) USING BTREE,
  INDEX `fk_joinActivity_user1_idx`(`user_userId`) USING BTREE,
  INDEX `fk_joinActivity_activity1_idx`(`activity_activityId`) USING BTREE,
  CONSTRAINT `fk_joinActivity_activity1` FOREIGN KEY (`activity_activityId`) REFERENCES `activity` (`activityid`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `fk_joinActivity_user1` FOREIGN KEY (`user_userId`) REFERENCES `user` (`userid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 85 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of joinactivity
-- ----------------------------
INSERT INTO `joinactivity` VALUES (9, 865, 2, 1, 4);
INSERT INTO `joinactivity` VALUES (12, 1, 2, 1, 10);
INSERT INTO `joinactivity` VALUES (15, 1, 2, 1, 10);
INSERT INTO `joinactivity` VALUES (19, 1, 2, 1, 6);
INSERT INTO `joinactivity` VALUES (21, 1, 2, 1, 6);
INSERT INTO `joinactivity` VALUES (22, 1, 2, 1, 6);
INSERT INTO `joinactivity` VALUES (23, 1, 2, 1, 6);
INSERT INTO `joinactivity` VALUES (25, 1, 2, 1, 6);
INSERT INTO `joinactivity` VALUES (26, 1, 2, 1, 6);
INSERT INTO `joinactivity` VALUES (27, 1, 2, 1, 6);
INSERT INTO `joinactivity` VALUES (33, 844, 2, 1, 5);
INSERT INTO `joinactivity` VALUES (47, 883, 2, 868, 32);
INSERT INTO `joinactivity` VALUES (49, 883, 2, 868, 3);
INSERT INTO `joinactivity` VALUES (83, 883, 2, 844, 3);
INSERT INTO `joinactivity` VALUES (84, 864, 2, 868, 10);

-- ----------------------------
-- Table structure for manage
-- ----------------------------
DROP TABLE IF EXISTS `manage`;
CREATE TABLE `manage`  (
  `manageId` int(11) NOT NULL,
  `manageName` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `managePwd` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  PRIMARY KEY (`manageId`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of manage
-- ----------------------------
INSERT INTO `manage` VALUES (1, 'mby', 'a790452f032a34ea80339bef474b93f4');

-- ----------------------------
-- Table structure for public
-- ----------------------------
DROP TABLE IF EXISTS `public`;
CREATE TABLE `public`  (
  `publicId` int(11) NOT NULL,
  `publicTitle` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `publicContent` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  PRIMARY KEY (`publicId`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of public
-- ----------------------------
INSERT INTO `public` VALUES (1, '小心出行', '9月17苏州大雨 山竹来袭小心出门');
INSERT INTO `public` VALUES (2, '苏州百年面馆打折', '百年老店装修结束，明日开业大酬宾啊。限时限量啊');

-- ----------------------------
-- Table structure for replyactcomment
-- ----------------------------
DROP TABLE IF EXISTS `replyactcomment`;
CREATE TABLE `replyactcomment`  (
  `replyId` int(11) NOT NULL AUTO_INCREMENT,
  `actCommentId` int(11) NOT NULL,
  `replyContent` varchar(60) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `replyTime` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `userId` int(11) NOT NULL,
  PRIMARY KEY (`replyId`) USING BTREE,
  INDEX `fk_actCom`(`actCommentId`) USING BTREE,
  INDEX `fe_user`(`userId`) USING BTREE,
  CONSTRAINT `fe_user` FOREIGN KEY (`userId`) REFERENCES `user` (`userid`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `fk_actCom` FOREIGN KEY (`actCommentId`) REFERENCES `activitycomment` (`activitycommentid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 11 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Table structure for route
-- ----------------------------
DROP TABLE IF EXISTS `route`;
CREATE TABLE `route`  (
  `routeId` int(11) NOT NULL,
  `routeName` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `routeIntroduction` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `Days` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `hotRoute` int(11) NOT NULL,
  `routeImage` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `biaoqian` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  PRIMARY KEY (`routeId`) USING BTREE,
  INDEX `routeId`(`routeId`) USING BTREE,
  INDEX `routeId_2`(`routeId`) USING BTREE,
  INDEX `routeId_3`(`routeId`) USING BTREE,
  INDEX `routeId_4`(`routeId`) USING BTREE,
  INDEX `routeId_5`(`routeId`) USING BTREE,
  INDEX `routeId_6`(`routeId`) USING BTREE,
  INDEX `routeId_7`(`routeId`) USING BTREE,
  INDEX `routeId_8`(`routeId`) USING BTREE,
  INDEX `routeId_9`(`routeId`) USING BTREE,
  INDEX `routeId_10`(`routeId`) USING BTREE,
  INDEX `routeId_11`(`routeId`) USING BTREE,
  INDEX `routeId_12`(`routeId`) USING BTREE,
  INDEX `routeId_13`(`routeId`) USING BTREE,
  INDEX `routeId_14`(`routeId`) USING BTREE,
  INDEX `routeId_15`(`routeId`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of route
-- ----------------------------
INSERT INTO `route` VALUES (250, '姑苏游园，经典园林1日游', '苏州以园林而出名，不大的地方有拙政园、留园、狮子林等，各有各的特色，而且距离上海也不远，一天就可以来回，选个空闲的时间去苏州的园林逛逛吧。1天', '1', 2, 'https://pic4.40017.cn/scenery/destination/2016/10/25/14/aKaDVZ.jpg.webp', '经典 逛特色街 春游 错峰 立春 暑假 游览园林');
INSERT INTO `route` VALUES (251, '漫游苏州，经典1日游', '如果你没有太长的时间在苏州停留，这份攻略能让你在一天之内，领略苏州最经典的园林和景点', '1', 1, 'http://pic5.40017.cn/01/001/7b/b2/rBANC1theW2AaTNeAALv4rLCFDk769.jpg', '经典 游览园林 坐游船');
INSERT INTO `route` VALUES (252, '沙家浜、服装城1日游', '沙家浜既有红色革命背景又有优美的自然风光，是常熟著名的旅游景点。坐着游船穿梭于沙家浜的芦苇荡中，欣赏湿地美景，追忆当年红军在芦苇荡中躲避敌军的情景。而常熟服装城购物旅游区则有5000多个品牌的服装服饰等你挑选。一天的行程，带你到沙家浜体验阿庆嫂的革命生涯，到服装城尽情购物。', '1', 2, 'http://pic5.40017.cn/01/001/4f/18/rBLkBVtDLNSAODcjAALEMc0qhfg202.jpg', '经典 购物 红色革命 亲水 场馆参观 坐游船');
INSERT INTO `route` VALUES (253, '历史遗迹、人文故居1日游', '游览常熟别致的江南园林，看地标之一方塔园中的方塔，参观名人故居，在展览馆、博物馆了解常熟深厚的历史底蕴，这条路线带你领略常熟人文魅力。景点与景点间的距离基本在1.5公里以内，但因为常熟的这些景点下午关门比较早，游览的节奏还需紧凑一些。', '1', 1, 'http://pic5.40017.cn/01/001/31/0c/rBLkBVsyB6mAKf1PAAIlgkRhiD8348.jpg', '人文 参观博物馆 场馆参观 游览园林 访古');
INSERT INTO `route` VALUES (254, '周庄自驾1日游', '逛周庄不需要刻意按路线走，随便地一边走一边逛最是惬意的了，周庄内的主要景点由东向西依次是张厅、沈厅，过富安桥或者是双桥后是澄虚道院，之后就到了迷楼。附近还有沈万三故居、沈万三水冢、牌楼塔影、文化街、怪楼等等。途中饿了可以吃一些当地小吃，比如万三蹄、万三糕和全福贡酥等等。当然你也可以选择在周庄住上一晚，笃笃悠悠地看。', '1', 1, 'https://pic5.40017.cn/02/001/2f/0e/rBLkCFswdKGAQ6yUAAEKqNms9ZQ736_540x304_00.jpg', '经典 古镇古村游');
INSERT INTO `route` VALUES (255, '闲庭信步在苏州，经典2日游', '古色古香的园林，平江路、观前街、山塘街一条条老街，漫步苏州，或看水乡居民日常起居，或品尝美食，或扎入琳琅满目的小店带来的繁华中，各有各的不同，各有各的好。', '2', 1, 'http://pic5.40017.cn/01/000/86/13/rBANC1tn63aAZMbNAAJ4_HlXV8E624.jpg', '经典 人文 城镇漫步 访古 逛特色街 游览园林');
INSERT INTO `route` VALUES (256, '登高访古，悠闲2日游', '苏州以人文景点为主，可是看多了难免会腻味，其实苏州也不乏自然景观，本行程有园林、有古寺、有古镇、有山，园林不去总是挤满人的拙政园而去定园，天平山上的乱石头能带来攀爬的乐趣，时间安排上宽松，游览的景点不单调。', '2', 1, 'https://pic5.40017.cn/02/001/50/78/rBANDFtEHsCADfozAAHHfaGuNXQ997_540x304_00.jpg', '经典 访古 古镇古村游 游山/爬山 游览园林');
INSERT INTO `route` VALUES (257, '逛园看塔，苏州休闲2日游', '苏州品味园林之美以及街道的历史文化底蕴~', '2', 1, 'https://pic5.40017.cn/02/001/aa/37/rBLkCVnLSXKAMkVXAAKbcZlh5oE132.jpg', '人文 参观博物馆 逛特色街 品味建筑 游览园林 摄影 亲子 老人 历史');
INSERT INTO `route` VALUES (258, '自驾太湖东、西山2日游', '东、西山位于太湖边，是周末度假出游的好地方。东山以名胜古迹居多，如雕花楼、启园，古紫金庵，三山古文化遗址。西山与东山隔湖相望，以自然风光为主，西山国家森林公园内的缥缈峰为太湖七十二峰之首，二天的时间可以都游览到，晚上还能吃一顿当地的农家菜。', '2', 1, 'https://pic4.40017.cn/scenery/destination/2016/11/03/15/9rW71H_480x270_00.jpg.webp', '吃农家菜 自然');
INSERT INTO `route` VALUES (259, '游虞山尚湖，经典2日游', '两天的时间，带你爬虞山游尚湖，玩得会比较细和全面，绝不走马观花。游览这两个常熟市内具有代表性的景点及周边，是常熟旅游的经典路线，适合绝大多数的游客。', '2', 1, 'https://pic5.40017.cn/01/001/51/21/rBLkBVtEMpOAAcbvAAF_-g5b6hI697_540x304_00.jpg', '经典 访古 祈福 亲水 逛公园 游山/爬山');
INSERT INTO `route` VALUES (260, '游遍苏州，经典景点3日游', '苏州古韵的继承，拙政园、狮子林、山塘街~', '3', 1, 'https://pic5.40017.cn/01/001/86/95/rBLkBVtn9AqAeexeAAJM2UduoD8211_540x304_00.jpg', '人文 城市观光 访古 逛特色街 场馆参观 游览园林 摄影 老人 历史 宗教');

-- ----------------------------
-- Table structure for routedetails
-- ----------------------------
DROP TABLE IF EXISTS `routedetails`;
CREATE TABLE `routedetails`  (
  `routeDetailsId` int(11) NOT NULL AUTO_INCREMENT,
  `routeName` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `Days` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `placeNumber` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `routeIntroduction` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `tripPlace` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `playTime` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `openTime` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `route_routeId` int(11) NOT NULL,
  `rtTitle1` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtTitle2` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtTitle3` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtTitle4` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtIntr1` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtIntr2` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtIntr3` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtIntr4` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `parah` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtImg1` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtImg2` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtImg3` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rtImg4` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `headerImg` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  PRIMARY KEY (`routeDetailsId`) USING BTREE,
  INDEX `fk_routeDetails_route1_idx`(`route_routeId`) USING BTREE,
  CONSTRAINT `routedetails_ibfk_1` FOREIGN KEY (`route_routeId`) REFERENCES `route` (`routeid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 12 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of routedetails
-- ----------------------------
INSERT INTO `routedetails` VALUES (1, '姑苏游园，经典园林1日游', '1', '8个', NULL, '苏州', '2小时', '全年', 250, '拙政园', '苏州园林博物馆', '狮子林', '观前街', '拙政园分为东、中、西三个部分，最展示苏州园林的当属中部，亭台楼阁都很是别致。喜欢苏州园林的框景手法，真像一幅画挂在墙上，去时还遇上些雨，让园子显得别有生机。', '差点和苏州博物馆搞混，在拙政园里面，一定要从里出来才能看，这点很不好。博物馆本身还不错，苏州嘛，本身就是园林甲天下嘛。', '整个园子以形似狮子的假山为主要特点，上一代园主人是贝聿铭家族，园内建筑和风景比较紧凑。节假日人比较多。', '品牌比较杂哦，玄妙观不错。来这里买买特产啊，逛逛商场什么的。属于苏州的一个地标，来了苏州有时间还是应该来这里逛逛。', '苏州以园林而出名，不大的地方有拙政园、留园、狮子林等，各有各的特色，而且距离上海也不远，一天就可以来回，选个空闲的时间去苏州的园林逛逛吧。', 'https://pic5.40017.cn/02/000/79/07/rBANDFtgOvWAAlCRAAKElvXSIsU704_540x304_00.jpg', 'http://pic3.40017.cn/poi/2015/11/23/16/1hjqHE.jpg', 'https://pic5.40017.cn/02/001/aa/89/rBLkCFnLaJmAVqGuAAJvveIjWjY766_540x304_00.jpg', 'http://pic4.40017.cn/poi/2016/06/29/09/a9NSry.jpg', 'https://pic5.40017.cn/01/000/86/0e/rBANC1tn6NGANaKhAAJbWfef4Cc990_240x135_00.jpg');
INSERT INTO `routedetails` VALUES (2, '漫游苏州，经典1日游', '1', '5个', NULL, '苏州', '2-3小时', '2-5月', 251, '拙政园', '狮子林', '盘门', '苏州古运河', '早上先到拙政园逛一逛，租一个讲解器，慢慢感受一下这个中国最著名园林的悠久历史和典雅优美。', '狮子林也是苏州江南名园之一，它离拙政园只有4、5百米的距离，步行即可到达。在狮子林可以欣赏到造型奇特的假山群。', '盘门，在苏州城西南处，古运河之畔。初建于春秋时期，后来经过历朝历代的修建成为现在的盘门。拥有久负盛名的瑞光古塔、独特的水陆城门、享誉海内外的吴门古桥，仍旧保存着他沧桑的历史。', '午餐后，稍事休息，可以从拙政园坐好行观光巴士到胥门游船码头，登上古运河游船，从不同的角度欣赏一下苏州城的风景。', '如果你没有太长的时间在苏州停留，这份攻略能让你在一天之内，领略苏州最经典的园林和景点。', 'https://pic5.40017.cn/01/001/79/16/rBANC1tgOvSAHfmjAAJkmUOiXAg451_540x304_00.jpg', 'https://pic5.40017.cn/02/001/aa/89/rBANDFnLaJmAe_VyAAJrGX1aTIA664_540x304_00.jpg', 'https://pic5.40017.cn/01/001/7c/34/rBLkBVthgJOAZuKyAAKHxG5j0QI307_540x304_00.jpg', 'http://pic5.40017.cn/02/000/86/1a/rBANDFtn-g-AWF49AAHSu7Alg7s970.jpg', 'https://pic4.40017.cn/scenery/destination/2016/10/25/14/aKaDVZ_240x135_00.jpg.webp');
INSERT INTO `routedetails` VALUES (3, '沙家浜、服装城1日游', '1', '6个', NULL, '常熟', '2-3小时', '8-12月', 252, '沙家浜风景区', '沙家浜革命历史纪念馆', '方塔园', '尚湖风景区', '位于阳澄湖畔，因京剧样板戏《沙家浜》出名，拥有“芦花放，稻谷香，岸柳成行”的江南水乡田园风光。目前已建成革命传统教育区、水生植物观赏区、红石民俗文化村、芦苇荡、美食购物区等功能区域和竹林幽径、阡陌苇香、柳堤闻浪、隐湖问渔、双莲水暖等一批景点。', '爱国主义教育基地，馆内陈列着革命文物、历史图片等。以图文介绍、实物展示等方式再现了当年沙家浜抗日军民共同抗敌的感人事迹和今日沙家浜新貌。', '方塔园，位于常熟古城区东，方塔园主景点是崇教兴福寺塔，原名崇教宝塔，俗名方塔。塔院内有古银杏一株，古井一口，皆宋代遗物。1977年起，于院内建镜花阁、雨香堂及亭榭、茶室，堆筑“舒袖”、“展翅”假山，移植花木，辟为方塔公园，并 将大东门总官庙的一座大殿移建于塔寺旧址。', '尚 湖因商末姜尚（姜子牙）在此隐居垂钓而得名，主体水面约800公顷，烟波浩渺，水质清澈，与十里虞山交相辉映，形成一幅自然山水画。', '沙家浜既有红色革命背景又有优美的自然风光，是常熟著名的旅游景点。坐着游船穿梭于沙家浜的芦苇荡中，欣赏湿地美景，追忆当年红军在芦苇荡中躲避敌军的情景。而常熟服装城购物旅游区则有5000多个品牌的服装服饰等你挑选。一天的行程，带你到沙家浜体验阿庆嫂的革命生涯，到服装城尽情购物。', 'https://pic5.40017.cn/02/001/4f/1f/rBLkCVtDLNOAQQZ-AAF-qx3uI9k731_540x304_00.jpg', 'http://pic3.40017.cn/poi/2015/12/15/15/oYz7qG.jpg', 'https://pic5.40017.cn/02/000/50/cc/rBANDFtESg-ASne6AAEhWclmQJM587_540x304_00.jpg', 'http://pic5.40017.cn/01/001/c3/ba/rBLkBVrpXNOAB_mJAAKMKgT1u5w766.jpg', 'https://pic5.40017.cn/01/001/4f/18/rBLkBVtDLNSAODcjAALEMc0qhfg202_240x135_00.jpg');
INSERT INTO `routedetails` VALUES (4, '历史遗迹、人文故居1日游', '1', '7个', NULL, '常熟', '2小时', '8-12月', 253, '曾赵园', '燕园', '梅李聚沙园', '常熟博物馆', '曾园和赵园相互毗邻，两园前身为明万历御史钱岱所筑的“小辋川”的部分遗址。曾园，又名虚廊园，清末小说家曾朴在此园内创作了名著《孽海花》。赵园，又名水吾园，为清咸丰年间赵烈文辞官寓居常熟后重建。两园皆以水景取胜，亭台楼阁环池而筑，并借景虞山，站在园内，能看到江南园林式建筑为前景，虞山为远景，别具匠心。', '位于常熟古城区，一说：为清朝台湾知府蒋元枢所建，初名“蒋园”。后为其侄泰安县令蒋因培所有，延清叠石名家晋陵戈裕良叠黄石假山一座，取名“燕谷”，园因名“燕园”。一说：乾隆四十五年，当时任福建台澎观察使兼学政的蒋元枢，渡海遇险，回常熟后，取其回常似“燕归来”之意，故名燕园。', '午饭推荐不远处西门大街上的大方圆酒家，餐厅主打苏州当地美味佳肴，金牌花雕鸡酥嫩入味，天目湖鱼头鲜嫩无比，汤汁非常好喝。', '聚沙园位于梅李中心镇区东侧，占地面积64000平方米，因全园主体为始建于南宋的《聚沙百福宝塔》而得名。\r\n园内设有屏山听泉、聚沙塔影、古木清风、莲峰谈艺、孝廉梅李、名家碑刻回廊、名胜古迹展厅、中共常熟县委重建的常熟人民抗日武装纪念碑、健身中心、茶座等旅游景点和休闲场所。', '游览常熟别致的江南园林，看地标之一方塔园中的方塔，参观名人故居，在展览馆、博物馆了解常熟深厚的历史底蕴，这条路线带你领略常熟人文魅力。景点与景点间的距离基本在1.5公里以内，但因为常熟的这些景点下午关门比较早，游览的节奏还需紧凑一些。', 'http://pic.lvmama.com//uploads/pc/place2/2014-10-10/1412945243865_480_320.jpg', 'http://pic.lvmama.com//uploads/pc/place2/2014-11-20/1326b690-6a4a-4b66-9bf4-bf7d21aba7b7_480_320.jpg', 'http://pic.lvmama.com//uploads/pc/place2/162331/1408350193662_480_320.jpg', 'https://ps.ssl.qhimg.com/sdmt/240_132_100/t012bd29a981c23ce5c.webp', 'https://pic3.40017.cn/scenery/destination/2015/04/18/04/OAC6Z1_240x135_00.jpg.webp');
INSERT INTO `routedetails` VALUES (5, '周庄自驾1日游', '1', '10个', NULL, '周庄', '3小时', '1-5月', 254, '沈万三故居', '张厅', '沈厅', '千灯古镇', '可以来感受一下那个年代土豪的生活，还是有点看头的，不过我现在只记得万三蹄了。', '从沈万三故居出来朝西走，看 可以到这座保存完好的老建筑，周庄的一个景点，以前一个大户人家的宅子，谈不上有多值得一看，但来都来了不妨一看。', '从张厅出发，走不多远，就来到沈厅，古色古香，别具一番风味。就是去的时候正好是节假日游客比较多，不能细细游览，有点遗憾。', '千灯古镇，是著名的历史文化古镇，距今已有二千五百年的历史，远在新石器时代，这里已有先氏生存繁衍，创造了灿烂的 史前文明。同时又是明末清初杰出的思想家、文学家、爱国学者顾炎武先生的故乡，其名言“天下兴亡，匹夫有责 ”一直激励着天下无数仁人志士', '逛周庄不需要刻意按路线走，随便地一边走一边逛最是惬意的了，周庄内的主要景点由东向西依次是张厅、沈厅，过富安桥或者是双桥后是澄虚道院，之后就到了迷楼。附近还有沈万三故居、沈万三水冢、牌楼塔影、文化街、怪楼等等。途中饿了可以吃一些当地小吃，比如万三蹄、万三糕和全福贡酥等等。当然你也可以选择在周庄住上一晚，笃笃悠悠地看。', 'http://pic3.40017.cn/poi/2015/11/02/10/eKsy3w.jpg', 'http://pic3.40017.cn/poi/2015/10/30/18/Va417z.jpg', 'http://pic3.40017.cn/poi/2015/10/30/18/926nlT.jpg', 'https://pic5.40017.cn/02/000/73/51/rBANDFqz0MaAVCrzAAK6jldzEgE637_540x304_00.jpg', 'http://pic5.40017.cn/01/001/2e/92/rBANC1swdKCAPJCpAAIe-nqQE1o411.jpg');
INSERT INTO `routedetails` VALUES (6, '闲庭信步在苏州，经典2日游', '2', '11个', NULL, '苏州', '2-3小时', '全年', 255, '山塘古街', '苏州博物馆', '耦园', '观前街', '山塘街始建于公元825年，距今已有千余年的历史。大诗人白居易来苏州担任刺史。他组织民工疏通山塘河并顺势拓展了河提，供车马往来驱驰。自此，兼具交通旅游双重功能的山塘街就横亘在市区和虎丘之间了。山塘街自建成以来，便以其秀丽的水乡风光成为旅游胜地。', '拙政园旁边就是苏州博物馆，博物馆由著名建筑师贝聿铭设计，包括2006年起开放的新馆和太平天国忠王府古建筑（旧馆）两部分，整个博物馆就像一座小园林。博物馆很有看头，一定要留足时间参观。整个造型非常漂亮，结合了现代艺术与苏州古典美，同时也不要错过镇馆之宝越窑秘色瓷莲花碗、真珠舍利宝幢。', '平江路有两家狐狸家手工酸奶酪，这家在拙政园到平江路的路口上，从拙政园步行可以到达，另一家在街道南边的更深处。手工酸奶是路口这家的主打。', '耦园位于苏州古城东北隅。园始建于清初，原为保宁太守陆锦之涉园，又名小郁林。同治十三年（1874年），由时任苏淞太道道台沈秉成购得，大事扩建，始成今状。因夫妇偕隐于此，更名耦园。', '古色古香的园林，平江路、观前街、山塘街一条条老街，漫步苏州，或看水乡居民日常起居，或品尝美食，或扎入琳琅满目的小店带来的繁华中，各有各的不同，各有各的好。', 'http://pic.lvmama.com//uploads/pc/place2/2017-11-28/e039b4ce-77f8-464e-b648-ca1456cf8972_480_320.jpg', 'http://pic.lvmama.com//uploads/pc/place2/2017-08-16/14fc3fd3-a7ce-4fce-b4ee-2047f49272c9_480_320.jpg', 'https://pic5.40017.cn/02/000/31/8f/rBLkCVlx0qGAdLj2AALeB78yNgs001_540x304_00.jpg', 'https://pic4.40017.cn/poi/2016/06/29/09/a9NSry.jpg.webp', 'https://dimg19.c-ctrip.com/images/100d0h0000008s394800B_D_180_180.jpg');
INSERT INTO `routedetails` VALUES (7, '登高访古，悠闲2日游', '2', '5个', NULL, '苏州', '4-5小时', '8-12月', 256, '虎丘', '定园', '寒山寺', '木渎古镇', '虎丘景点不大，但是小景点非常密集，而且每处景点都有一段历史典故。虎丘最有名的当属剑池和云岩寺塔，剑池相传是吴王阖闾之墓，站在剑池边，感觉一股寒气迎面而来。云岩寺塔即虎丘斜塔，是苏州的地标。', '定园名气并不大，面积却不小，该园是刘伯温辞官至苏州定居后修建的，在此基础上至清代又经过几次翻修扩建，差不多达到今天的面积。凭票在定园内可以免费乘坐摇橹船和品茶，感觉和市中心动辄要收园中票的景点相比还算不错。', '冲着唐代张继“姑苏城外寒山寺、夜半钟声到客船”的诗句，打车去寒山寺，一为游玩，二为祈福。寺庙不大，游人很多。如果不想买佛教纪念品，就不要进商店，否则营业员说起你与佛有缘之类的话，总能让人自掏腰包。', '以园林为特色的古镇，游古典园林严家花园、虹饮山房、古松园、榜眼府第。坐游船行于其历史可追溯至春秋的河道上，听船娘用吴语唱歌。石家饭店吃最正宗的鲃肺汤，乾生元品馅多料实在的枣泥麻饼！', '苏州以人文景点为主，可是看多了难免会腻味，其实苏州也不乏自然景观，本行程有园林、有古寺、有古镇、有山，园林不去总是挤满人的拙政园而去定园，天平山上的乱石头能带来攀爬的乐趣，时间安排上宽松，游览的景点不单调。', 'https://pic5.40017.cn/01/000/6a/c2/rBLkBVusfWSAGnUkAAdaeirLcIw591_800x475_00_540x304_00.jpg', 'http://pic.lvmama.com//uploads/pc/place2/2014-10-16/1413454299156_480_320.jpg', 'https://pic4.40017.cn/scenery/destination/2016/10/21/15/v7cfsv_260x200_00.jpg', 'https://pic4.40017.cn/scenery/destination/2016/09/18/13/F3mWZr_260x200_00.jpg', NULL);
INSERT INTO `routedetails` VALUES (8, '逛园看塔，苏州休闲2日游', '2', '6个', NULL, '苏州', '3-4小时', '7-10月', 257, '同里古镇', '留园', '静思园', '虎丘', '同里古镇为江南六大水乡之一，位于江苏省吴江区的东部，北离苏州18公里，东距上海80公里。同里核心景区退思园是全国文保单位。并列入“世界文化遗产”名录。一个名园，进思尽忠；退思补过，感受退思园的素净淡雅。', '留园是中国四大园林之一，它是清代建筑风格，以园内建筑布置精巧、奇石众多而知名。现园分四部分，东部以建筑为主，中部为山水花园，西部是土石相间的大假山，北部则是田园风光。曾经有不少古装戏都在这里取过景', '静思园占地百余亩，为江南一带有名的私家园林。园中建筑沿袭苏州古典园林文脉，开拓创新。既有苏州园林的小巧别致，又有皇家园林的宏大气派。为当代民营企业家陈金根先生之私家园林。1993年开始建造，历时十年建成。2003年向社会开放。园名“静思”乃宁静思远之意。', '虎丘斜塔，堪比比萨斜塔，个人觉得比后者更有震撼力。塔身是砖石结构，由于风化等侵蚀，整个塔身显得特别沧桑感。另外虎丘还有吴王的剑池等景点。整个虎丘景区颇大，走遍的话起码要大半天。', '苏州品味园林之美以及街道的历史文化底蕴~', 'http://pic5.40017.cn/01/000/6e/dc/rBLkBVqwzMGAK2IlAALNYvCSivI112.jpg', 'https://pic5.40017.cn/01/001/86/83/rBLkBVtn6NKAYfy8AAJsDJ1Jwew236_540x304_00.jpg', 'http://pic5.40017.cn/01/000/30/97/rBANC1syB6uACuFxAAJMfQdPpmY568.jpg', 'https://dimg19.c-ctrip.com/images/100d0h0000008s394800B_D_180_180.jpg', NULL);
INSERT INTO `routedetails` VALUES (9, '自驾太湖东、西山2日游', '2', '4个', NULL, '苏州', '2-3小时', '全年', 258, '洞庭东山', '东山雕花楼', '西山', '缥缈峰', '苏州东山是个不错的选择。尝尝土鸡、虾蟹、湖鲜，尽情享受农家乐的生活。', '东山岛的标志建筑，刚刚大修过，雕刻很有特色，工艺精湛，值得看看！', '太湖西山岛现在已经是苏州人周末休闲度假必选地了。吃个农家了，逛逛古村，賞赏太湖美景，采采水果，特别惬意的周末。', '是虚无缥缈的意思吗。爬上来的话，赶上雾霾天，那真的就是若隐若现，虚无缥缈了呀，说实话还不是很好，有点跟不上的设施。', '东、西山位于太湖边，是周末度假出游的好地方。东山以名胜古迹居多，如雕花楼、启园，古紫金庵，三山古文化遗址。西山与东山隔湖相望，以自然风光为主，西山国家森林公园内的缥缈峰为太湖七十二峰之首，二天的时间可以都游览到，晚上还能吃一顿当地的农家菜。', 'http://pic5.40017.cn/01/001/95/f5/rBANC1rJjXuAdsU8AAMFnxiKSgE639.jpg', 'https://pic5.40017.cn/02/000/ea/d0/rBANDFkS3keAYFKnAAQAAHBTqpc783_540x304_00.JPG', 'https://pic5.40017.cn/02/000/ea/ab/rBANDFkS1DWAQOrSAAQAAKoY-rA350_540x304_00.jpg', 'http://pic5.40017.cn/01/000/51/19/rBLkBVtELgiAfSMxAAIRYmUfH6s215.jpg', NULL);
INSERT INTO `routedetails` VALUES (10, '游虞山尚湖，经典2日游', '2', '10个', NULL, '常熟', '3-4小时', '1-6月', 259, '虞山景区', '尚湖风景区', '方塔园', '蒋巷村', '虞山紧邻尚湖，位于其北侧，最高海拔263米，爬到山顶可俯看波光粼粼的尚湖，及常熟城市景致。山上有公路，可以开车，不过还是步行游览更佳，能更细致地欣赏沿途风景，再加上景区内绿树成荫，漫步其中十分惬意。', '尚湖相传因商末姜尚避纣王暴政，隐居于此垂钓而得名。景区内有近千亩的湿地，遍布池杉、芦苇、蒲草，良好的生态成了鸟禽的天堂。湖上可以坐游船，掠过水面的鸟儿一定会带给你惊喜。景区内还会举办牡丹花展、灯会等活动。', '方塔园，位于常熟古城区东，方塔园主景点是崇教兴福寺塔，原名崇教宝塔，俗名方塔。塔院内有古银杏一株，古井一口，皆宋代遗物。', '公园内亭台楼阁、池塘、假山都有，有点江南园林的感觉。旧时景点主要有中山厅、民众教育馆、北廊草堂、湖心亭、九曲桥、双茆亭、挹秀山房、新亭、栗里、环翠小筑、饮绿轩等。园内还有个虞山公园动物园，动物园不大，动物品种也不是很多，但是常熟唯一的一个动物园。', '蒋巷村，江南水乡一颗璀璨明珠，位于江苏省常熟市的东南，紧邻沙家浜红色旅游风景区，处于苏嘉杭、沿江、苏州绕城等高速公路的环抱之中，3分钟可上高速公路，204国道、锡太一级公路交叉经过镇区，旅游交通条件十分便捷。', 'https://pic4.40017.cn/scenery/destination/2016/10/25/16/qIq4r6_240x135_00.jpg.webp', 'https://pic4.40017.cn/scenery/destination/2016/07/23/19/JECinC_240x135_00.jpg.webp', 'https://pic5.40017.cn/01/001/50/db/rBANC1tESg-AEAKwAAGGxrkRf60389_540x304_00.jpg', 'https://pic4.40017.cn/scenery/destination/2017/03/17/20/Xx1IbI_540x304_00.jpg', NULL);
INSERT INTO `routedetails` VALUES (11, '游遍苏州，经典景点3日游', '3', '6个', NULL, '苏州', '4-5小时', '全年', 260, '金鸡湖', '同里国家湿地公园', '雨花胜境', '苏州上方山国家森林公园', '金鸡湖是苏州目前大力开发的一个旅游景点，集自然湖景风光和消费购物游乐于一体。这里既有自然湖景风光，也有游乐场，还有shopping mall，可谓符合各类人群的需求。晚上华灯初上的金鸡湖也是相当迷人的，坐上摩天轮俯瞰金鸡湖感觉相当好', '不同风格的竹子在这里相遇，一如南方的秀气修长，一如北方的壮美深邃，像是南方和北方在此处相会。一杯香茗，窗外满眼的苍翠欲滴，耳边是沙沙的声音，走进一个安静的世界。', '雨花胜境位于太湖东岸的东山镇附近，是东山历史悠久，风光秀丽，面积较大的游览景区，是省级森林公园。', '这里是由山与水绘成的画卷，在远离都市喧嚣的角落里，静静藏着原生态的景致。这里有秀丽的山水洗净你身上的疲惫，缤纷的花海扮靓你的心情，还有文人雅士的遗风放松你忙碌的脚步。', '苏州古韵的继承，拙政园、狮子林、山塘街~', 'https://pic5.40017.cn/01/001/16/07/rBLkBVvOipqAQGyGAADRq07M8iE860_240x135_00.jpg', 'https://pic5.40017.cn/03/000/61/ac/rBANB1u8fUaAb-WXAAJ-GgEu-yA322_540x304_00.jpg', 'https://pic5.40017.cn/02/000/61/e6/rBLkCFtO4FKAPV8dAALmts3J-7Y397.jpg', 'https://pic5.40017.cn/01/001/50/a1/rBANC1tELC-ARdkpAAFhtzFdtFY505_540x304_00.jpg', NULL);

-- ----------------------------
-- Table structure for scenic
-- ----------------------------
DROP TABLE IF EXISTS `scenic`;
CREATE TABLE `scenic`  (
  `scenicId` int(11) NOT NULL AUTO_INCREMENT,
  `scenicName` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `tese` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `timeArrange` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicLevel` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `hotScenic` int(11) NOT NULL,
  `scenicAddress` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `openHours` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicImage` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicIntroduce` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicLocation_scenicLocationId` int(11) NOT NULL,
  PRIMARY KEY (`scenicId`) USING BTREE,
  INDEX `fk_scenic_scenicLocation1_idx`(`scenicLocation_scenicLocationId`) USING BTREE,
  INDEX `scenicId`(`scenicId`) USING BTREE,
  INDEX `scenicId_2`(`scenicId`) USING BTREE,
  INDEX `scenicId_3`(`scenicId`) USING BTREE,
  INDEX `scenicId_4`(`scenicId`) USING BTREE,
  INDEX `scenicId_5`(`scenicId`) USING BTREE,
  INDEX `scenicId_6`(`scenicId`) USING BTREE,
  INDEX `scenicId_7`(`scenicId`) USING BTREE,
  INDEX `scenicId_8`(`scenicId`) USING BTREE,
  INDEX `scenicId_9`(`scenicId`) USING BTREE,
  INDEX `scenicId_10`(`scenicId`) USING BTREE,
  INDEX `scenicId_11`(`scenicId`) USING BTREE,
  CONSTRAINT `scenic_ibfk_1` FOREIGN KEY (`scenicLocation_scenicLocationId`) REFERENCES `sceniclocation` (`sceniclocationid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 422 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of scenic
-- ----------------------------
INSERT INTO `scenic` VALUES (350, '苏州市天平山风景名胜区', '四大赏枫地之一，江南胜境', '', '4A景区', 1, '江苏省苏州市吴中区灵天路 ', '7:30-17:00', 'https://pic5.40017.cn/01/000/08/f6/rBLkBlsffHqAYTNRAAMQePZ57xw462_540x304_00.jpg', '', 1);
INSERT INTO `scenic` VALUES (351, '穹窿山(苏州太湖旅游区)', '登上吴中之巅眺望秀美太湖', '', '4A景区', 1, '江苏省苏州市吴中区穹窿山风景区苏州绕城高速光福路出口下1公里', '8:30-16:30，入园时间截止16:00。', 'https://pic4.40017.cn/scenery/destination/2016/07/13/14/7mtN1h.jpg.webp', '', 1);
INSERT INTO `scenic` VALUES (352, '甪直古镇', '有一个地方，只可身临，不可听说', '', '4A景区', 1, '江苏省苏州城东南25公里', '8:00-17:00（游船时间：8:30-16:00）', 'https://pic4.40017.cn/scenery/destination/2016/10/21/17/ZeMyeT.jpg.webp', '', 1);
INSERT INTO `scenic` VALUES (353, '苏州太湖湖滨国家湿地公园', '和你一起去吹吹风', NULL, '5A景区', 1, '江苏省苏州市吴中区胥香路和环太湖大道交汇处苏州太湖湖滨国家湿地公园', '8:30-17:00；游船营业时间：9:00-15:30', 'https://pic4.40017.cn/scenery/destination/2016/11/01/16/Mls3GH.jpg.webp', NULL, 1);
INSERT INTO `scenic` VALUES (354, '东山雕花楼', '精雕细琢，处处精致，探秘江南富商私家宅院', NULL, '5A景区', 1, '江苏省苏州市吴中区东山镇紫金路58号', '8:30-17:00', 'https://pic4.40017.cn/scenery/destination/2016/11/03/15/9rW71H.jpg.webp', NULL, 1);
INSERT INTO `scenic` VALUES (355, '苏州上方山国家森林公园', '来上方山体验远离都市喧嚣的山水景致', NULL, '4A景区', 1, '江苏省苏州市高新区横塘镇吴越路行春桥堍', '07:00-16:30', 'https://pic4.40017.cn/scenery/destination/2016/07/23/21/MpkImG.jpg.webp', NULL, 1);
INSERT INTO `scenic` VALUES (356, '重元寺', '阳澄湖畔的千年古刹', NULL, '4A景区', 1, '江苏省苏州工业园区唯亭阳澄湖半岛慈云路333号', '07:30-17:00', 'https://pic4.40017.cn/scenery/destination/2016/07/21/16/uc3rY0.jpg.webp', NULL, 2);
INSERT INTO `scenic` VALUES (357, '华谊兄弟电影世界', '电影实景新玩法，超越乐园新体验', NULL, '4A景区', 1, '江苏省苏州市工业园区阳澄湖半岛度假区 ', '09:30~17:30', 'http://pic5.40017.cn/02/001/f8/c0/rBLkCVvAE9WAbLxdAAJo_OarUX8615.jpg', NULL, 2);
INSERT INTO `scenic` VALUES (358, '苏州半岛薰衣草庄园', '半岛薰衣草，源自法国普罗旺斯的浪漫情怀。', NULL, '4A景区', 1, '江苏省苏州市工业园区阳澄环路999号', '09:00-16:30', 'https://pic5.40017.cn/01/000/fa/40/rBANC1vAcAeAQj53AAG1cU6-vI4742.jpg', NULL, 2);
INSERT INTO `scenic` VALUES (359, '苏州阳澄湖半岛旅游度假区', '漫步阳澄湖畔，找到属于自己的风景', NULL, '4A景区', 1, ' 江苏省苏州工业园区阳澄湖环路999号阳澄湖半岛星华街游客中心 ', '9:00-17:00', 'https://pic5.40017.cn/02/001/df/04/rBLkCVr7r02AcNPzAAHYg2jgdwg076.jpg', NULL, 2);
INSERT INTO `scenic` VALUES (360, '苏州麦鲁小城', '一座迷你版的儿童城市', NULL, '4A景区', 1, '江苏省苏州工业园区圆融时代广场生活休闲区E棟圆融童乐园301室', '10:00-14:00', 'https://pic5.40017.cn/02/000/8f/18/rBANDFlCODCAeeNwAAQAAHMiFq4457.jpg', NULL, 2);
INSERT INTO `scenic` VALUES (361, '金鸡湖夜游', '万倾太湖一支脉，一泓碧波好风光.', NULL, '4A景区', 1, '江苏省苏州市工业园区金鸡湖月光码头或湖西望湖阁码头', '19:30（周一至周五）和19:00（周六至周日）', 'https://pic5.40017.cn/02/000/86/ab/rBLkCFtn_deAScPpAAFkwFtgVWk282_540x304_00.jpg', NULL, 2);
INSERT INTO `scenic` VALUES (362, '白马涧 ', '灵山秀水，城市绿肺', NULL, '4A景区', 1, '江苏省苏州新区枫桥街道白马涧生态园龙池风景区', '9:00-17:00', 'https://pic4.40017.cn/scenery/destination/2016/07/12/10/oJTgWM.jpg.webp', NULL, 3);
INSERT INTO `scenic` VALUES (363, '江苏大阳山国家森林公园文殊寺景区', '吴之镇山，护卫着曾经的吴国之都。', NULL, '4A景区', 1, '江苏省苏州市新区浒墅关经济开发区阳山环路8号', '09:00-16:30（15:30截止换票入园）', 'https://pic4.40017.cn/scenery/destination/2016/07/20/16/K13QwY.jpg.webp', NULL, 3);
INSERT INTO `scenic` VALUES (364, '苏州太湖国家湿地公园', '现代水上田园自然生态', NULL, '4A景区', 1, '江苏省苏州高新区镇湖绣品街1号', '9:00-16:30', 'https://pic5.40017.cn/01/001/51/1d/rBLkBVtEL9WAdCAzAAJNRuHB9yM811.jpg', NULL, 3);
INSERT INTO `scenic` VALUES (365, '大阳山国家森林公园植物园景区', '城市绿肺，植物王国', NULL, '4A景区', 1, '江苏省苏州市高新区浒墅关开发区南阳山路', '9:00-16:30（15:30截止换票入园）', 'https://pic5.40017.cn/01/000/80/13/rBANC1q8o0uAfKPcAALZ63DSlyA854.jpg', NULL, 3);
INSERT INTO `scenic` VALUES (366, '阳山温泉度假山庄', '依山而建，自然环境较佳，毗邻著名树山景区', NULL, '4A景区', 1, '江苏省苏州浒墅关经济开发区阳山环路999号（石阳路往北到底）', '13:00-22:00', 'https://pic5.40017.cn/01/001/0e/c7/rBLkBlujaZ6AD_8RAAL7xm6tU6c931.jpg', NULL, 3);
INSERT INTO `scenic` VALUES (367, '白鹤寺', '历史上的白鹤寺是在阳山的白鹤峰下', NULL, '4A景区', 1, '江苏苏州市虎丘区枫桥街道马涧路高景山 ', ' 8:00-16:00\r\n\r\n8:00-16:00', 'https://pic5.40017.cn/02/000/a5/9d/rBANDFt75z-AdnKwAATzn0dVNJ8918_800x475_00.jpg', NULL, 3);
INSERT INTO `scenic` VALUES (368, '周庄', '水与桥，茶与戏，有一种生活叫周庄', NULL, '5A景区', 1, '江苏省苏州市昆山周庄全福路43号', '7:30-19:50', 'http://pic5.40017.cn/01/001/67/7b/rBANC1usUkKAIKEOAAIS8rNPtX4402.jpg', NULL, 4);
INSERT INTO `scenic` VALUES (369, '千灯古镇', '水乡情怀，风雅古镇', NULL, '4A景区', 1, '江苏省昆山市千灯古镇尚书路1号 ', '8:30-16:30', 'https://pic5.40017.cn/02/001/73/dc/rBLkCFqz0MOAAzDUAAMQ2NckJSQ928.jpg', NULL, 4);
INSERT INTO `scenic` VALUES (370, '锦溪 ', '漫步长廊看湖水缱绻，走过老街探水乡风情', NULL, '4A景区', 1, '江苏省昆山市锦溪镇', '8:00-17:00', 'https://pic4.40017.cn/scenery/destination/2016/10/31/17/5HL5ES.jpg.webp', NULL, 4);
INSERT INTO `scenic` VALUES (371, '阳澄湖水上公园游乐场', '巴解园和宝贝一起开心玩耍', NULL, '4A景区', 1, '江苏省昆山市巴城镇阳澄湖旅游度假区北门游乐场售票处', '9:00-17:00', 'https://pic5.40017.cn/01/001/b8/0f/rBLkBVrhOEGAFysuAAGHsWkdmDQ107.jpg', NULL, 4);
INSERT INTO `scenic` VALUES (372, '周庄绿乐园', '打造亲子欢笑的幸福时光', NULL, '4A景区', 1, '江苏省苏州市昆山市全旺路88号绿乐园', '8:00-17:30（暑期延长到19:00）\r\n', 'https://pic5.40017.cn/01/000/53/bd/rBLkBVtFyZiAJHsWAAE-zvWWv4I780.jpg', NULL, 4);
INSERT INTO `scenic` VALUES (373, '周庄生命奥秘博物馆', '带你探秘生命的起源', NULL, '3A景区', 1, '江苏省苏州昆山市周庄镇大桥路82号', '9:00-17:00', 'https://pic4.40017.cn/scenery/destination/2016/10/24/10/Ko8yg9.jpg.webp', NULL, 4);
INSERT INTO `scenic` VALUES (374, '莲花岛景区', '赏阳澄湖自然风光，吃原汁原味大闸蟹', NULL, '4A景区', 1, '江苏省苏州市阳澄湖旅游集散中心 ', '9:00-16:30', 'https://pic4.40017.cn/scenery/destination/2017/03/14/13/s3PdH0.jpg.webp', NULL, 5);
INSERT INTO `scenic` VALUES (375, '荷塘月色湿地公园', '长三角荷花主题湿地公园', NULL, '4A景区', 1, '江苏省苏州市相城区太阳路西4575号（与广济北路交汇口西）', '8:30-16:30', 'https://pic5.40017.cn/02/001/86/94/rBLkCFtn7sWAdtjoAALA6E8IXMU299.jpg', NULL, 5);
INSERT INTO `scenic` VALUES (376, '苏州中国花卉植物园', '花卉为主题，种植花卉植物2000多个品种', NULL, '4A景区', 1, '江苏省苏州市相城区太阳路', '8:30-16:30', 'https://pic4.40017.cn/scenery/destination/2016/12/31/15/jQg2i5.jpg.webp', NULL, 5);
INSERT INTO `scenic` VALUES (377, '盛泽湖月季园', '留生态湿地，成就江南一场烟雨菲红的漫步', NULL, '3A景区', 1, '江苏省苏州相城区盛泽湖休闲度假区', '8:30–17:00', 'https://pic5.40017.cn/02/000/4d/11/rBLkCFqh7pyAHAaKAAJJdjPLgeA554.jpg', NULL, 5);
INSERT INTO `scenic` VALUES (378, '张家港市暨阳湖欢乐世界', '暨阳湖儿童为主、老少皆宜的综合性游乐园', NULL, '3A景区', 1, '江苏省张家港市杨舍镇暨阳湖生态园区', '09:00 - 17:00', 'https://pic4.40017.cn/scenery/destination/2016/10/13/14/7eVRxJ.jpg.webp', NULL, 6);
INSERT INTO `scenic` VALUES (379, '香山景区', '香山是名人之山、王者之山', NULL, '4A景区', 1, '江苏省苏州市张家港市南沙镇望江路', '04：30—21：30', 'https://pic4.40017.cn/scenery/destination/2016/10/27/15/t9ZV7P.jpg.webp', NULL, 6);
INSERT INTO `scenic` VALUES (380, '河阳山歌馆', '唱一曲河阳山歌，演一段中国的诗乐史', NULL, '4A景区', 1, ' 江苏省张家港市凤凰镇河阳山歌馆', '8:30- 16:30', 'https://pic4.40017.cn/scenery/destination/2016/10/25/10/md9SxT.jpg.webp', NULL, 6);
INSERT INTO `scenic` VALUES (381, '恬庄古街', '古街慢生活，缱绻旧时光', NULL, '4A景区', 1, ' 江苏省张家港市凤凰镇恬庄古街 ', '8:30-16:30', 'https://pic4.40017.cn/scenery/destination/2016/10/19/11/f8q5xm.jpg.webp', NULL, 6);
INSERT INTO `scenic` VALUES (382, '金凤凰温泉度假村', '又称“青春不老泉”', NULL, '4A景区', 1, '江苏省苏州张家港市凤凰镇金谷路 ', '13:00-22:00', 'https://pic3.40017.cn/scenery/destination/2015/04/18/13/8OjzTk.jpg.webp', NULL, 6);
INSERT INTO `scenic` VALUES (383, '张家港梦幻海洋王国', '光与影的交错，色彩斑斓的海洋风情', NULL, '4A景区', 1, '江苏省苏州市张家港市吾悦广场负一层', '10:00-20:00', 'https://pic4.40017.cn/scenery/destination/2016/10/19/15/foeOri.jpg.webp', NULL, 6);
INSERT INTO `scenic` VALUES (384, '太仓郑和公园', '以郑和为主题多元一体化新型滨江公园。', '', '4景区', 1, '江苏省太仓市太仓港经济技术开发区南环路1号太仓郑和公园', '8:00-17:00', 'https://pic5.40017.cn/01/001/7b/88/rBANC1thaiuAWDegAAJ5RYwtxR0571.jpg', '', 7);
INSERT INTO `scenic` VALUES (385, '太仓现代农业园', '农业高科技窗口基地和旅游观光点。', NULL, '4A景区', 1, '江苏省苏州市太仓市沙溪镇岳王区新港公路南侧', '8:45-17:15', 'https://pic3.40017.cn/scenery/destination/2015/06/08/14/DWnCrf.jpg.webp', NULL, 7);
INSERT INTO `scenic` VALUES (386, '沙溪古镇', '一名沙头，又名印溪、团溪、七溪', NULL, '4A景区', 1, ' 江苏省苏州市太仓市沙溪古镇白云路', '8:30-17:00', 'https://pic4.40017.cn/scenery/destination/2016/07/20/16/s6gqrI.jpg.webp', NULL, 7);
INSERT INTO `scenic` VALUES (387, '沙家浜 ', '风起芦苇荡，蟹动沙家浜', NULL, '5A景区', 1, '江苏省苏州市常熟市沙家浜镇锡太公路', '8:00-16:15', 'https://pic5.40017.cn/01/001/4f/18/rBLkBVtDLNSAODcjAALEMc0qhfg202.jpg', NULL, 8);
INSERT INTO `scenic` VALUES (388, '梅李聚沙园', '集文化娱乐、体育活动、休息游览于一体。', NULL, '4A景区', 1, '江苏省常熟市梅李镇梅东路1号 ', '8:00-16:00', 'https://pic3.40017.cn/scenery/destination/2015/04/18/04/OAC6Z1.jpg.webp', NULL, 8);
INSERT INTO `scenic` VALUES (389, '常熟虞山风景区 ', '七溪流水皆通海，十里青山半入城', NULL, '5A景区', 1, '江苏省苏州市常熟市虞山南路宝岩生态园东门', '8:00-16:00', 'https://pic4.40017.cn/scenery/destination/2016/10/25/16/qIq4r6.jpg.webp', NULL, 8);
INSERT INTO `scenic` VALUES (390, '尚湖风景区 ', '9.22-9.24尚湖夜公园', NULL, '5A景区', 1, '江苏省苏州市常熟市虞山镇外西三环路尚湖景区 ', '8:10-16:10', 'https://pic4.40017.cn/scenery/destination/2016/07/23/19/JECinC.jpg.webp', NULL, 8);
INSERT INTO `scenic` VALUES (391, '蒋巷村', '蒋巷村，江南水乡一颗璀璨明珠', NULL, '4A景区', 1, '江苏省苏州市常熟市支塘镇蒋巷村', '8:00 - 16:00', 'https://pic3.40017.cn/scenery/destination/2015/04/18/15/2BL8oQ.jpg.webp', NULL, 8);
INSERT INTO `scenic` VALUES (392, '方塔园', '极目俯瞰，一览虞山古城，美景尽收眼底', NULL, '3A景区', 1, ' 江苏省苏州市常熟市环城东路靠近新颜桥', '8:00-16:00', 'https://pic4.40017.cn/scenery/destination/2016/10/26/09/JB3qiU.jpg.webp', NULL, 8);
INSERT INTO `scenic` VALUES (393, '拙政园', '江南园林典范，天下园林之母', '', '5A景区', 1, '江苏省苏州市平江区东北街178号', '7:30-17:30', 'http://pic5.40017.cn/01/001/79/16/rBANC1tgOvSAHfmjAAJkmUOiXAg451.jpg', '', 9);
INSERT INTO `scenic` VALUES (394, '苏州狮子林', '狮子林始建于元代至正二年，公元1342年', NULL, '4A景区', 1, '江苏省苏州市园林路23号 ', '7:30-17:30', 'https://pic4.40017.cn/scenery/destination/2016/10/25/14/aKaDVZ.jpg.webp', NULL, 9);
INSERT INTO `scenic` VALUES (395, '网师园', '小园极则，以少胜多', NULL, '4A景区', 1, '江苏省苏州市银杏桥北阔街头巷11号', '7:00-17:30', 'https://pic5.40017.cn/02/001/aa/37/rBLkCVnLSXKAMkVXAAKbcZlh5oE132.jpg', NULL, 9);
INSERT INTO `scenic` VALUES (396, '平江路怪楼', '集观赏性、娱乐性、参与性、趣味性、艺术性为一体的景点', NULL, '3A景区', 1, '江苏省苏州市姑苏区平江路236号', '11:00-20:00', 'https://pic5.40017.cn/02/000/e3/43/rBLkCVubWG6AQdXyAAGPcrAeGaI897.jpg', NULL, 9);
INSERT INTO `scenic` VALUES (397, '苏州5D星空错觉艺术馆', '5D是在三维立体效果上', NULL, '3A景区', 1, '江苏省苏州市姑苏区观前路步行街久泰商厦4楼（大成坊旁）', ' 09:00-22:00', 'https://pic5.40017.cn/02/001/b3/47/rBLkCFuDt2CADvWMAAIc2DiAyBI459_800x475_00.jpg', NULL, 9);
INSERT INTO `scenic` VALUES (398, '山塘街昆曲博物馆', '昆曲馆和山塘的古老文明气息', NULL, '3A景区', 1, '江苏省苏州市姑苏区山塘街通贵桥下塘45号', '19:30-20:30', 'https://pic5.40017.cn/02/001/57/cf/rBLkCFoAJ_uAcRvLAAI-uCGU15Y045.jpg', NULL, 9);
INSERT INTO `scenic` VALUES (399, '木渎古镇', '中国罕见的园林古镇，乾隆六次到过的地方', NULL, '4A景区', 1, '苏州市吴中区木渎镇山塘街188号', '8:30-17:00', 'http://h2.bytravel.cn/www/3/head/2582.gif', NULL, 1);
INSERT INTO `scenic` VALUES (400, '苏州小石湖', '遥望风景如画，尤以山巅宝塔更为山水增色', NULL, '4A景区', 1, '苏州市吴中区友新高架吴中大道下右拐（莫舍桥南）', '全天免费开放', 'http://h2.bytravel.cn/www/10/head/9967.gif', NULL, 1);
INSERT INTO `scenic` VALUES (401, '独墅湖', '独墅湖景色秀丽，湖水清澈，是苏州地区较大的淡水湖之一', NULL, '4A景区', 1, '苏州市苏州工业园区娄葑街道', '全天免费开放', 'https://p1.ssl.qhmsg.com/dr/270_500_/t016f615eaa9caf5a15.jpg?size=800x600', NULL, 2);
INSERT INTO `scenic` VALUES (402, '中央公园', '这是一座美丽的花园', NULL, '3A景区', 1, '苏州市苏州工业园区苏州大道西', '8:00-17:00', 'https://ps.ssl.qhimg.com/sdmt/162_132_100/t012083485766008870.webp', NULL, 2);
INSERT INTO `scenic` VALUES (403, '龙池风景区 ', '为人们提供了回归大自然优美、迷人、神奇的佳境。', NULL, '4A景区', 1, '苏州市虎丘区龙池路与涧溪路交汇处附近东', '7:30-17:00', 'https://p1.ssl.qhmsg.com/dr/270_500_/t01458562cfefe0d6a3.jpg?size=1024x768', NULL, 3);
INSERT INTO `scenic` VALUES (404, '苏州乐园', '具有丰富的人文景观', NULL, '5A景区', 1, '苏州市虎丘区玉山路162号', '9:00-5:00', 'https://p1.ssl.qhmsg.com/dr/270_500_/t010aacaf268b5974bd.jpg?size=1000x697', NULL, 3);
INSERT INTO `scenic` VALUES (405, '亭林园', '园林专家陈从周评价为\"江南园林甲天下，二分春色在玉峰\"。', NULL, '4A景区', 1, '苏州市昆山市马鞍山东路1号', '8:00-17:00', 'http://h2.bytravel.cn/www/18/head/18275.gif', NULL, 4);
INSERT INTO `scenic` VALUES (406, '昆山城市生态森林公园', '共享绿色\"理念逐步建设、完善起来的城市湿地公园。', NULL, '3A景区', 1, '江苏省苏州昆山市马鞍山西路', '　6:00-20:00', 'http://h2.bytravel.cn/www/63/head/62679.gif', NULL, 4);
INSERT INTO `scenic` VALUES (407, '苏州城隍庙', '作为中国宗教文化中普遍崇祀的重要神只之一', NULL, '3A景区', 1, '苏州市平江区景德路94号', '7:00-17:00', 'http://h2.bytravel.cn/www/18/head/18310.gif', NULL, 5);
INSERT INTO `scenic` VALUES (408, '苏州皇罗禅寺', '寺内横梁、内顶雕花精美，彰显皇家风范，是长三角地区唯一集北派建筑风格的寺庙。', NULL, '3A景区', 1, '江苏省苏州市相城区阳澄湖镇埝浜村', '8:00-18:00', 'http://h2.bytravel.cn/www/63/head/62649.gif', NULL, 5);
INSERT INTO `scenic` VALUES (409, '三角咀杜鹃湿地公园', '位于城区西北郊的大型城市生态湿地公园', NULL, '4A景区', 1, '江苏省苏州市苏虞张公路和阳澄湖西路交界处', '7:00-17:00', 'http://h2.bytravel.cn/www/63/head/62681.gif', NULL, 5);
INSERT INTO `scenic` VALUES (410, '苏州小外滩', '享受一生甜蜜浪漫，留下一世幸福记忆。', NULL, '4A景区', 1, '苏州相城区蠡口段元和塘', '全天免费开放', 'http://h.bytravel.cn/www/78/head/78006.gif', NULL, 5);
INSERT INTO `scenic` VALUES (411, '张家港凤凰山景区', '凤凰山山体由西而东走向，犹如丹凤展翅', NULL, '4A景区', 1, '张家港市永庆路', '7:30-17:00', 'http://h2.bytravel.cn/www/21/head/20712.gif', NULL, 6);
INSERT INTO `scenic` VALUES (412, '张家港乐余老街', '上世纪三四十年代是乐余古街最繁荣的鼎盛时期。', NULL, '3A景区', 1, '江苏省苏州张家港市乐余镇乐余路', '全天免费开放', 'http://h2.bytravel.cn/www/9/head/8968.gif', NULL, 6);
INSERT INTO `scenic` VALUES (413, '太仓南园（太师府）', '景色已超越了自我和物欲--人与自然的和谐', '', '3A景区', 1, '苏州市太仓市南园东路7号', '7:30-18:00', 'http://h2.bytravel.cn/www/7/head/6656.gif', '', 7);
INSERT INTO `scenic` VALUES (414, '太仓公园', '旧址是南宋\"海宁寺\"，前身是梁\"妙莲庵\"', NULL, '3A景区', 1, '江苏省苏州市太仓市县府西街40号', '7:30-17:30', 'http://h2.bytravel.cn/www/38/head/38403.gif', NULL, 7);
INSERT INTO `scenic` VALUES (415, '太仓金仓湖湿地公园', '使人感觉轻松自然，天人合一。', NULL, '3A景区', 1, '江苏省苏州太仓市新港路与东亭路交汇口处', '7:00-18:00', 'http://h2.bytravel.cn/www/62/head/62398.gif', NULL, 7);
INSERT INTO `scenic` VALUES (416, '太仓圣像寺', '佛教传入太仓的起始点', NULL, '4A景区', 1, '江苏省苏州市太仓市玉影路', '7:00-17:00', 'http://h2.bytravel.cn/www/63/head/62818.gif', NULL, 7);
INSERT INTO `scenic` VALUES (417, '太仓双凤寺', '具有典型的江南名刹的气势', NULL, '4A景区', 1, '江苏省苏州太仓市双凤镇204国道东侧', '6:30-18:00', 'http://h2.bytravel.cn/www/63/head/62822.gif', NULL, 7);
INSERT INTO `scenic` VALUES (418, '三峰寺', '全国著名的药师佛道场', NULL, '3A景区', 1, '苏州市常熟市虞山北路虞山第三峰', '7:00-18:00', 'http://h2.bytravel.cn/www/25/head/24715.gif', NULL, 8);
INSERT INTO `scenic` VALUES (419, '虞山宝岩禅寺', '是曰宝华镜，万象郁以盘，壮哉 堵坡，一瞰天地宽。', NULL, '3A景区', 1, '苏州市常熟市虞山街道', '7:00-17:00', 'http://h2.bytravel.cn/www/62/head/62408.gif', NULL, 8);
INSERT INTO `scenic` VALUES (420, '留园', '有\"不出城郭而获山林之趣\"。', '', '5A景区', 1, '苏州金阊区阊门外留园路338号', '7:00-17:30', 'http://h2.bytravel.cn/www/3/head/2580.gif', '', 9);
INSERT INTO `scenic` VALUES (421, '可园', '粉墙黛瓦，古朴淡雅', NULL, '4A景区', 1, '江苏省苏州市沧浪区人民路48号', '7:00-17:30', 'https://pic5.40017.cn/01/000/86/1c/rBANC1tn8V-ABx3zAAIH8Un1nk8411.jpg', NULL, 9);

-- ----------------------------
-- Table structure for scenicimage
-- ----------------------------
DROP TABLE IF EXISTS `scenicimage`;
CREATE TABLE `scenicimage`  (
  `scenicImageId` int(11) NOT NULL AUTO_INCREMENT,
  `image1` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `image2` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `image3` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `image4` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `image5` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicIntroduceID` int(11) NOT NULL,
  PRIMARY KEY (`scenicImageId`) USING BTREE,
  INDEX `fk_scenicImage_scenicIntroduce1_idx`(`scenicIntroduceID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Table structure for scenicintroduce
-- ----------------------------
DROP TABLE IF EXISTS `scenicintroduce`;
CREATE TABLE `scenicintroduce`  (
  `scenicIntroduceID` int(11) NOT NULL AUTO_INCREMENT,
  `scenicTitle` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicImage` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicParagraph` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicName` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicLevel` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenicAddress` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `openHours` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `image1` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `image2` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `image3` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `p1` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `p2` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `p3` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `scenic_scenicId` int(11) NOT NULL,
  `image4` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `image5` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `image6` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `p4` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `p5` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `p6` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  PRIMARY KEY (`scenicIntroduceID`) USING BTREE,
  INDEX `fk_scenicIntroduce_scenic1_idx`(`scenic_scenicId`) USING BTREE,
  CONSTRAINT `scenicintroduce_ibfk_1` FOREIGN KEY (`scenic_scenicId`) REFERENCES `scenic` (`scenicid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 76 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of scenicintroduce
-- ----------------------------
INSERT INTO `scenicintroduce` VALUES (3, NULL, 'https://pic5.40017.cn/01/000/08/f6/rBLkBlsffHqAYTNRAAMQePZ57xw462_540x304_00.jpg', NULL, '苏州市天平山风景名胜区', '4A景区', '江苏省苏州市吴中区灵天路 ', '7:30-17:00', 'http://pic5.40017.cn/02/001/ee/6d/rBLkCVu7ACiAUxUpAAMCPqMxK7Y878.jpg', '//pic4.40017.cn/scenery/destination/2016/09/18/16/Y9iAVH.jpg.webp', 'http://pic4.40017.cn/scenery/destination/2016/09/18/16/eMDJ9i.jpg.webp', '秋冬时节，碧云红叶，灿烂如霞，无论老幼，都爱背上单反。天平山与北京香山、湖南岳麓山、南京栖霞山并称为“中国四大赏枫胜地”的苏州天平山景区的五彩枫叶，目前已经到了较佳观赏时期，枫叶由青转黄，日渐变红，层林尽染，美不胜收。拍枫叶的火红、拍落叶的纷飞、拍水中的浮叶，拍不尽的天平山，拍不尽的美如画。', '天平胜景，一胜在红枫。由范仲淹十七世孙范允临 400 年前自福建引种的三百八十余株枫香树，至今大都老而弥健，成为天平山的一大景观。其中不乏高约十层楼房、需三人合抱的古枫。每当仲秋，红灿灿的一片，尤胜二月之花。这儿数百年来，已成为我国著名的赏枫胜地。届时，游客往来，纷错如织。', '天平山，若只有美景，还不足以让它冠绝吴中千百年。它的悠久历史，还因为人文，因为范仲淹。天平山是范仲淹的先祖归葬之地，北宋时期，宋仁宗赵祯将天平山赐给了他，天平山中处处是范家遗踪。', 350, '//pic4.40017.cn/scenery/destination/2016/09/18/16/vk7dy3.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/09/18/16/Hv2qrP.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/09/18/16/c0Ip1n.jpg.webp', '天平山，因山顶平坦而得名，半山有白云泉，山中多奇峰怪石、胜景佳境，而令人流连忘返的，自然是近日红艳似火的丹枫成林。', '天平山，若只有美景，还不足以让它冠绝吴中千百年。它的悠久历史，还因为人文，因为范仲淹。天平山是范仲淹的先祖归葬之地，北宋时期，宋仁宗赵祯将天平山赐给了他，天平山中处处是范家遗踪。', '天平胜景，二胜在清泉。其中尤以白云泉著称。该泉为山石裂隙中之水汇聚成泉，泉水常年不涸，水味甘洌，为饮用佳品，是天平山镇山之宝。此外，由山泉汇聚而成的十景塘、桃花涧水面，亦成为天平的名山胜水，耐人玩味。');
INSERT INTO `scenicintroduce` VALUES (4, NULL, 'https://pic4.40017.cn/scenery/destination/2016/07/13/14/7mtN1h.jpg.webp', NULL, '穹窿山(苏州太湖旅游区)', '4A景区', '江苏省苏州市吴中区穹窿山风景区苏州绕城高速光福路出口下1公里', '8:30-16:30，入园时间截止16:00。', 'http://pic4.40017.cn/scenery/destination/2016/07/13/14/5ThXD9.jpg.webp', 'http://pic4.40017.cn/scenery/destination/2016/07/13/14/epMqSV.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/13/14/7mtN1h.jpg.webp', '御湖因乾隆的到访而得名，逶迤清秀，千姿百媚，将穹窿山的胜景映照在自己怀中。旷阔的水域形成水田一色的胜景，游人在湖边游玩嬉戏，不染一丝凡尘。湖旁两侧的徽派民居更让她显得古朴威仪。', '身处山顶的望湖园不仅可以和穹窿山色零距离接触，还可眺望领略太湖风景，山色水色一同收入眼中。在用竹子和木艺制作的设施中憩息、赏景，整座花园与穹窿山的环境和氛围融于一体。', '如果觉得延盘山公路行走太过漫长，可以选择在山上走精心铺设过的乾隆御道。在四周被翠竹环绕的环境中，有种清新自然的宁静气息，人的心境也随之开阔。', 351, '//pic4.40017.cn/scenery/destination/2016/07/13/14/FXzaht.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/13/14/aRaF3d.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/13/14/zIlItw.jpg.webp', '上真观殿宇依山而筑，可容万人，常年香火登盛，南侧还曾作为乾隆皇帝南巡时的行宫。游人来此，不仅可以领略江南的道教中心的风采，各色古朴建筑也是不可多得的人文景观。', '传说这里才是上真观的真正山门，所以洞天是指别有洞天、天外有天的意思。洞天内光线幽暗，走出门楼便觉豁然开朗，穹窿山的万千景致都在眼前展现开来。', '全长12公里的盘山公路蜿蜒曲折，直达山顶，贯穿各个景点。在PM2.5小于20的新鲜空气中徒步行走，一路欣赏沿途和山下的美景，在终点征服吴中之巅。');
INSERT INTO `scenicintroduce` VALUES (5, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/21/17/ZeMyeT.jpg.webp', NULL, '甪直古镇', '4A景区', '江苏省苏州城东南25公里', '8:00-17:00（游船时间：8:30-16:00）', '//pic5.40017.cn/02/000/4f/07/rBLkCFtDHVuAErepAAHEdX5auP4785.jpg', 'http://pic5.40017.cn/01/001/4f/00/rBLkBVtDHV6AYvFZAAGLb2gs1iI297.JPG', 'http://pic5.40017.cn/02/001/4f/07/rBLkCFtDHV-AfXpKAAFRVmfNlKU723.JPG', '江南水乡古镇的宁静清幽，没有市井的喧嚣和城市的高压，可以一个人静静的在河边的咖啡馆或客栈里放空自己。', '古镇依水而建，水多，桥多是甪直的特色，现存有41座古桥，是名副其实的“水上桥都”。流出桥梁交相呼应，在甪直随处可见的物事，都见证了；甪直千年的苍伤与变迁。', '没有乌镇和周庄的久负盛名，却有着独特的宁静和幽美。这里保留了从春秋到清代以来的名胜古迹，居民保留了几百年前生活的意韵、淳朴、宁静和幽雅。', 352, '//pic5.40017.cn/01/001/4f/00/rBLkBVtDHVuAaQ2fAAFxh6qXvD4729.jpg', '//pic5.40017.cn/02/000/4f/07/rBLkCVtDHVuAPP16AAFy_kzNvPA485.JPG', '//pic5.40017.cn/02/000/4e/7c/rBANDFtDHVuARouhAAFYfRv7b68505.JPG', '古朴的商业老街，条石铺就的街道绵延狭长，两旁狭窄的骑楼上人们伸手可握。顺着老街往里走，两边商铺人来人往，依然能感受到古镇当年繁华的景象。', '看着身着碎花衣的姑娘慢摇一支轻舟，嘴里哼着歌，两边小巷老街追逐打闹的调皮孩子，岸边喝茶闲聊的人们，都是那么熟悉情切。', '万盛米行是甪直古镇的一家老字号店铺。始于民国初年，是当时吴东地区的大米行。改建后的“万盛米行”，再现了民国年间江南的米市风貌，三开间门面的屋檐下悬挂着“万盛米行”的金字招牌，店铺内设有收售粮食的柜台，上挂“万商云集”牌子。');
INSERT INTO `scenicintroduce` VALUES (6, NULL, 'https://pic4.40017.cn/scenery/destination/2016/11/01/16/Mls3GH.jpg.webp', NULL, '苏州太湖湖滨国家湿地公园', '5A景区', '江苏省苏州市吴中区胥香路和环太湖大道交汇处苏州太湖湖滨国家湿地公园', '8:30-17:00；游船营业时间：9:00-15:30', '//pic5.40017.cn/02/001/7b/91/rBANDFthc0WAISPaAAKApeCDQBQ698.jpg', '//pic5.40017.cn/02/000/7c/1d/rBLkCVthc0WAMRrDAAJdeEj5BC0020.jpg', '//pic5.40017.cn/01/001/7c/15/rBLkBVthc0aAeaNcAAEy2xeVBys424.jpg', '苏州太湖湖滨国家湿地公园位于苏州太湖国家旅游度假区中心区，总面积360公顷，是典型的湖滨湖泊湿地。八大景区，风车堞影、栈桥探幽、悠然双亭、八仙过海、鸥鹭栖归、芦荡迷宫、落日听涛、渔舟唱晚，也是忘却城市喧嚣，亲近太湖山水，体验自然野趣，感受吴地风情的佳绝处。', '5公里木栈道蜿蜒相连，错落有致地贯穿整个公园。', '公园内芦苇密布，水质优良，又紧邻渔洋山等山体，多样化的栖息地吸引了多种鸟类。据统计，公园内有鸟类177种，其中还包括国家二级保护动物小天鹅，且天鹅的数量正在逐年增加。晴朗时漫步在公园的木栈道上，可见太湖水碧波荡漾、鸥鹭翔集、岸边芦浦摇曳，水中鱼虾嬉戏，一派湿地好风光。', 353, 'http://pic5.40017.cn/02/000/4f/09/rBLkCFtDHv-AcVMiAAG948tGd30571.jpg', 'http://pic5.40017.cn/01/001/4f/02/rBLkBltDHv-AJc9bAAHAkCqBpk4852.jpg', 'http://pic5.40017.cn/02/000/4e/7e/rBANDFtDHv-AB2s3AAGnwaYOIZs064.jpg', '苏州太湖国家湿地公园坐落在苏州市区的西部，西枕太湖，东接东渚，南连光福，与\"中国刺绣之乡\"镇湖毗邻。\r\n\r\n', '苏州太湖国家湿地公园是一个自然与文化相融的个性独具的原始时尚休闲景区，汇集了湿地渔业体验区、湿地展示区、湿地生态栖息地、湿地生态培育区、水乡游赏休闲区、湿地生态科教基地、原生湿地保护区等七大功能区。景区内有桃源人家、桑梓人家、七桅古船、渔矶台、槿篱茅舍、半岛茗茶、青云画舫、烟波致爽等景点。公园主要为鸟类和鱼类提供栖息地。', '苏州太湖国家湿地公园先后获得\"国家级湿地公园\"、\"国家4A级旅游景区\"的称号。');
INSERT INTO `scenicintroduce` VALUES (7, NULL, 'https://pic4.40017.cn/scenery/destination/2016/11/03/15/9rW71H.jpg.webp', NULL, '东山雕花楼', '5A景区', '江苏省苏州市吴中区东山镇紫金路58号', '8:30-17:00', '//pic5.40017.cn/02/000/ea/d0/rBLkCVkS3kSATxO3AAIAAOaN4nU347.jpg', '//pic5.40017.cn/01/001/ea/82/rBANC1kS3kWAGSU3AAIAAEFq_7s526.jpg', '//pic5.40017.cn/02/000/ea/d0/rBANDFkS3kaAZZo-AAIAADffNnk065.jpg', '东山雕花楼坐落于苏州洞庭东山镇，又名“春在楼”，典出苏州清代诗人俞樾殿试名句“花落春仍在”。其雕刻细致，结构奇巧，精美绝伦，是十分有价值的历史文化遗产。', '东山雕花楼是在上海做棉纱生意发了财的金锡之、金植之兄弟为孝敬母亲而建造的一座豪宅，是苏州“香山帮古建”的传世佳作，雇用250多名工匠，耗资17万银元，自1922年动工，历时3年才得以竣工。', '东山雕花楼坐落于苏州洞庭东山镇，是义县香山建筑雕刻的代表作，木刻浮雕出于香山木雕艺人周云龙之手，为研究中国近、现代民间雕刻艺术传统、地方流派和技法难得的实物。', 354, '//pic4.40017.cn/scenery/destination/2016/11/03/15/4Xu30r.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/03/15/r6U3Sc.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/03/15/QAJAuv.jpg.webp', '江南冬季偶尔的雪天，也赋予雕花楼别样的风情。寒梅傲雪，小楼银装素裹，一如江南的姑娘，白纱遮面、委婉动人。', '每年春天，园子里的花朵竞相开放，让人不得不迈开脚步，循着花香绿意，走出家门，去赴春天之约。', '初夏入园，寻找“小荷才露尖尖角，便有蜻蜓立上头”的乐趣；盛夏时节，一池花开，满园荷香，循着清幽的荷香漫步庭院之中，细赏“花中君子”的雅致。');
INSERT INTO `scenicintroduce` VALUES (8, NULL, 'https://pic4.40017.cn/scenery/destination/2016/07/23/21/MpkImG.jpg.webp', NULL, '苏州上方山国家森林公园', '4A景区', '江苏省苏州市高新区横塘镇吴越路行春桥堍', '07:00-16:30', '//pic4.40017.cn/scenery/destination/2016/08/16/17/FrdX86.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/23/20/By0izO.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/23/20/kNKUUc.jpg.webp', '这里是由山与水绘成的画卷，在远离都市喧嚣的角落里，静静藏着原生态的景致。这里有秀丽的山水洗净你身上的疲惫，缤纷的花海扮靓你的心情，还有文人雅士的遗风放松你忙碌的脚步。', '上方山上林木葱郁，绿化率95%以上，这里的负氧离子爆表，游人在这里光是漫步就能享受空气的滋养。优越的山水环境还吸引了大群白鹭、苍鹭等飞禽在这里憩息。', '在石湖水系上泛舟、在横山山系上远眺、在湖山之间的山坞里探险，除了上方山，周围还有石湖、吴山、滨湖、七子山、钱家坞、上金湾7大景群满足你对山与水的所有想象。', 355, '//pic4.40017.cn/scenery/destination/2016/07/23/20/fLgUrA.jpg.webp', 'http://pic5.40017.cn/01/001/50/a1/rBANC1tELC-ARdkpAAFhtzFdtFY505.jpg', 'http://pic5.40017.cn/01/001/51/16/rBLkBVtELC2AIX8-AAG4s7oxS5w939.jpg', '每当中秋佳节来临，游人夜晚走在行春桥上，便会看见九个月亮一起“落入”石湖之中并由桥身串联在一起。皓月当空，来的若是游子，想必能体验到另一番思乡的滋味。', '苏州上方山森林公园位于著名的国家级太湖风景区石湖景区内，距苏州市中心4公里，以吴越遗迹和江南水乡田园风光取胜的天然公园。苏州上方山森林公园，山水相依，风景如画，胜迹遍地，被誉为\"吴中胜境\"，是太湖风景名胜区中一颗璀璨的明珠，92年由林业部批准为国家级森林公园。苏州上方山森林公园是烧烤野营的理想地点，每年特定季节都会举行百花节，花类繁多，颇为引人入胜。', '上方山国家森林公园共有公园大门、北入口和南大门三个门。公园大门位于石湖西岸北端、吴越路的北段(公园东北部)，即主入口。');
INSERT INTO `scenicintroduce` VALUES (9, NULL, 'https://pic4.40017.cn/scenery/destination/2016/07/21/16/uc3rY0.jpg.webp', NULL, '重元寺', '4A景区', '江苏省苏州工业园区唯亭阳澄湖半岛慈云路333号', '07:30-17:00', '//pic4.40017.cn/scenery/destination/2017/02/23/15/zx0zrJ.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/02/23/15/PQjcwD.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/02/23/15/tjzSiw.jpg.webp', '重元寺，原名重悬寺，始建于梁武帝时期（公元503年），与寒山寺、灵岩寺、保圣寺同时代，历经1500余年。几经毁建，现存的重元寺是2003年重建、，坐落在风光秀丽的阳澄湖半岛。', '观音阁中，大慈大悲的观音像高达33米，寓意着观音的三十三个应身，由88吨的青铜铸造，表面贴金，法相庄严，同时观音阁内有9999尊小观音可以供养。在此焚香，仰视着观音圣像，宁静而祥和。', '在石湖水系上泛舟、在横山山系上远眺、在湖山之间的山坞里探险，除了上方山，周围还有石湖、吴山、滨湖、七子山、钱家坞、上金湾7大景群满足你对山与水的所有想象。', 356, '//pic4.40017.cn/scenery/destination/2017/02/23/15/M7sZfT.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/02/23/15/gtGdi8.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/02/23/15/5Jvr0v.jpg.webp', '普济桥，长99米，普济意指观音大士普度众生，济世救苦，也象征着跨越此桥，可达极乐彼岸。长长石桥，一步一莲花，水天佛国的盛景就展现在眼前。', '在寺中，寻一处幽静的地方，听梵音、观佛字、喝禅茶、抄佛经，放下尘世的烦恼，让生命回到本身去感受大自然的宁静与优雅，让内心散发光芒，变得祥和安静，真正的回归心灵的宁静。', '古刹矗立在阳澄湖畔，沿着湖岸漫步，远眺湖面，看着湖边秀丽的风景，听着不远处寺庙的诵经声、钟鼓声，放下心中的枷锁，感受内心的平和，回归纯粹，来一次心灵的旅行。');
INSERT INTO `scenicintroduce` VALUES (10, NULL, 'http://pic5.40017.cn/02/001/f8/c0/rBLkCVvAE9WAbLxdAAJo_OarUX8615.jpg', NULL, '华谊兄弟电影世界', '4A景区', '江苏省苏州市工业园区阳澄湖半岛度假区 ', '09:30~17:30', '//pic5.40017.cn/02/000/43/0d/rBLkCVs8MrmAfhaGAAG8bItKvac543.jpg', '//pic5.40017.cn/02/000/86/55/rBLkCFtnwKmABPoSAAI92Is8AXk242.jpg', '//pic5.40017.cn/01/000/42/9c/rBANC1s8O9aAQaZDAAF6SxCwGfA934.jpg', '华谊兄弟电影世界是一个国内以自持电影知识产权打造的电影文化体验项目。她集穿越式游览、沉浸式体验、明星化服务、互联网消费于一身，在打破传统的娱乐和旅游方式，将自主电影IP转化为娱乐元素，营造出“全方位电影沉浸感”的同时，为游客提供吃、喝、玩、乐、购一站式的“走进电影”体验，让荧幕中的一切触手可及，打造中国人真正的电影梦世界。', '整个电影世界分为五大主题区域，分别是展现电影工业产业链、揭秘电影台前幕后秘辛、让游客亲身体验造星过程的星光大道区；以建国前后为背景、重现战地铁血军魂与当年百姓日常生活的“集结号区”；以浪漫北海道为背景所打造的爱情圣地“非诚勿扰区”；融合了蒸汽朋克和热血功夫、弘扬太极功夫文化、展现晚清风貌的“太极区”；完美呈现盛世大唐、繁华中暗藏奇诡风云的“通天帝国区”。', '首先来感受一下星光大道的氛围，这是星光大道的景观效果图，我们把整个星光大道的时间点设定在电影颁奖盛典即将开始前2小时，我们的演员将模拟成为星探、大腕儿、狗仔与游客进行互动。', 357, '//pic5.40017.cn/01/000/43/06/rBLkBls8MriAeqs0AAIDBpxVDbY464.jpg', '//pic5.40017.cn/02/001/43/0d/rBLkCVs8MraAB5QHAAFtMrmYhBA604.jpg', '//pic5.40017.cn/02/001/43/0d/rBLkCVs8MrmAWQB5AAICq_PuiW8707.jpg', '此区主要以浪漫爱情为主题，我们的策划团队重走了一遍当年《非诚勿扰》电影拍摄地日本北海道，并将许多经典场景还原到主题区内；', '信任与胆量的挑战，从灯塔上向阳澄湖纵身一跃，一跳定情！这是电影中舒淇跳海的地方，也就是北海道的能取岬，我们将灯塔进行了还原并打造了蹦极跳项目；', '浪漫的主题餐厅，户外草坪更是举办婚礼的好场所，四姐妹居酒屋是电影《非诚勿扰》的一家餐厅，在园内还原了电影的场景打造了一个日式料理店；');
INSERT INTO `scenicintroduce` VALUES (11, NULL, 'https://pic5.40017.cn/01/000/fa/40/rBANC1vAcAeAQj53AAG1cU6-vI4742.jpg', NULL, '苏州半岛薰衣草庄园', '4A景区', '江苏省苏州市工业园区阳澄环路999号', '09:00-16:30', '//pic5.40017.cn/01/000/fa/40/rBANC1vAcAeAQj53AAG1cU6-vI4742.jpg', '//pic5.40017.cn/03/000/a5/ce/rB5oQFvAcBaACL6xAAFy6KUbgnY090.jpg', '//pic5.40017.cn/01/000/fa/40/rBANC1vAb_mABffmAAHrLI-8jyk139.jpg', '苏州一夫薰衣草庄园是一个可以激发休闲和涤荡忧郁不快的农业园，会让游客整个心灵充满爱的阳光，幸福而快乐。', '繁忙的都市生活，越来越多的职场人希望从繁忙的职业状态中出来，使自己在悠然舒适的状态中达到身心的全面放松和平衡，回归自然，回归人心，回归生命本源。', '他们渴望自主的控制生活的节奏，缓慢而悠闲的生活着，以欣赏的心态来感受人和事，简单而快乐，人们在社会生活中渴望找寻那份心灵的轻松与愉悦。', 358, '//pic5.40017.cn/01/001/ed/4c/rBLkBVngjBqAR705AAMHAw_zYWg454.jpg', '//pic5.40017.cn/01/000/ec/d7/rBANC1ngjBmAb0lsAALXqORaorQ794.jpg', 'http://pic5.40017.cn/01/001/ed/4c/rBLkBVngjBqAELfmAAJhc-Ba7dA863.jpg', '薰衣草庄园源自法国普罗旺斯的浪漫情怀，位于阳澄湖半岛旅游度假区南部，阳澄环路以西、水芙路以南，庄园东部为苏州奕欧来，地理位置优越。项目定位于通过薰衣草花海、爱情文化主线景点，打造成为集观光、摄影、婚庆服务、休闲、美食、科普、体验等一体的复合型都市观光农业园。', '轻捻岁月，植入一棵薰衣草的种子在心间：闭目聆听、放飞心情、享受生活、享受美丽、享受自然。庄园建成之后将成为阳澄湖半岛旅游度假区周边一处集旅游观光、婚纱摄影、亲子活动、露营烧烤等功能一体的创意观光农业园。', '不用去普罗旺斯就能看到成片的薰衣草，梦幻的紫色，美得让一切语言都失色。薰衣草的花期只有两季：5、6月份，10、11月份，为了这次遇见，苏州人已经足足等待了3个月之久。');
INSERT INTO `scenicintroduce` VALUES (12, NULL, 'https://pic5.40017.cn/02/001/df/04/rBLkCVr7r02AcNPzAAHYg2jgdwg076.jpg', NULL, '苏州阳澄湖半岛旅游度假区', '4A景区', ' 江苏省苏州工业园区阳澄湖环路999号阳澄湖半岛星华街游客中心 ', '9:00-17:00', '//pic4.40017.cn/scenery/destination/2016/11/04/11/VxW3bN.jpg', '//pic4.40017.cn/scenery/destination/2016/11/04/11/ToOZ9m.jpg', '//pic4.40017.cn/scenery/destination/2016/11/04/15/MrxgAa.jpg', '阳澄湖半岛旅游度假区，为江苏省省级旅游度假区，位于苏州工业园区北部、阳澄湖南岸，区域总面积24.39平方公里，含内湖水域面积8平方公里。作为苏州工业园区所重点打造的“金鸡湖、独墅湖、阳澄湖”三大功能板块之一，环湖观光，定向半岛，半岛奇遇等活动，更是吸引了不少的游客。在这里，不管是搭乘观光车赏花踏青，还是随性漫步探索属于自己的风景。', '莲池湖方圆近十里，四周都有河港与阳澄湖的东湖、西湖、中湖相通。相传，莲池湖公园未改造前，在莲池湖里有一个方圆数十米的土墩。旱季时，土墩冒出水面；雨季时，土墩会被淹没，湖里大大小小的鱼都会绕着这个土墩游来游去，阳澄村人称之为“转鱼墩”。', '公园占地约225亩，种植大、小乔灌木及水生植物200余种，如早晚樱8个品种、杜鹃花卉14个品种以及罗汉松、五针松等特型树等。园内布局建设了千米樱花道、枫叶秋香、彩叶溪涧、天池涌泉等不同色彩及意境特色的区域，融合溪流、径路等小景，充分体现自然野趣、色彩丰富的景观风貌，是赏花闻香、摄影采风、放松身心的休闲好去处。', 359, '//pic4.40017.cn/scenery/destination/2016/11/04/11/VvkyZU.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/04/11/Bc5nuO.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/04/11/YqTn9j.jpg.webp', '一处公园，千种姿色，种植各类乔木、灌木、地被及水生植物上百种。一片郁郁葱葱的云杉林，交融着树形优美的香樟、干形通直的落羽杉、香气浓郁的金桂、姿态优雅的各色玉兰、灿若云霞的早晚樱花、温柔解语的垂丝海棠、馥郁浪漫的薰衣草、优雅华丽的鸢尾等；休憩木亭、木栈道，曲桥、石质园路穿过花丛，健身游乐设施点缀其间；', '《私人订制》拍摄地重元寺，水天佛国，千年古刹，始建于南北朝梁武帝天监二年，与寒山寺、灵岩寺、保圣寺同时代，具有佛、法、僧三宝具足的佛教道场特色，距今已有1500多年历史。', '源自欧洲的国内真正意义上的高端精品奥特莱斯购物村，开创国内奥特莱斯发展新模式。漫步“住在”度假区的购物村，意大利风情建筑、百家摩登时尚精品店、沿街林立的美食餐厅、细致高贵的服务、中西融合的人文艺术，让游客尽享一场无与伦比的购物之旅。');
INSERT INTO `scenicintroduce` VALUES (13, NULL, 'https://pic5.40017.cn/02/000/8f/18/rBANDFlCODCAeeNwAAQAAHMiFq4457.jpg', NULL, '苏州麦鲁小城', '4A景区', '江苏省苏州工业园区圆融时代广场生活休闲区E棟圆融童乐园301室', '10:00-14:00', '//pic4.40017.cn/scenery/destination/2016/07/15/14/L5b547.jpg', '//pic4.40017.cn/scenery/destination/2016/07/15/14/q8oXG7.jpg', '//pic4.40017.cn/scenery/destination/2016/07/15/14/jy6Uut.jpg', '不用等长大，理想马上就能实现！麦鲁小城，不只是儿童游乐的天地，也是小朋友们快乐成长的乐园，各式各样的职业，丰富多彩的体验，温暖的亲子乐趣尽在这座城市里。', '每个人心目中都有一个英雄，或大或小，或真或虚，小时候幻想着有一天自己能成为盖世英雄，手持利剑，惩恶扬善，慢慢的长大后，英雄主义逐渐磨灭，徒留一个空虚飘渺的英雄梦。', '也许，现在你梦想是挣好多好多的钱，然后撑起一片天温暖你的家。但是如果你问那些天真无邪的孩子们长大以后想做什么？那可会有很多答案：医生、科学家、宇航员、教师、明星。', 360, '//pic4.40017.cn/scenery/destination/2016/07/15/14/2bNHSb.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/15/14/pTU0Kk.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/15/14/MGbrRr.jpg.webp', '这些比天还高的梦想不也曾是我们年少时天真的想法吗？小时候我们的梦想只能在脑海里筑巢，因为我们不能切身实际的去体验，只能让心中的梦渐行渐远！而现在时代改变了。', '如今，我们的孩子有着我们小时候一样的梦想。那么，我们是让孩子们的梦想跟我们一样渐行渐远；还是带他们来苏州麦鲁小城，亲身体验，实现自己梦想呢？当我们看着孩子们脸上灿烂的笑容，也许，我们也就没那么多遗憾了。', '这是一个能让你家宝贝从小感受梦想起源的地方。孩子们可以随心所欲的选择60多个社会角色，让我们的孩子身临其境，触碰、想象、扮演和探索。');
INSERT INTO `scenicintroduce` VALUES (14, NULL, 'https://pic5.40017.cn/02/000/86/ab/rBLkCFtn_deAScPpAAFkwFtgVWk282_540x304_00.jpg', NULL, '金鸡湖夜游', '4A景区', '江苏省苏州市工业园区金鸡湖月光码头或湖西望湖阁码头', '19:30（周一至周五）和19:00（周六至周日）', '//pic5.40017.cn/01/000/86/2f/rBANC1tn_deALYZYAAIkK8BrVaA049.jpg', '//pic5.40017.cn/02/000/86/ab/rBLkCFtn_deAScPpAAFkwFtgVWk282.jpg', 'https://pic5.40017.cn/01/001/16/07/rBLkBVvOipqAQGyGAADRq07M8iE860_240x135_00.jpg', '夜晚漫步金鸡湖，星光灯光璀璨、高楼倩影波动在水面。它是现代桃花源般的休闲乐土，更是现代水天堂的美丽蓝图。金鸡湖景区总面积11.5平方公里，其中水域面积7.4平方公里，比杭州西湖大一点八平方公里。', '吴王夫差聪慧的女儿琼姬发现勾践别有用心，多次提醒父亲提防勾践。可夫差没有听信她的话，反而受西施挑拨，把琼姬赶到苏州城东大湖中的一个荒岛上去“面湖思过”.后来，越国军队兵临姑苏城下，夫差为了保命，准备把女儿作为“礼物”送给勾践请罪求和。琼姬得知这个消息后，痛不欲生，跳湖自尽。后人为了纪念琼姬，便把这个湖泊叫做“琼姬湖”,把她所葬的地方称为“琼姬墩”.由于吴语中的“琼姬”念起来和“金鸡”的读音相近，渐渐地 “琼姬湖”就被人们称为“金鸡湖”了。', '金鸡湖整个景观分为八个区，依次为“湖滨大道”、“城市广场”、“水巷邻里”、“望湖角”、“金姬墩”、“文化水廊”、“玲珑湾”、“波心岛”。金鸡湖畔的湖滨大道、城市广场以及改造一新的中央公园是苏州工业园区人气汇集的焦点。', 361, '//pic5.40017.cn/01/000/86/2f/rBANC1tn_deAUzZTAAEUP420ZNw755.jpg', 'https://pic5.40017.cn/02/001/86/20/rBANDFtn_deAKiemAAFWzdas7Jg796_540x304_00.jpg', 'https://pic4.40017.cn/scenery/destination/2016/07/12/14/RbnDiR_260x200_00.jpg', '杭州西湖有三堤，金鸡湖也有堤，叫李公堤，长1400米，今天的李公堤已成为名动国内外的风情水岸商业街，集特色餐饮、娱乐、观光、休闲、文化为一体，在建筑风格上保留传统的苏州民居建筑形态，苏州古园林式布局。', '金鸡湖整个景观分为八个区，依次为\"湖滨大道\"、\"城​市广场\"、\"水巷邻\r\n\r\n里\"、\"望湖角\"、\"金姬墩\"、\"文化水廊\"、\"玲珑湾\"、\"波心岛\"。', '比杭州西湖大一点八平方公里的金鸡湖，原先只是万倾太湖的一个支脉。可机遇的垂青让它在苏州工业园区的快速升级里也有无与伦比的明媚:目前中国最大的城市湖泊公园。');
INSERT INTO `scenicintroduce` VALUES (15, NULL, 'https://pic4.40017.cn/scenery/destination/2016/07/12/10/oJTgWM.jpg.webp', NULL, '白马涧 ', '4A景区', '江苏省苏州新区枫桥街道白马涧生态园龙池风景区', '9:00-17:00', '//pic4.40017.cn/scenery/destination/2016/07/12/10/gZ0JUm.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/12/10/FGFC5B.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/12/10/x3yvKv.jpg.webp', '白马涧是苏州的一块“绿肺”，在这里享受清凉的同时，还能欣赏一番秀水、翠林、灵山形成的山水画。在山水之间可饮茶、可烧烤，领略沿途的风景。', '水是白马涧的精华所在，源头龙池水质很清澈，在天然的雨水和山泉中嬉戏，不怕污染更加畅快。荡漾池畔，在水滨步道可见莺啼柳绿，或溪水潺潺池畔，各种奇石可供赏玩。', '一路临水游览至此，原本平静的池水因为溢水形成云谷飞瀑，让人眼前一亮。自然溢水加人工循环造就了面宽40米的瀑布，形成与上游迥然不同的景观。', 362, '//pic4.40017.cn/scenery/destination/2016/07/12/10/oJTgWM.jpg.webp', '//pic5.40017.cn/02/001/4f/0f/rBLkCFjrUn-ARzg6AAIAAG4mnCs454.jpg', '//pic4.40017.cn/scenery/destination/2017/03/14/15/ZBTBll.jpg.webp', '这里是龙池风景区乘凉、观景的中心位置，和十里木栈一起在滨水之地为游人开出一条漫游的道路，面朝龙池，放眼望去，山水尽入眼帘。', '通往龙池的乾隆御道两侧还留有乾隆当年的行宫遗址、明朝文学家赵宧光题刻的千尺雪、寿星石，各种古物让白马涧更显灵气。在小青砖铺就的小道上行走，体会自然之外的人文气息。', '白马涧的山并不高，喜爱他的人却不少，春秋吴王在此养马之处，乾隆六次下江南在此建行宫，历代文人墨客观峰后留下墨迹。在这里，不必劳累登高，也可在空灵宁静之境吸收山林间的灵气，远眺古人留下的遗迹。');
INSERT INTO `scenicintroduce` VALUES (16, NULL, 'https://pic4.40017.cn/scenery/destination/2016/07/20/16/K13QwY.jpg.webp', NULL, '江苏大阳山国家森林公园文殊寺景区', '4A景区', '江苏省苏州市新区浒墅关经济开发区阳山环路8号', '09:00-16:30（15:30截止换票入园）', '//pic4.40017.cn/scenery/destination/2016/07/12/10/fVQKol.jpg', '//pic4.40017.cn/scenery/destination/2016/07/20/16/GdpntR.jpg', '//pic4.40017.cn/scenery/destination/2016/07/12/10/OosbpY.jpg', '大阳山，屹立于苏州古城西部，西濒碧波万顷的太湖，绵延二十公里，峰峦逶迤，青葱满目，大阳山用绿色滋润着苏州这座城。', '大阳山自古为佛门胜地，寺庙林立，一片清修世界，素有吴中小普陀之称。文殊寺始建于东晋年间，已经有1600多年的历史，为高僧支遁所开创，现在的文殊寺焕发新的色彩，笑迎八方游客，将佛教文化和阳山文化很好的融合在一起。', '大阳山的森林覆盖率高达88.64%，负氧离子含量高，登山的途中可以路过明代古道、半山亭、文殊殿、浴日亭等历史悠久的景点，底蕴深厚。阳山的幽静也吸引着大量的文人雅士留下佳作，永存史册。', 363, '//pic4.40017.cn/scenery/destination/2016/07/12/10/29PYdV.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/12/10/PyAY23.jpg.webp', 'https://pic5.40017.cn/02/001/52/e5/rBANDFtFkNqAONVjAAJygs_gUpw900_540x304_00.jpg', '大阳山中有着一座文殊寺，寺中的文殊菩萨在佛教中代表着智慧，所以很受家长和考生的欢迎，文殊寺也就成为了传说中求学业的地方。', '午后，呼吸着新鲜空气，品尝着美味烧烤，用欢声笑语来填充着时光。', '大阳山国家森林公园主要山体包括鸡笼山、大荒山、凤凰山、观山、火烧山、青山、阳山等，森林覆盖率88.64%。大阳山分为五大景区，文殊寺景区为森林公园东部景区。');
INSERT INTO `scenicintroduce` VALUES (17, NULL, 'https://pic5.40017.cn/01/001/51/1d/rBLkBVtEL9WAdCAzAAJNRuHB9yM811.jpg', NULL, '苏州太湖国家湿地公园', '4A景区', '江苏省苏州高新区镇湖绣品街1号', '9:00-16:30', '//pic4.40017.cn/scenery/destination/2016/11/18/14/Exh8m8.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/18/14/jgX8Rd.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/18/14/PDN0VS.jpg.webp', '苏州太湖湿地公园坐落在“人间天堂”苏州市区西部的镇湖，西枕太湖，东接东渚，南联光福，与“中国刺绣之乡”镇湖毗邻，规划总面积4.6平方公里，一期对外开放2.3平方公里，投资近4亿。这里为一处天然湿地，秀丽湖湾，茭芦莲菱、白鹭飞天，时时还有蛙鸣鸟啾。 ', '太湖湿地公园是一个自然与文化相融的原始时尚休闲景区，汇集了生态环境、度假休闲、旅游观光、科普教育等功能于一体。景区在突出“自然、生态、野趣”的基础上，融入观景、人文、休闲和游乐等要素，规划设计了湿地渔业体验区、湿地展示区、湿地生态栖息地、湿地生态培育区、水乡游赏休闲区、湿地生态科教基地、原生湿地保护区等七大功能区，全面展现了现代水上田园的自然生态景观。', '小溪涓流，绿草茵茵，空气清新， 林中小鸟竞相争鸣。每到春夏，郊游的人们便聚此露营，品尝太湖美食，享受大自然的恩赐，尽情潇洒，尽情快活。新开辟的大型水上互动游乐区，冲锋舟、水上自行车、碰碰船等游乐项目，在碧波里荡漾，成为太湖湿地一景。', 364, '//pic4.40017.cn/scenery/destination/2016/11/18/14/8Fy42h.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/18/14/WH0DVK.jpg.webp', 'http://pic5.40017.cn/01/001/50/a8/rBANC1tEL9GAXtpMAADuGrj7mjI920.jpg', '桃源人家、桑梓人家、七桅古船、渔矶台、槿篱茅舍、半岛茗茶、客至画舫、烟波致爽等景点，让人时而如同打开一册底蕴深厚的志书史籍，时而又有轻松翻阅风情风物掌故逸兴读物的美妙感觉。', '植物知识长廊广场、濒危植物观察廊、水八仙景区、观鸟亭、湿地栖息岛等景点又将人们带入了一个科普知识的教育园地，让游客汲取生态科学知识，提升自然生态的环保理念。', '公园的地理特色是在现状鱼塘基础上，通过整合、修复、补充，表达了太湖特有的渔文化、刺绣文化、田园文化。公园提出大地景观艺术化等设想，勾画了芦白稻黄、桑青水碧、竹翠桃艳、鹭舞燕翔、蛙鸣鱼跃的生态湿地景象，更大的发挥湿地公园与环太湖生态旅游带紧密相联的优势 促进高新区西部地区社会主义新农村的快速发展。');
INSERT INTO `scenicintroduce` VALUES (18, NULL, 'https://pic5.40017.cn/01/000/80/13/rBANC1q8o0uAfKPcAALZ63DSlyA854.jpg', NULL, '大阳山国家森林公园植物园景区', '4A景区', '江苏省苏州市高新区浒墅关开发区南阳山路', '9:00-16:30（15:30截止换票入园）', '//pic5.40017.cn/01/000/80/13/rBANC1q8o0uAfKPcAALZ63DSlyA854.jpg', '//pic5.40017.cn/02/001/80/03/rBANDFq8o0uAMvKrAAIneXcukAw518.jpg', '//pic5.40017.cn/02/001/80/94/rBLkCVq8pfqAZEHYAAL5Zlq_w9A705.jpg', '大阳山国家森林公园植物园景区，植物种类丰富、树木繁盛、空气清新，可谓“城市绿肺”。寻一个闲暇时光，在真山真水之间，呼吸负氧离子含量丰富的新鲜空气，欣赏难得一见的珍稀植物，让身心都在大自然中惬意舒展。', '植物园景区位于苏州大阳山国家森林公园的南部，景区占地面积约有111公顷，毗邻太湖大道，交通便利。分为科普植物游览区、休闲娱乐植物区、苗木引种培育区三大部分。', '北部是科普观赏性的植物区，以科普性和人文特色为主，比如科普馆、百果园和菖蒲茶庄等。在科普馆通过观看高科技的声光电系统，探索植物的生长奥秘。', 365, '//pic5.40017.cn/02/001/80/8f/rBLkCVq8o0qADqz1AAKgR1AQJcM313.jpg', '//pic5.40017.cn/01/001/80/88/rBLkBlq8o0qAPRg0AAI5Av7mCLw487.jpg', 'http://pic5.40017.cn/01/000/80/88/rBLkBlq8o0qARufyAAIpd881fcE429.jpg', '南部为休闲娱乐性的植物分区。盆景园种类丰富、造型优美，拥有诸多国内外获奖作品的盆景作；温室热带展示园堪称“镇园之宝”，为整个植物园景区的精华，引进世界各地热带植物，如多品类棕榈、热带观赏花木和油料植物等，在水乡苏州也能体验一把热带风情。', '东部为引种培育区，相对独立与宁静，有单独出入口，将成为科研实验室、标本种子库以及试验用阴棚、引种苗木床和引种圃地。植物园引进上百种种植药用植物与名贵树种，重点进行珍稀濒危植物、特有植物、经济植物、观赏植物和环境修复植物等重点类群的分类收集与保存，园内引种一级珍稀濒危保护植物红豆杉，引进价值百万的日本罗汉松;还有红木上等品种之一——黄花梨（学名：降香黄檀）。', '大阳山国家森林公园属北亚热带湿润性季风气候区，雨量充沛，林木葱翠，四季鸟语花香。山峦从鸡笼山拔起，蜿蜒成十五峰峦、六岭、六坞和三涧四岩七处泉的绵绵青山。');
INSERT INTO `scenicintroduce` VALUES (19, NULL, 'https://pic5.40017.cn/01/001/0e/c7/rBLkBlujaZ6AD_8RAAL7xm6tU6c931.jpg', NULL, '阳山温泉度假山庄', '4A景区', '江苏省苏州浒墅关经济开发区阳山环路999号（石阳路往北到底）', '13:00-22:00', '//pic5.40017.cn/01/001/0e/c7/rBLkBlujaZ6AD_8RAAL7xm6tU6c931.jpg', '//pic5.40017.cn/01/001/0e/c7/rBLkBlujaZuAGAWjAAIDzaxuOgE783.jpg', '//pic5.40017.cn/02/001/0e/ce/rBLkCFujaZiAIBcYAAHD9oBCn2c876.jpg', '阳山温泉常年水温保持在45℃，采自大阳山下1300米深、古生界石炭系热储层的偏硅酸氟型淡温泉水，泉水富含氟、硫、硼、偏硅酸等多种化学元素及矿物质，为上等医疗洗浴佳品，可达成美肤养颜、保健祛病、调理身心之诸多功效，花恋露天温泉池、养身露天温泉池、野趣露天温泉池、风情石板浴、温馨细沙浴等各具特色的泡汤方式中，触动每一根神经，舒缓每一寸肌肤。', '温泉养生区拥有八个自然风情小木屋，日式榻榻米装修和室内天然温泉，同时还配备温馨细砂浴、醋浴以及干蒸盐浴等更多泡汤选择，无论是朋友小聚还是阖家齐乐，在这里都能尽情体验充满阳光和自然味道的养身之旅。', '阳山温泉项目还设立了VIP别墅区，拥有独栋别墅6栋，四栋大别墅单栋面积达到192.4㎡； 联排别墅10栋，每栋别墅内部都设有单独的汤池和休闲区，别墅群散落于山脚林间，或独享，或携友，让宾客尽享私密的泡汤情趣。', 366, '//pic5.40017.cn/02/001/0e/ce/rBLkCVujaZ-AXEC5AAMTnRaD9dQ429.jpg', '//pic5.40017.cn/02/001/0e/ce/rBLkCFujaZyASrXGAALtJ3OHwHk083.jpg', '//pic5.40017.cn/01/001/0e/c7/rBLkBlujaZOATHdsAAKgWBxB0aY790.jpg', '室外温泉拥有露天主题泡池28个，包括风情石板浴、花恋露天池、养身中药池、野趣小鱼池、奇海漂浮、火山泥浴等，各种特色主题浴加上大景观汤池区，配合休闲长廊，为宾客营造了轻松休闲的全生态温泉体验系统。', '泡汤可以排毒瘦身储备美丽，温泉中加入上乘薄荷、金银花、菊花共同沐浴，更能提高中草药的功能性，起到清凉祛火、滋润肌肤、增强体质和提高免疫力的效果。', '小鱼们热情地啄食身体上的老化皮质、细菌和毛孔排泄物，使毛孔畅通，排除体内垃圾和毒素，使天然泉水的养生功效事半功倍。');
INSERT INTO `scenicintroduce` VALUES (20, NULL, 'https://pic5.40017.cn/02/000/a5/9d/rBANDFt75z-AdnKwAATzn0dVNJ8918_800x475_00.jpg', NULL, '白鹤寺', '4A景区', '江苏苏州市虎丘区枫桥街道马涧路高景山 ', ' 8:00-16:00\r\n\r\n8:00-16:00', '//pic5.40017.cn/02/000/a6/29/rBLkCFt75z-AAZsuAANYX3RG0LY576_800x475_00.jpg', '//pic5.40017.cn/02/001/a6/29/rBLkCVt750GAenNVAARASfJHeQA058_800x475_00.jpg', '//pic5.40017.cn/01/001/a6/22/rBLkBlt750CAHdGOAAU_uTRtDJw241_800x475_00.jpg', '历史上的白鹤寺是在阳山的白鹤峰下，又称澄照寺。始建于唐会昌年间，距今有千余年历史，为当时吴中胜地。', '白鹤寺位于浙江省乐清市乐清中学校内。白鹤寺于东晋永和三年(347)张荐(文君)捐建。', '唐元和(806-820)年间，重建白鹤寺道场;北宋景祜二年(1035)，寺僧上京请得温州最早一部 藏经;', 367, '//pic5.40017.cn/01/001/a6/21/rBLkBVt750CAMd_xAAa9yeb2WtI946_800x475_00.jpg', '//pic5.40017.cn/02/000/a5/9d/rBANDFt75z-AdnKwAATzn0dVNJ8918_800x475_00.jpg', 'https://pic4.40017.cn/scenery/destination/2016/11/30/16/Og4bqQ_240x135_00.jpg.webp', '原有山门、前殿、大雄宝殿等建筑，今仅存大雄宝殿。木构建筑，重檐歇山顶，翘角飞 檐，面阔5间，通面宽18米，通进深14.20米，白石台基高1.10米。', '辛亥革命时期，月空和尚(黄飞龙)曾在此创办 \"僧民学校\"，进行革命活动。该寺民国初年重修，黎元洪题赠\"法苑犹龙\"匾额。', '高景山白鹤寺位于苏州高新区马涧路，历史上的白鹤寺却是在阳山的白鹤峰下，又称澄照寺，始建于唐会昌年间，距今有千余年历史，为当时吴中胜地');
INSERT INTO `scenicintroduce` VALUES (21, NULL, 'http://pic5.40017.cn/01/001/67/7b/rBANC1usUkKAIKEOAAIS8rNPtX4402.jpg', NULL, '周庄', '5A景区', '江苏省苏州市昆山周庄全福路43号', '7:30-19:50', '//pic4.40017.cn/scenery/destination/2016/07/13/15/hEoTUK.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/12/15/DhRXdh.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/12/15/qBVTvp.jpg.webp', '乌篷船、油纸伞、青石路，烟雨朦胧的小巷里浸润着整个江南，如果不是周庄，这样的景致只有梦中才有。水与桥相遇、茶与戏相逢，我们和周庄邂逅，才停下了生活中忙碌的脚步，找到在梦中存在已久的灵魂栖息地。', '水是周庄的灵魂，清澈而引人遐想。搭上一叶乌篷小船，行于水巷河道，观赏两岸依河而建的建筑，听着船家说着吴侬细语，水乡鲜活生动的一面就这样显现在眼前。', '富安桥是江南水乡仅存的立体型桥楼合壁建筑，桥身四侧的桥楼临波拔起，遥遥相对。桥上有武康石制成的栏杆石可供坐歇，在桥上既可歇息，又可赏景。', 368, '//pic4.40017.cn/scenery/destination/2017/02/23/15/cxa3W9.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/01/12/10/JntHuz.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/12/15/4zpgID.jpg.webp', '双桥由一座石拱桥和一座石梁桥联袂而筑，清澈的河流在桥下交汇成十字，湖面的倒影与桥本身形成了一个标准的圆，很是别致。桥下碧水泱泱，两岸绿树掩映，欵乃声声的小船在桥洞穿过，站在桥上，仿佛拥有了一把观看水乡风景的钥匙。', '君到姑苏见,人家尽枕河，水巷就是周庄道路。在周庄的水巷路过了寻常百姓家，也许没有名人宅院的宏伟，却是一番真切的人间烟火气。在周庄，感受一个平凡人的生活也是一种风景。', '在周庄漫不经心的闲坐比直奔景点而去更重要，沏一壶好茶，静坐庭院之中，除了观赏风景更能沉淀心情。三毛在失去荷西之后，就是这样在周庄的美景旁闲坐，度过了人生中低落的一段。现在的周庄，有一座三毛茶楼，供游人静坐、观景、沉思。');
INSERT INTO `scenicintroduce` VALUES (22, NULL, 'https://pic5.40017.cn/02/001/73/dc/rBLkCFqz0MOAAzDUAAMQ2NckJSQ928.jpg', NULL, '千灯古镇', '4A景区', '江苏省昆山市千灯古镇尚书路1号 ', '8:30-16:30', '//pic5.40017.cn/01/000/73/d6/rBLkBlqz0MaAeniKAAMArOVa9a8782.jpg', '//pic5.40017.cn/02/000/73/dc/rBLkCFqz0MWAcyviAALr82qPfEc378.jpg', '//pic5.40017.cn/02/000/73/51/rBANDFqz0MaAVCrzAAK6jldzEgE637.jpg', '在这里除了可以观赏水乡景致，还能听一首昆曲、漫步在古人居住过的庭院、品尝有古早味的美食，和文人雅士隔空对话，欣赏水乡的风雅。', '水乡常有闻名于世的古桥梁，像三桥邀月这样特别的却不多。三座桥连袂而筑，分别呈现宋、明、清三代的不同特色。走过三桥便经历了三个朝代的建筑特色，不同的时空通过脚步被串联在了一起。', '来到水乡不能不游船赏景，来到古镇不能不细品佳茗。在千灯，坐上一艘古朴的游船，品尝一杯新泡的佳茗，随流水划过，美景一一展现眼前，在水天一色中感受古风韵味。', 369, '//pic5.40017.cn/02/001/73/dc/rBLkCFqz0MOAAzDUAAMQ2NckJSQ928.jpg', '//pic5.40017.cn/02/001/73/dd/rBLkCVqz0MSASyHLAALEgWUmCn8100.jpg', 'http://p0.meituan.net/poi/055b8f6a929faa4652267b83b477dc43470828.png', '石板街南北贯穿古镇，游人可以沿着这条街道领略整个古镇的风采。石板下面设有既宽又深的下水道，与古镇各处的河埠、河滩相连通。即使下滂沱大雨，石板街上从不积水，转晴即干，雨中漫步也别有一番风味。', '千灯出现过很多名人，顾炎武等人都在此处留下了宅院。如果觉得沿着古人足迹看风景太过死板，那就在他们的老宅中自由行走，那种古朴的气息一定不会让你失望。', '千灯镇河流属淀泖水系。解放前原有河浜654条，由于长年失修，已多趋淤塞，旱涝频繁。解放后，从50年代起陆续开挖和疏浚新老河道。到70年代末，先后开挖新河31条，长21.9公里，疏浚老河7条，长14公里，使新老河道相互沟通。');
INSERT INTO `scenicintroduce` VALUES (23, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/31/17/5HL5ES.jpg.webp', NULL, '锦溪 ', '4A景区', '江苏省昆山市锦溪镇', '8:00-17:00', '//pic4.40017.cn/scenery/destination/2017/02/23/11/RHbROz.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/19/14/friHXC.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/02/23/11/JgzQp2.jpg.webp', '不管是水还是街，锦溪都洋溢着一份恬静悠然。在五保湖上走过一座连绵的桥，看湖景听故事；在老街小巷里探访一家家店，享受小憩的时光。', '“三十六座桥，七十二只窑”是锦溪的民谣，其中较著名的有十眼长桥。他是欣赏锦溪水乡风貌的佳地，横卧水间，廊棚依桥而覆，古韵绵绵，视野开阔。每每清风拂面、涟漪浅浅，湖水缱绻着桥的袅娜身姿，分外美丽！', '几百年来，不管水位多高，陈妃水冢始终露在这五保湖湖面，摇曳着绿色的踪影，堪称一奇。它是宋孝宗与陈妃动人爱情故事的见证，也为古镇笼上了一层神秘的色彩。', 370, '//pic4.40017.cn/scenery/destination/2016/10/31/17/5HL5ES.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/15/15/qrnHSP.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/02/23/11/JClwVU.jpg.webp', '禅院内寺内殿堂廊庑、宝阁岑楼和琴堂画舫一应俱全，是江南负有盛名的佛门胜地之一。这座古老而独特的寺庙，是锦溪的标志性建筑。黄墙黛瓦，飞檐翘脊，差落有致，清雅脱俗。', '一身蓝色印花粗布衣，一顶竹编蓑帽，船娘划着小船在碧波的水道间穿梭，时不时传来江南小调，或欢快，或委婉，依依呀呀的唱腔伴随着水中倒影的景致摇曳，让人生出隐约的怀想。', '古镇内的茶馆星罗棋布，足以看出当地人对于喝茶的热爱。晒着午后的阳光，在临河望景中品一壶香茗，就足以打发一个懒懒的下午时光。');
INSERT INTO `scenicintroduce` VALUES (24, NULL, 'https://pic5.40017.cn/01/001/b8/0f/rBLkBVrhOEGAFysuAAGHsWkdmDQ107.jpg', NULL, '阳澄湖水上公园游乐场', '4A景区', '江苏省昆山市巴城镇阳澄湖旅游度假区北门游乐场售票处', '9:00-17:00', '//pic5.40017.cn/01/001/b8/0f/rBLkBVrhOEGAFysuAAGHsWkdmDQ107.jpg', '//pic5.40017.cn/01/000/b8/0f/rBLkBlrhOEKAbjqFAAIru5ACLH8989.jpg', '//pic5.40017.cn/01/001/b7/9a/rBANC1rhOEOADq0cAAIwpKObQDI880.jpg', '阳澄湖水上公园游乐场位于阳澄湖旅游度假区北岸，拓展游乐园由高空拓展区、水上游乐区 、绿地运动游乐区、真人CS战区、湖面运动区和全景定向运动区等六部分组成。', '高空拓展区由三组大型高空组合架组成，24个项目堪称全国首创。水上游乐区在河汊上分布36个水上桥项目。绿地运动游乐区由勇者之路、中低空拓展项目组合、场地游乐设施、南北两块大面积草坪和诸多小草坪等组成', '真人CS战区分布于高空拓展区与南草坪之间，地势略有高低，雪松浓荫密布，障碍掩体巧设。临湖路北大草坪东面和水上公园入口处另有容纳大规模真人CS战场。', 371, '//pic5.40017.cn/02/001/b8/16/rBLkCFrhOEKASG3JAAIufODb2PU700.jpg', '//pic5.40017.cn/01/001/b8/0f/rBLkBVrhOEGACSUAAAItWJ2qS9c212.jpg', 'http://pic5.40017.cn/01/001/b8/0f/rBLkBlrhOEKAEj5sAAKHKMnF-OQ961.jpg', '湖面运动区可进行龙舟、赛艇、皮划艇、画舫、快艇、摩托艇、游艇、帆船、竹筏、水上游乐项目等。定向运动涵括整个水上公园，以封闭式环湖路为中心设置。', '阳澄湖水上公园的开发建设以尊重自然湿地和保持原始风貌为根本宗旨，以亲近自然和回归自然为基本原则。', '同时，悄然引入现代旅游设施，拓展景区、景点的功能，使之成为都市人群工作之余身心放松的休闲胜地，成为昆山西部的天然“空气净化器”。');
INSERT INTO `scenicintroduce` VALUES (25, NULL, 'https://pic5.40017.cn/01/000/53/bd/rBLkBVtFyZiAJHsWAAE-zvWWv4I780.jpg', NULL, '周庄绿乐园', '4A景区', '江苏省苏州市昆山市全旺路88号绿乐园', '8:00-17:30（暑期延长到19:00）\r\n', '//pic5.40017.cn/01/000/53/bd/rBLkBVtFyZiAJHsWAAE-zvWWv4I780.jpg', '//pic5.40017.cn/02/000/53/c4/rBLkCFtFyZiAVslbAAJi_Cdel70268.jpg', '//pic5.40017.cn/01/000/53/bd/rBLkBltFyZiAEd6sAAF0qVBvarw154.jpg', '53000㎡室外游乐场，这里有一整个绿乐园的自然野趣，吸引了《妈妈是超人3》来拍摄，萌萌哒咘咘和可爱的嗯哼都来了！暑期就要来临，爸爸麻麻应该带宝贝抛开手机、平板电脑，试着去了解脚下的土地，采摘瓜果，体会丰收的喜悦。', '这里秉持以自然，以自由，以成长之名，致力于制造乐玩和童趣，开启孩子们对自然和未知的好奇心。', '从播种到收获，认识各种当季蔬果，亲自上场操作压水井，让小朋友了解食物的宝贵，体验小小农夫的乐趣', 372, '//pic5.40017.cn/02/001/53/c4/rBLkCVtFyZmAfl5iAAFid35aJVc714.jpg', '//pic5.40017.cn/01/000/53/49/rBANC1tFyZuAQvxTAAF_ma503Do751.jpg', '//pic5.40017.cn/01/000/53/bd/rBLkBVtFyZyAYyv-AAKEm6IM0gQ086.jpg', '53000㎡室外游乐场，这里有一整个绿乐园的自然野趣，吸引了《妈妈是超人3》来拍摄，萌萌哒咘咘和可爱的嗯哼都来了！暑期就要来临，爸爸麻麻应该带宝贝抛开手机、平板电脑，试着去了解脚下的土地，采摘瓜果，体会丰收的喜悦。', '在安全戏水的同时，接触水生动植物，搭配科普装置阿基米德取水器，捞鱼抓虾，打水战，还有以中国传统翻花绳游戏为灵感的儿童艺术装置大型翻花绳蹦蹦床，让孩子们趣味满满。', '这里简直太适合拍宝贝的写真了，如果有心准备一些道具，五彩小水桶，气球等等，相信你的这趟乐园之行会非常不一样，让宝贝发挥想象，玩转绿乐园吧！');
INSERT INTO `scenicintroduce` VALUES (26, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/24/10/Ko8yg9.jpg.webp', NULL, '周庄生命奥秘博物馆', '3A景区', '江苏省苏州昆山市周庄镇大桥路82号', '9:00-17:00', '//pic4.40017.cn/scenery/destination/2016/10/24/10/4wcyyL.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/24/10/BUVxv5.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/24/10/lG1Jwh.jpg.webp', '生命奥秘博物馆建于2014年，投资总额2.2亿元，馆藏标本千余件，塑化产品多达百件，市值数十亿，部分藏品被收录吉尼斯大全，可谓件件展品无不举世震撼。', '馆内藏品均由生命奥秘博物馆采用生物塑化技术制作，该技术通过真空物理过程，利用活性高分子多聚物对生物标本进行浸渗，替代生物组织中的水分和脂类，使其塑化，将组织如真实活体般保存下来，塑化标本具有干燥、无毒、无味、可触摸等特性，并具有极高的教学、科研和科普价值。', '此鳁鲸是2009年5月在辽宁省瓦房店市交流岛海域搁浅的。经过35位专业解剖人员历时23个月，耗资1000多万人民币制作完成。制成后的鳁鲸标本不仅能让人感受到它重达6000多斤的庞大，还可以看到其肌肉、神经、内脏等内部结构。制作完成后的鳁鲸无毒无味理论保存时间将达上千年。', 373, '//pic4.40017.cn/scenery/destination/2016/10/24/10/WEJHuQ.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/24/11/panutj.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/24/11/4pwJHE.jpg.webp', '憨态的翻车鱼沐浴阳光，这跳动的精灵带领游客走进生机勃勃的大自然，感受与众不同的动物世界。跟随这些精灵的脚步，我们一同走过脊椎动物的进化历程，感受生命演化的神奇与壮美。', '在这个特别的动物世界里，不仅能透视隐藏在皮肤下的奥秘，而且神经血管也丝毫毕现，肌肉骨骼展现的淋漓尽致。通过不同动物器官的对比，解释了同源器官、同功器官和痕迹器官的演化过程，为生物进化理论提供了有力的证据，传递出生物多样性的内涵，展示出生物体本身极大的变异性与统一性。', '生命奥秘馆每一次新品的展出均牵动着世界的目光，它以高的姿态展现着生命的高傲与完美。为生物进化理论提供了有力的证据，传递出生物多样性的内涵，展示出生物体本身极大的变异性与统一性。');
INSERT INTO `scenicintroduce` VALUES (27, NULL, 'https://pic4.40017.cn/scenery/destination/2017/03/14/13/s3PdH0.jpg.webp', NULL, '莲花岛景区', '4A景区', '江苏省苏州市阳澄湖旅游集散中心 ', '9:00-16:30', '//pic4.40017.cn/scenery/destination/2017/03/14/13/HGFRZZ.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/17/13/c3uspH.jpg.webp', '//pic3.40017.cn/scenery/destination/2015/10/22/15/XuEZp3.jpg.webp', '像一朵莲花盛开在阳澄湖中的莲花岛，总面积3平方公里，岛上保持着江南水乡原生态风貌，莲花岛油菜花种植面积超过了全岛面积的70%。眼前连片空地尽染金黄，莲花岛成了一座名副其实的油菜花岛。', '莲花岛位于江苏省阳澄湖西湖、中湖、东湖中心，面积约3平方千米，形似一朵盛开的莲花,镶嵌在湖中，因此得名“莲花岛”。岛上住着200多户人家,约1200人，多以养蟹为业。', '忆园如同她的名字一样具有回忆的色彩，里面的内容有生态的、生产的、生物的、更是生活化的阳澄湖风情。阳澄湖莲花岛乃至江南水乡原生态的生活方式、生活状态、生活风俗、生活风情，都为本“博物馆”之重要展陈“物”。', 374, '//pic3.40017.cn/scenery/destination/2015/04/18/22/C8nuLd.jpg.webp', '//pic3.40017.cn/scenery/destination/2015/08/03/16/EqJ7KJ.jpg.webp', '//pic3.40017.cn/scenery/destination/2015/08/03/16/H0A32u.jpg.webp', '粉墙黛瓦连成一片，屋前水上船肪一排，真真就是原生态的江南水乡风貌。', '踩水车、牛打水、风车阵：旧时用的灌溉农具，利用脚踩踏或牛的力量和自然风的力量带动轮轴，从而提水灌溉农田。', '玩的累了吗，让观光电瓶车成为我们的代步工具，欣赏风景的同时享受那微风徐徐吹来，实在是太对胃口啦～');
INSERT INTO `scenicintroduce` VALUES (28, NULL, 'https://pic5.40017.cn/02/001/86/94/rBLkCFtn7sWAdtjoAALA6E8IXMU299.jpg', NULL, '荷塘月色湿地公园', '4A景区', '江苏省苏州市相城区太阳路西4575号（与广济北路交汇口西）', '8:30-16:30', '//pic5.40017.cn/02/001/86/94/rBLkCFtn7sWAdtjoAALA6E8IXMU299.jpg', '//pic5.40017.cn/02/001/86/95/rBLkCVtn7saAcQsRAAIOWV38gRY679.jpg', '//pic5.40017.cn/01/001/86/8d/rBLkBltn7saAWHaKAAIye-VzCQk871.jpg', '苏州人喜莲荷，残旧的庭院，莲影摇曳，顿觉出俗，至今小巷深处，仍有人家培植碗莲，莲荷开处，清幽淡雅。但要说到“接天莲叶无穷碧”的蔚然壮观，寻遍苏州城，怕只有相城的荷塘月色湿地公园了。', '经多年培育和引种优化，在荷塘月色湿地公园，春夏秋三季都可赏荷观莲。公园里的反季节莲荷已经培育成功，隆冬时节，照旧能一亲芳泽。试想一下，外面大雪纷飞，守着一屋绽放的莲荷，满室清香淡雅，围炉煮酒喝茶，何等快哉！', '公园建有热带王莲水景、荡舟采莲、乌篷船娘秀、儿童游乐场、百荷流香栈桥、荷韵廊、荷塘迷宫、水趣园、莲香品茗馆、水芸坊茶楼、荷香园酒店等特色游览项目。', 375, '//pic5.40017.cn/01/000/86/19/rBANC1tn7sSAUIk2AAIHmK5jlRo853.jpg', '//pic5.40017.cn/01/001/86/8d/rBLkBltn7seAcov4AAHTy8nua5I134.jpg', '//pic5.40017.cn/01/001/86/18/rBANC1tn7sSAT2kGAAF0GEDlYJw211.jpg', '长达400米的木栈道，公园总共木栈道长达830多米，游客不仅可以乘着乌篷船游览更可以在公园各空间自由行走。', '五月，千亩荷塘小荷尖尖，蛙声唱鸣。睡莲五彩缤纷，缸植荷花清雅绽放，为美丽春天点上了淡雅的色彩。荷塘春色是一幅有声有色的水墨画，也是人们抹不去的儿时美好田园童话，春游荷塘别样清新！五月游园将有赠送小荷苗活动。', '苏州才子唐伯虎描述苏州人赏花“江南人尽似神仙，四季看花过一年。”走过四季，夏天赏荷则是苏州人传承喜欢的雅俗。 夏天的荷塘，带来夏日清凉和芬芳，也带来夏日童趣和浪漫，更有江南水乡优美的夏日诗画文韵。');
INSERT INTO `scenicintroduce` VALUES (29, NULL, 'https://pic4.40017.cn/scenery/destination/2016/12/31/15/jQg2i5.jpg.webp', NULL, '苏州中国花卉植物园', '4A景区', '江苏省苏州市相城区太阳路', '8:30-16:30', '//pic4.40017.cn/scenery/destination/2016/12/31/15/jQg2i5.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/12/31/15/vWCrX4.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/12/31/15/hWYBnV.jpg.webp', '花王角是苏州中国花卉植物园的镇园之园，园内种植了百年以上树龄的花王330株，每一棵都是历经艰辛， 从全国各地移植而来。有树龄800多年的八棱海棠，有树龄800多年的棠棣，有树龄880多年的重阳木，有树龄 500年以上的桑树，有树龄400年以上的皂角，有树龄400多年的桂花王，有树龄380年的刺五加，有树龄310年 以上的紫薇等。', '在三至五月赏花季节，来植物园可以领略玉兰初绽、杏花春雨；海棠红妆、桃花烂漫；樱花飞舞、牡丹国色；含笑吐芳、杜鹃若霞；锦带花灿、琼花似雪和玫瑰浪漫。园内春花正渐次开放，整个赏花期可持续到五月中下旬。', '花卉植物园利用全国旅游交易会、特色花卉节、相城区旅游推介会、媒体采风活动等多种渠道 精心、巧妙的培养花卉，使得植物园知名度不断提高。每年前来休闲观光和接受科普知识的人员超过60万人次。', 376, '//pic4.40017.cn/scenery/destination/2016/12/31/15/p3EFOe.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/12/31/15/gjwSkm.jpg.webp', 'http://pic4.40017.cn/scenery/destination/2016/12/31/15/Go642o.jpg.webp', '苏州城北以赏花为主题的“天然氧吧”，496平方公里成为一幅“远看像森林、近看是花园”的大写意，以生态相城、人居天堂的姿态全速融入苏州中心市区。', '花卉植物园建设因地制宜，根据园内多种地况特点，分别种植水生、中生、旱生植物，创造丰富多变的植 物园景观，取得良好的生态效果。', '花卉植物园建设因地制宜，根据园内多种地况特点，分别种植水生、中生、旱生植物，创造丰富多变的植物园景观，取得良好的生态效果。2010年，前往休闲观光和接受科普知识的游客超过了100多万人次。');
INSERT INTO `scenicintroduce` VALUES (30, NULL, 'https://pic5.40017.cn/02/000/4d/11/rBLkCFqh7pyAHAaKAAJJdjPLgeA554.jpg', NULL, '盛泽湖月季园', '3A景区', '江苏省苏州相城区盛泽湖休闲度假区', '8:30–17:00', '//pic5.40017.cn/02/001/4c/86/rBANDFqh7p6AFz0BAAKBHz3yAUE294.jpg', '//pic5.40017.cn/01/000/4d/0b/rBLkBlqh7pmATPhsAAIxLGUJrqA033.jpg', '//pic5.40017.cn/02/000/4c/86/rBANDFqh7p2AFLWNAALQppgwWDo739.jpg', '盛泽湖月季园占地800亩，总投资8000万元。坐落在天堂苏州相城区的盛泽湖畔，她是一座园湖一体、以月季为主题的生态休闲风情花园；也是相城区一个集岛、湖、水、花、田、园、林为一体的游览观赏休闲胜地；是长三角地区浪漫的月季主题展览园。', '相城区素有“花城”的美誉，月季花园不失为美丽绚烂的一朵。近期梅花开放，在严寒中，梅开百花之先，争天下而先春。', '衬托月季园巨大背景的盛泽湖，总面积5平方公里，清澈的湖水达国家二类水质。毗邻月季园北岸的盛泽湖，以生态自然清澈的湖水著称于江南湖泊之群，微风拂过水面，湖水碧波微漾；水鸟掠过花丛，风姿柔媚动人。这一湖碧水和一园鲜花像是两位相互挽着依着的仙子。', 377, '//pic5.40017.cn/02/000/4c/86/rBANDFqh7p2APUgZAAHkzRNHQQ4603.jpg', '//pic5.40017.cn/02/000/4d/11/rBLkCVqh7p6AOSmKAAIQvIzPP7k706.jpg', '//pic5.40017.cn/01/000/4c/96/rBANC1qh7pmAEQF_AAL5Dby-voU604.jpg', '盛泽湖月季园除了具有独特的湖畔花径风情，各种体验游览功能区也一应俱全。全园分为入口服务区、月季游赏区、生态科普区、商业休闲区和运动休憩区五大功能区。附以生态养殖、露天垂钓、篮球、足球运动场、野生水鸟观赏、果岛采摘和特色餐饮等娱乐休闲项目。', '各功能区的建筑物与绿化的布置相协调，既植树见绿，又留出视觉空间，绿化高度、层次、密度变化多样。 三条道路贯穿全园，一条沥青路主线，可供游人乘园内电瓶车观赏；', '一条木栈道，曲径通幽，两侧遍布竹林、乡土树种和成片的月季；另一条沿湖小园路，蜿蜒曲折，横过小溪，穿于竹林。');
INSERT INTO `scenicintroduce` VALUES (31, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/13/14/7eVRxJ.jpg.webp', NULL, '张家港市暨阳湖欢乐世界', '3A景区', '江苏省张家港市杨舍镇暨阳湖生态园区', '09:00 - 17:00', '//pic4.40017.cn/scenery/destination/2016/10/13/14/J2qHGh.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/13/14/Fh52de.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/13/14/Po7oG8.jpg.webp', '蜿蜒曲折的轨道、上下翻转的身姿、高空兴奋的尖叫，让你的在过上车上体验心跳加速！', '上下摇摆的船只，迎着风浪越来越高，坐在海盗船上，做一次英勇的海盗船长，和风浪做斗争！', '体会高速冲浪、失重、惊恐、离心的各种刺激感受，欣赏漫天浪花水帘的奇景，其乐无穷。', 378, '//pic4.40017.cn/scenery/destination/2016/10/13/14/PSpwVo.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/13/14/DFfpCm.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/13/14/XXb2Lj.jpg.webp', '驾驶着自己的船只，可以在水上慢慢的游荡，也可以来一场激烈的水上“战争”，温柔与激烈水上游戏！', '尽管还是陌生人，但是不妨碍一场速度与激情的相聚，欢声笑语、尖叫嬉戏都在这里回荡。', '旋转木马一圈圈的转着，随着音乐声起起伏伏，仿佛回到小时候，那段欢快的记忆。');
INSERT INTO `scenicintroduce` VALUES (32, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/27/15/t9ZV7P.jpg.webp', NULL, '香山景区', '4A景区', '江苏省苏州市张家港市南沙镇望江路', '04：30—21：30', '//pic5.40017.cn/01/000/ea/06/rBANC1p7uI-AVgUpAAK3fRKYuGE230.jpg', '//pic5.40017.cn/01/001/ea/7b/rBLkBlp7uI6AejT9AAIgwAZz1cs628.jpg', '//pic5.40017.cn/02/001/ea/81/rBLkCVp7uI2AZJk5AAJMTNouzFA939.jpg', '活动时间：2月10号-3月11号。新年伊始，好春至江南，一缕微风，邂逅一片春水，艳遇百亩梅香，这便是香山梅园 。梅拥香山，水映梅香，林水之间，绘春色斑斓印记梅花情，多彩梅花绘，祈福聆风塔，留影梅花园。还有惊喜互动，悦千万春心。', '香山用它博大的胸怀拥抱着梅园，梅以山而秀，山因梅而幽，山翠梅艳，使梅园成为融名卉、绿化、建筑、文化为一体的游览胜地。梅园占地300亩，种植万株梅花，品种繁多，有江梅、红梅朱砂、骨红、美人梅等。', '六大主题活动：全民大寻福，聆风祈福，多彩梅花绘，踏春时节，趣味海洋馆，悦动全城。梅园坐落于香山南湾，前临香山湖，背靠香山，倚山植梅，以梅饰山，亭台楼阁点缀其间，四时风光旖旎。', 379, '//pic4.40017.cn/scenery/destination/2016/10/27/17/MrBQVc.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/27/17/nQaKS5.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/27/17/q91rAK.jpg.webp', '香山，因传说春秋时吴王夫差遣美人上山采香而得名。自然风光秀丽，加上扑朔迷离的传奇故事，历来吸引文人墨客来此观光赏游，明代地理学家徐霞客多次登上香山，为这里的山、水风光留下了诗词、赋文。', '梅花堂，初建于宋代。相传苏东坡晚年仕途失意，因友人葛氏邀请，曾数度来梅花堂怡情养生，并题书梅花堂匾额。堂后洗砚池，因东坡洗砚而得名。明朝末年，爱山成癖的徐应霞（徐霞客之兄）重建梅花堂，并在山上广植梅竹。', '占地面积4．37平方公里，海拔高度为1 36．6米。山体呈菱形状，由大、小香山组成。北坡险峻，南坡平缓，顶部开阔，素有江南名山之誉。清康熙《江阴县志》中赞：“香山突出平壤，高峻磅礴，甲于他山。”');
INSERT INTO `scenicintroduce` VALUES (33, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/25/10/md9SxT.jpg.webp', NULL, '河阳山歌馆', '4A景区', ' 江苏省张家港市凤凰镇河阳山歌馆', '8:30- 16:30', '//pic4.40017.cn/scenery/destination/2016/10/25/10/Ac42B2.jpg', '//pic4.40017.cn/scenery/destination/2016/10/25/10/iG8X5A.jpg', '//pic4.40017.cn/scenery/destination/2016/10/25/10/CIFAtf.jpg', '山歌馆四面环水，是集展示演艺、学术研究和文化交流等功能于一体的综合性文化设施。河阳山歌保留了许多古代吴方言，是研究中国语言的宝贵资料。', '建筑面积3800余平方米，为保护和展示首批“国家非物质文化遗产——河阳山歌”而建。馆内小桥流水，亭台楼阁，一派古典风韵，可同苏州园林相媲美。', '山歌馆以河阳山歌传承的时间与空间为主线，设有门厅、河阳山歌展示馆、历史文物陈列馆、历史名人馆、民俗风情长廊、学术研究中心、培训学校、山歌演艺馆、特色展示馆以及凤凰阁等10大功能场所。', 380, '//pic4.40017.cn/scenery/destination/2016/10/25/10/6X3DlZ.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/25/10/LRTD4G.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/25/10/jGRWdu.jpg.webp', '通过现代科技手段展现区域内人类活动的历史遗存、历史名人、民风民俗与非物质文化遗产以及古戏台的山歌演艺，代表作《斫竹歌》被认为是传世的古歌谣《弹歌》的原型，是中国民间歌谣珍稀的“活化石”，它的发现改写了中国的诗歌史与音乐史。', '河阳山歌是张家港南部地区千百年来劳动人民自己创造的原生态歌谣。以凤凰镇为传承中心，分布在河阳山的周围地区。由于河阳山歌存在于江南水乡的纯农耕圈内，很少受外来文化的影响而独立存在着。', '河阳山歌作为吴歌的重要组成部份，已列入国家非物质文化遗产。凤凰镇也被命名为“中国历史文化名镇”、“中国吴歌之乡”、“中国民间文化（山歌）艺术之乡”。放慢脚步，游人可充分领略河阳山歌的风采和天籁之音的魅力。');
INSERT INTO `scenicintroduce` VALUES (34, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/19/11/f8q5xm.jpg.webp', NULL, '恬庄古街', '4A景区', ' 江苏省张家港市凤凰镇恬庄古街 ', '8:30-16:30', '//pic4.40017.cn/scenery/destination/2016/10/18/16/UaliIM.jpg', '//pic4.40017.cn/scenery/destination/2016/10/18/17/DD6iVB.jpg', '//pic4.40017.cn/scenery/destination/2016/10/18/17/RrSAbh.jpg', '走进恬庄老街，驳岸、拱桥、水巷，狭窄的石板街面，构成了水乡古镇的特有风貌。现存的榜眼府、杨氏孝坊、杨氏南宅、蒋宅等都是这些历史名人流传后世的珍贵古建筑。', '恬庄老街是一座历史悠久、民风淳朴的古镇，又名田庄。明代中叶，恬庄逐渐形成。 文献记载，“田庄镇，有桥跨奚浦塘，居民千家。明末始盛，今黄泗浦巡 司寄居于此。', '恬庄古镇区还有一条遗存长度为280米、遗留阶石481块的古街，古街大小弄堂古色古香，明清建筑、古井、古银杏讲述着岁月沧桑 也是一道独特的风景。', 381, '//pic4.40017.cn/scenery/destination/2016/10/18/17/yWZ46v.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/18/17/6ne2ja.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/18/17/Gs61kF.jpg.webp', '纵横交错的深巷街道，犹如一棵老槐树的根，把古老的、现代的民宅维系在一起。那座上百年历史的杨氏孝坊，就像一位满脸沧桑的老人，向儿辈们诉说着小镇不平凡的昨天。', '明末始盛，今黄泗浦巡 司寄居于此。”在清代全盛时期，恬庄有四条主要街道，并且有六座巷门，北巷门上还有一座气势宏伟的更楼，站在更楼上可俯视全镇。', '古老的暗泾河，在保留着诸多明清建筑静谧的街巷里穿行，藤蔓爬过荒芜的古园，小草点缀在古宅零乱的瓦楞上，溜光圆滑的古井，还在供给人们清澈的甘泉。');
INSERT INTO `scenicintroduce` VALUES (35, NULL, 'https://pic3.40017.cn/scenery/destination/2015/04/18/13/8OjzTk.jpg.webp', NULL, '金凤凰温泉度假村', '4A景区', '江苏省苏州张家港市凤凰镇金谷路 ', '13:00-22:00', '//pic4.40017.cn/scenery/destination/2016/09/26/21/yojX5L.jpg.webp', '//pic3.40017.cn/scenery/destination/2015/04/18/13/8OjzTk.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/09/26/21/9XCyg8.jpg.webp', '金凤凰温泉，整个温泉区拥有56个汤池，错落有致，动静分明。其水温52℃，源自地下1200多米深处，以“氟镭”成分为主，又称“青春不老泉”。', '虽然温泉不算大，但内在的配置却非常独到，因为老板是台湾人，在一些氛围和细节制造上显得颇为台式，另外与长三角地区诸多温泉想比，度假村的特色就是种类繁多的按摩池。', '度假村内，萦绕着古色古香之气，处处布置以南洋景观，中国禅风的设计理念在这里发挥得淋漓尽致，进来心一下子会安静下来。', 382, '//pic4.40017.cn/scenery/destination/2016/09/26/21/aiGJkh.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/09/26/21/RuSHnw.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/09/26/21/SHGRMV.jpg.webp', '喷出的冷雾可使温泉池上方产生物理降温，接近温泉池时即有清爽的冷雾缭绕而来；身体泡在温暖的泉水中，四周云雾缭绕，很像仙境有木有！此外，冷雾中富含的负离子，不但净化空气、而且对皮肤具有很好的保湿美白等功效。', '其中仅水疗池就有三十多种水疗设备，“SPA水疗”科学运用温度、压力、水，以不同形式和方法利用泉水的浸、冲、按、淋等功能设备帮助人消除疲劳、放松身心、加速代谢和循环，让游客充分感受天然温泉的乐趣与收益。', '在度假村，为您推荐的就是这个鱼疗池，把脚伸到鱼疗池里，许多小鱼儿就围了过来，脚会有痒痒麻麻的感觉，十分有趣。');
INSERT INTO `scenicintroduce` VALUES (36, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/19/15/foeOri.jpg.webp', NULL, '张家港梦幻海洋王国', '4A景区', '江苏省苏州市张家港市吾悦广场负一层', '10:00-20:00', '//pic4.40017.cn/scenery/destination/2016/10/19/16/QGV14s.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/19/16/lguxiu.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/19/16/v46cW4.jpg.webp', '它是一家海洋主题乐园，馆内引进五大洲、四大洋的近200多种，一万余尾珍稀的海洋鱼类和海洋生物。根据不同功能分为神秘亚马逊、维京之家、梦幻水母宫、神秘海底花园、海狮欢乐秀、极地城堡、海洋影院、渔人码头等。', '坐落于张家港南二环吾悦广场内，毗邻美丽的暨阳湖生态园，场馆面积约8000平方米，是基于亲子、环保的设计理念打造而成的集观赏、科普和娱乐于一体的大型城市综合海洋主题乐园。', '梦幻水母宫：如梦似幻的深海中，千姿百态的水母舒展着长长的触手，张弛有度，婀娜多姿，在光与影的交错中如水中精灵般翩翩起舞。', 383, '//pic4.40017.cn/scenery/destination/2016/10/19/16/nCBQCm.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/19/16/TLT3Wd.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/19/16/Yjl76H.jpg.webp', '维京之家：远离陆地的大海深处，生活着一群爱冒险的维京人，他们强悍骁勇，无拘无束。快点到这个以海盗著称的维京人部落，一探究竟吧！', '海底秘密花园：倘徉在五光十色的海底世界，伴随着成千上万，色彩斑斓的珍稀鱼类在身边游曳穿梭，这是多么奇妙的享受啊！伴随着您的不断探索，你会发现一片古老被世人遗忘的神秘陆地——亚特兰蒂斯，在你的眼前呈现。', '海底寻宝：打开记忆的闸门，回忆童年单纯美好的时光。您可以在这里陪伴孩子度过每一个开心快乐的日子，寓教于乐，让亲情在游玩中升温，家的温馨在此刻浪漫呈现。');
INSERT INTO `scenicintroduce` VALUES (37, NULL, 'https://pic5.40017.cn/01/001/7b/88/rBANC1thaiuAWDegAAJ5RYwtxR0571.jpg', NULL, '太仓郑和公园', '4A景区', '江苏省太仓市太仓港经济技术开发区南环路1号太仓郑和公园', '8:00-17:00', '//pic5.40017.cn/01/000/7b/88/rBANC1thai6AbrECAAHb0pxYjr8448.jpg', '//pic5.40017.cn/02/001/7c/04/rBLkCVthaiuAFX1YAAMD7CqWxiY967.jpg', '//pic5.40017.cn/02/001/7c/04/rBLkCFthaiuARX2vAAJLkPlMn58475.jpg', '郑和公园是太仓市的一座主题公园，是一个“多元一体化”、“体验式”新型综合性滨江公园。它位于滨江大道的东侧，浮桥镇南环路东端，一直延伸至长江边大堤。它是太仓新港城的一张新名片，给游人带来美好的感受和游兴，来一份惊喜，留下深刻印象。', '郑和铜像是目前国内较大的郑和铜像，铜像由锡青铜制作，重50余吨，高18米，底座高2.8米。这些数字暗喻郑和身高1.8米，航海28年。', '郑和手执航海图，昂首挺立在长江口当年七下西洋的起锚地，高大而典雅，宏伟而凝重。', 384, '//pic5.40017.cn/02/000/7c/04/rBLkCVthai6AGtaIAAInpR_qyyQ046.jpg', '//pic5.40017.cn/01/000/7b/fd/rBLkBlthaiuAEOhkAAL9wYaauaE426.jpg', '//pic4.40017.cn/scenery/destination/2016/11/02/16/IWOhUU.jpg.webp', '这艘宝船长71.1米，宽14.05米，这是为了纪念1405年7月11日郑和在太仓首航出海的日子。船尾部有三层，近18米高，高的桅杆达38米，寓意郑和曾经去过的三十八个国家和地区。整个宝船颜色为朱红，雕刻的颜色为金色，颇有皇家气派。站在宝船上，可以俯看景观广场的景色和音乐喷泉表演。', '异域风情区建筑面积为3300平方米，设计师们选择郑和船队故事性较强的7个国家（古里、锡兰、忽噜莫斯、麦加和麻林等）和地区标志性建筑。', '它以塔桥为界，桥西狭长地带建造民居，以木色为主色调，屋顶用浅褐色瓦，局部用草顶；桥东建造宫廷建筑，以偏红偏蓝偏黄的暖色调为主，屋顶选择层次感强、色彩好的油毡瓦。');
INSERT INTO `scenicintroduce` VALUES (38, NULL, 'https://pic3.40017.cn/scenery/destination/2015/06/08/14/DWnCrf.jpg.webp', NULL, '太仓现代农业园', '4A景区', '江苏省苏州市太仓市沙溪镇岳王区新港公路南侧', '8:45-17:15', '//pic4.40017.cn/scenery/destination/2016/11/04/11/vux4t1.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/04/11/fmXrx6.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/04/11/yZf165.jpg.webp', '现代农业展示馆位于太仓现代农业园区内，为可控温玻璃观光温室，温室面积6000平方米。馆内配有先进的控温、通风、遮阳系统，确保阳光、水份、营养的有效供给，冬季可保持在10℃以上温度，以满足馆内各类植物周年生长的需要。', '现代农业展示馆馆内分为跌水假山、水榭平台长廊、天圆地方州桥和月湖茄林四个意境各有特色的主题区域，贯穿东西的水系将四个景观区和谐地衔接在一起。主要展示了立柱栽培、营养液水培、管道栽培、储液储气式盆栽等高科技农业栽培技术，引进、种植了国内外新、奇、特植物新品种300余种。', '馆内设置了30个装饰各异的包厢，除部分采用木结构外，还有用各种鲜花和香草围成的天然花房和香草房，供游客在内赏玩品茗，休闲娱乐。', 385, '//pic4.40017.cn/scenery/destination/2016/11/04/11/64d3Nc.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/04/11/j3g9LG.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/11/04/11/P9Hhlc.jpg.webp', '花卉园艺展示馆位于太仓现代农业园区内，玻璃观光温室面积4800平方米，于2008年年底建成。馆内配有先进的控温、通风、遮阳系统，冬季可保持在10摄氏以上温度，以满足馆内各类植物周年生长的需要。全馆以“花”为中心展开，形成一个集花卉观赏、展示、销售、科普、休闲等多功能于一体的农业高科技窗口基地和旅游观光点。', '太仓市现代农业园区是该市面向21世纪，为发展现代农业、加快城乡一体化进程而设立的一个集生态、绿色、高效、富民于一体的农业园区，也是我市确定的永久性农业发展区。', '园区位于交通便捷的市域中东部，规划总面积3.5万亩，分为涉农加工贸易区、特色农业创新示范区、农业产业孵化区和生态农业休闲观光区4大功能区。通过招商引资进入园区的各类项目有25个，投资总额达6亿多元人民币，流转土地近6000亩，经过三年多的建设，已形成休闲观光农业、高效农业、科技农业、外向农业、循环农业源农业6个特色主导产业。');
INSERT INTO `scenicintroduce` VALUES (39, NULL, 'https://pic4.40017.cn/scenery/destination/2016/07/20/16/s6gqrI.jpg.webp', NULL, '沙溪古镇', '4A景区', ' 江苏省苏州市太仓市沙溪古镇白云路', '8:30-17:00', '//pic4.40017.cn/scenery/destination/2016/07/11/11/rDSMrP.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/11/11/jNMjA5.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/11/11/gnEbyC.jpg.webp', '沙溪古镇，一座隐秘的苏州古镇，少了人流，少了喧嚣，有的是1300余年的历史，有的是厚重的文化底蕴。随着历史的前进，沙溪古镇形成了“一河二街三桥”的古镇格局，保留了大量的明清建筑，留存了朴实的水乡风貌。', '夜晚的沙溪分外的宁静，蒙蒙细雨给古镇蒙上了一层面纱。虽然夜晚的灯光并不算绚丽多姿，但是点点灯光点缀的恰到好处，朴实而又灵动。夜晚的古镇少了白日的喧嚣，多了夜晚的宁静，漫步其中，慢慢感受古镇的原汁原味。', '沙溪古镇拥有众多名人的名居，元末隐士瞿孝祯的私人花园乐荫园，陆京士中西合璧风格的民宅，吴晓邦双层欧式风格的小楼，这些既有建筑之美，有蕴藏着文人的气息，在江南古镇中另有一股气质。', 386, '//pic4.40017.cn/scenery/destination/2016/07/11/11/p8xUk0.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/11/11/PYfYiv.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/11/11/IhtxfC.jpg.webp', '沙溪古镇有一座童趣馆，里面是收集到的各种各样的儿时游戏，如打弹珠、丢沙包、跳皮筋、跳房子等等，这里的欢声笑语勾起对童年的回忆。', '斗蟋蟀，又称秋兴，是一项有着两千多年历史的民间娱乐活动，文化底蕴深厚。促织馆则以此为主题，约好友来此，在这斗蟋蟀的氛围中，品茗，并增长一些知识，别是一番滋味。', '古色古香的招牌，吸引着眼球，香甜的味道，吸引着游客，来到沙溪古镇，品味古镇特有的美食—陆家糕团，口感绵软。价格比较还是比较公道的，可以尝试一下。');
INSERT INTO `scenicintroduce` VALUES (40, NULL, 'https://pic5.40017.cn/01/001/4f/18/rBLkBVtDLNSAODcjAALEMc0qhfg202.jpg', NULL, '沙家浜 ', '5A景区', '江苏省苏州市常熟市沙家浜镇锡太公路', '8:00-16:15', '//pic5.40017.cn/01/000/7e/1b/rBLkBltiqtWAehq0AAHcVRwo9H4661.jpg', '//pic5.40017.cn/02/001/7d/97/rBANDFtiqtmAVubFAALzCQ1Kp-I984.jpg', '//pic5.40017.cn/01/001/7e/1b/rBLkBVtiqtiAd5UXAALooCMHcuk785.jpg', '沙家浜星辰5D影院利用座椅特效和环境特效，模拟了电闪雷鸣、风霜雪等多种特技效果，将视觉、听觉、触觉和动感完美地融为一体，以超现实的视觉感受配以特殊的、刺激性的效果同步表现，在产生呼之欲出、栩栩如生的立体画面的同时，随着剧情变化大型机械模型将会参与影片互动，从而使观众参与其中并全身心地融入到剧情之中，体验虚幻仿真、惊心动魄的冒险旅行。', '商朝末年，冰火风雷四恶龙兴风作恶，导致陈塘关生灵涂炭，民不聊生。陈塘关总兵李靖之子哪吒小小年纪便气力盖世，路见不平打死冰龙太子，致使四恶龙逼临陈塘关，为保百姓哪吒拔剑自刎! ', '在向导阿里的带领下，队长老余带着女儿余瞳、学生小郑，依靠一 张古老的羊皮卷，通过地下暗河进入离奇诡异的地下世界。经过重重异变，他们进入了依山而建的一座全部由白玉建造的宫殿。阴森的宫殿之中一具干瘪的古尸向小郑扑来。四人躲闪着与古尸周旋，终将其消灭。', 387, '//pic5.40017.cn/01/001/4f/18/rBLkBVtDLNSAODcjAALEMc0qhfg202.jpg', '//pic5.40017.cn/01/001/4f/18/rBLkBltDLM6AYPEpAALiXtJtw6k272.jpg', '//pic5.40017.cn/02/000/4f/1f/rBLkCFtDLM2AaXC6AADsd522jRU823.jpg', '乘着小船，慢慢的划过水面，在芦苇荡中穿行，不管划到哪里，都是绿油油的芦苇，仿佛在迷宫之中，晕乎乎的转悠。两岸风光秀丽，嘹亮的歌声回荡在芦苇荡上空，融入在心里。', '千亩的芦苇荡浩浩汤汤，迎风而动，在这里曾经上演过惊险的一幕，直到现在剧情仍在。这里是著名的京剧《沙家浜》的发源地，阿庆嫂、刁德一这些曾经的人物还在被演绎着，这是一个可以唤起曾经记忆的景区。', '大型实景剧相继上演，运用现代的科技手段，演绎沙家浜的传奇故事，诙谐的讲述军民共同抗日的故事，给观众带来一场视听盛宴，重归烽火连天时。');
INSERT INTO `scenicintroduce` VALUES (41, NULL, 'https://pic3.40017.cn/scenery/destination/2015/04/18/04/OAC6Z1.jpg.webp', NULL, '梅李聚沙园', '4A景区', '江苏省常熟市梅李镇梅东路1号 ', '8:00-16:00', '//pic4.40017.cn/scenery/destination/2016/12/31/15/mBYcbs.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/12/31/15/ZShd2h.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/12/31/15/MLakjO.jpg.webp', '聚沙园位于梅李中心镇区东侧，占地面积64000平方米，因全园主体为始建于南宋的《聚沙百福宝塔》而得名。', '为充分挖掘千年古镇深厚的历史文化底蕴，优化投资环境，提高集镇品位，梅李镇历届党委政府投巨资先后多次对聚沙园进行扩建改造。', '园内设有屏山听泉、聚沙塔影、古木清风、荷浦薰风、莲峰谈艺、孝廉梅李、濠濮间想等以及名家碑刻回廊、名胜古迹展厅、中共常熟县委重建的常熟人民抗日武装纪念碑、健身中心、茶座等旅游景点和休闲场所。', 388, '//pic4.40017.cn/scenery/destination/2016/12/31/15/WbCTSn.jpg.webp', 'http://pic5.40017.cn/01/000/9e/2f/rBLkBlmSrr2AX6DNAALrL0IsARM642.jpg', 'http://pic5.40017.cn/02/001/9e/08/rBANDFmSrryAUToWAALoGfkROUA756.jpg', '园内可谓集文化娱乐、体育活动、休息游览多功能于一体。漫步园间，繁花似锦，轻乐相伴，令人赏心悦目，心旷神怡。园内亭台水榭，古木参天，绿树成荫，百花吐艳，是旅游爱好者休闲娱乐的理想场所。经过改造后的公园，面积从58000平方米扩大到64000平方米，绿化面积达到了80%。', '主要景点有:屏山听泉、聚沙塔影、古木清风、莲峰谈艺、孝廉梅李，以及名家碑刻回廊、名胜古迹展厅、常熟人民抗日武装纪念碑等，景区内设置评弹书场、茶座、儿童游乐园等配套休闲场所，集文化娱乐、休闲游览多功能于一体。', '李聚沙园，AAAA级旅游景区，位于梅李中心镇区东侧，占地面积64000平方米。景区位于梅李中心镇区东侧，占地面积64000平方米，');
INSERT INTO `scenicintroduce` VALUES (42, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/25/16/qIq4r6.jpg.webp', NULL, '常熟虞山风景区 ', '5A景区', '江苏省苏州市常熟市虞山南路宝岩生态园东门', '8:00-16:00', '//pic5.40017.cn/02/000/b3/d8/rBLkCFnN71GAPPIdAALHN6DRlrU510.jpg', '//pic5.40017.cn/01/000/b3/fe/rBLkBVnN702AWtfsAALKSC7NaWg817.jpg', '//pic4.40017.cn/scenery/destination/2016/10/26/09/AYaqbG.jpg.webp', '虞山景区稻草人文化节，品种丰富，形态各异、主题鲜明。有愤怒的小鸟、小黄人、十二生肖、农耕人物、神话人物等等，各类稻草人造型栩栩如生。', '主干道布置各色风车，近50米的缤纷风车走廊，万千只七彩多色的风车随风摇曳，流光溢彩。一起穿越走廊，接受圣洁幸福的洗礼，合影留念，必将是一次美好的记忆。', '虞山国家森林公园位于风光绚丽的沙家浜畔、阳澄湖边，犹如一颗璀璨的绿色明珠，镶嵌在秀丽的江南水乡。其东南端伸入历史文化名城——江苏省常熟市，西南方与秀美的尚湖相依，湖光山色，相映生辉，素有“七溪流水皆通海，十里青山半入城”的美称。', 389, '//pic4.40017.cn/scenery/destination/2016/10/26/09/qmiDzD.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/25/16/nu1mDc.jpg.webp', '//pic3.40017.cn/scenery/destination/2015/04/18/21/o7qqhJ.jpg.webp', '虞山城墙始建于距今1380多年的唐代武德年间，原为土城，“西城楼阁”位于古城西门之内，与城垣和阜城门毗邻，将修缮地藏殿、五岳楼，恢复大石山房，结合山道构成景观系列，早在明清时代就已是名闻遐迩的“虞山十八景”之一了；辛峰亭和虞山门城楼则组成了新虞山十八景之一的“辛峰城楼”；镇海台广场展示了部分城墙残迹、遗址和雕塑景观，用以展现城墙的文化内涵。', '虞山宝岩生态观光园位于虞山南麓宝岩湾的苍山翠谷之中，占地1500亩，背依青山，面临尚湖，空气清新，环境幽美，森林景观绚丽壮观，是江苏虞山国家森林公园内一个森林景观较为丰富的自然生态园，也是AAAA级景区虞山—尚湖风景区的一个重要组成部分。', '寺庙始建于南齐，原是江南名寺，但屡经兴废，80年代重建。寺又称“破山寺”，相传唐代贞观年间，虞山出现一条白龙，变化为白胡子老翁，常到兴福寺听高僧讲经。白龙现形，高僧见了感到恐惧，连忙口诵咒语，召来揭谛神，揭谛神化作一条黑龙与白龙相斗，白龙不能胜，冲山而去，寺前山坡为之破裂，故称“破山”。 寺内有藏经楼、观音殿，天王殿、禅堂等建筑，重塑大殿三世佛、十八罗汉，是常熟著名的寺院及游览胜地。');
INSERT INTO `scenicintroduce` VALUES (43, NULL, 'https://pic4.40017.cn/scenery/destination/2016/07/23/19/JECinC.jpg.webp', NULL, '尚湖风景区 ', '5A景区', '江苏省苏州市常熟市虞山镇外西三环路尚湖景区 ', '8:10-16:10', '//pic5.40017.cn/02/000/c3/c1/rBLkCFrpXOKAbxzaAAJbU5Q06t8330.jpg', '//pic5.40017.cn/02/000/c3/c1/rBLkCVrpXOOAaMHxAAK3uOApNGk739.jpg', '//pic5.40017.cn/01/000/19/95/rBLkBVmtDzmAcMfpAAF31m9Qnrk702.jpg', '尚湖是姜太公隐居处，这里有难得一见的“水上森林”，充满了小小情调。坐一叶竹舟，看在水中茂盛生长出来的森林。泛舟进入水上森林，就可以看到可爱的飞鸟们，飞翔觅食，或相互梳理毛发，野趣盎然。', '在尚湖，漫步是一种生活，游船是一种生活，骑行也是一种生活，在这里，体验姜太公隐世生活。尚湖与虞山相映，十里青山半入城，万亩碧波涌西门，为古城平添了千种风情。', '尚湖的夏天一定属于荷花。七八月，一年一度的常熟尚湖荷花节在景区上演，拂水山庄、太公岛、荷香洲、山水文化园等景点处处荷花飘香。尚湖内荷花品种众多，水中观赏品种有红领巾、红牡丹、友谊牡丹莲、睡美人等1万余株，缸荷品种有唇红、昆白、粉黛等500个品种。', 390, '//pic5.40017.cn/02/000/c3/c1/rBLkCFrpXNiAd592AAHFOc5U2jA249.jpg', '//pic5.40017.cn/02/000/c3/36/rBANDFrpXNWAZqxVAAMW3HjNnwY654.jpg', '//pic5.40017.cn/02/000/c3/c1/rBLkCFrpXN2AMN6BAAIKOx8U_wE680.jpg', '秋天的尚湖，是属于芦苇荡的。夕阳西下，芦苇掩藏中的尚湖，分外迷人。', '冬日的尚湖，梅花飘香。尚湖水边的拂水山庄，有见证钱柳二人爱情传奇的梅花坞。冬天的尚湖水上森林，鸟类依然繁多，90多种鸟类自在地生活着，生机勃勃。', '在尚湖，除了姜太公的传说，还有见证钱谦益与柳如是爱情的“拂水山庄”。见证钱谦益与柳如是爱情的“拂水山庄”，建筑面积3047平方米。山庄建筑包括明发堂、秋水阁、耦耕堂、朝阳榭、花信楼、梅圃溪堂等。');
INSERT INTO `scenicintroduce` VALUES (44, NULL, 'https://pic3.40017.cn/scenery/destination/2015/04/18/15/2BL8oQ.jpg.webp', NULL, '蒋巷村', '4A景区', '江苏省苏州市常熟市支塘镇蒋巷村', '8:00 - 16:00', '//pic4.40017.cn/scenery/destination/2016/11/04/15/7TfZdB.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/03/17/20/8perzU.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/03/17/20/3hz4EV.jpg.webp', '蒋巷村，江南水乡一颗璀璨明珠，位于江苏省常熟市的东南，紧邻沙家浜红色旅游风景区，处于苏嘉杭、沿江、苏州绕城等高速公路的环抱之中，3分钟可上高速公路，204国道、锡太一级公路交叉经过镇区，旅游交通条件十分便捷。', '生态园：目前已建成动物观赏区、展览区、采摘区、游乐区、学生社会实践区等。动物观赏区内，白鸽卧巢、群鹿迎客、鸵鸟散步、猕猴飞窜，家鹅高吭，草鸡觅食，呈现出生态农村的和谐之美。', '村民新家园：免费入住的老年公寓内整齐、有序、干净、卫生，竹林通幽，小桥流水，鸟语花香，这里是老人的憩园。农民新村则采用现代化的设计手法，房型精致，依水而建，绿草盈盈，桂树花开，蜜蜂飞舞，蝴蝶追逐，一派江南富庶新农村的水乡恬静。', 391, '//pic4.40017.cn/scenery/destination/2017/03/17/20/8Y0oxb.jpg.webp', 'http://pic5.40017.cn/01/000/51/19/rBLkBVtELbGAArbHAAH_QfOhy3U600.JPG', 'http://pic5.40017.cn/02/000/51/20/rBLkCVtELbGAfKRPAAIElER2lek150.JPG', '展览区内，我们可以踩水车，推碾子，辨五谷，识古灶，看农具，体会传统农民一天劳作的辛勤，感受传统农业的乐趣，恍然置身于男耕女织、牧童笛声的年代；映入眼帘的是做工精致，令人赞不绝口的红花绿草、挂果小树、奇石怪岩、老树根雕，感受艺术的博大精神和无穷魅力。', '蒋巷村位于常、昆、太三市交界的阳澄水网地区的沙家浜水乡。全村186户，800多人，村辖面积3平方公里。先后被表彰为全国文明村、国家级生态村、全国民主法治示范村、全国新农村建设科技示范村、全国敬老模范村、全国农业旅游示范点、江苏省文明村标兵、卫生村、百佳生态村、循环经济示范村、民主法治示范村、三星级信息化示范村、人居环境范例奖。', '2004年3月，温家宝总理视察时称\"你这个村叫做全面发展，农业发展、乡镇企业发展、农民富裕。\"同年11月，曾庆红副主席视察时被树木成林、草绿花红、稻谷飘香的景色深深吸引:\"多好的地方啊，这就是现代化新农村。');
INSERT INTO `scenicintroduce` VALUES (45, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/26/09/JB3qiU.jpg.webp', NULL, '方塔园', '3A景区', ' 江苏省苏州市常熟市环城东路靠近新颜桥', '8:00-16:00', '//pic4.40017.cn/scenery/destination/2016/10/26/09/JB3qiU.jpg.webp', '//pic3.40017.cn/scenery/destination/2015/04/18/15/Xxds38.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/26/14/LGCMxf.jpg.webp', '方塔园，位于常熟古城区东，方塔园主景点是崇教兴福寺塔，原名崇教宝塔，俗名方塔。', '九十年代园内又辟月季园，花容秀美，千姿百色。后院增建长廊，亭、堂、凿荷池、堆假山，设常熟市碑刻博物馆、常熟市名人馆。', '1977年起，于院内建镜花阁、雨香堂及亭榭、茶室，堆筑“舒袖”、“展翅”假山，移植花木，辟为方塔公园，并将大东门总官庙的一座大殿移建于塔寺旧址。', 392, '//pic4.40017.cn/scenery/destination/2016/10/26/18/I2coFj.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/26/19/QwWXAH.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/26/18/Za2D1o.jpg.webp', '每年前来赏花的人络绎不绝。郁金香在每年的3-4月开花；月季花的花期一般是每年的5-10月，并有两次盛花期，分别在6月以及9月；荷花的花期一般在每年的6-9月；', '方塔在明末以前几经修葺，到清乾隆三十五年(1770年)大修时，顶部三层大部分重建，道光二十四年(1844年)更换塔刹。清末以后，方塔损坏严重，到解放前夕，塔下围廊全废，塔内各层木结构大多被毁，扶梯仅剩一层。解放后县人民政府采取了一些保护措施，但未修复。1974年5月按照\"修旧如旧\"的要求动工大修，总投资20余万元。1977年初竣工，同年12月7日上海市革命委员会重新公布方塔为市文物保护单位。1981年全国文物普查时，有关专家认为方塔是解放以来国内古建筑修复最好的实例之一。', '方塔园的古文化风采，不仅吸引了众多访古觅幽的游人，还吸引了许多拍摄历史题材的影视工作者，《西厢记》、《牡丹亭》、《窦娥冤》、《聊斋》、《封神榜》、《济公》、《杨乃武与小白菜》、《祝枝山传奇》等10多部影视剧都曾在园中取景。');
INSERT INTO `scenicintroduce` VALUES (46, NULL, 'http://pic5.40017.cn/01/001/79/16/rBANC1tgOvSAHfmjAAJkmUOiXAg451.jpg', NULL, '拙政园', '5A景区', '江苏省苏州市平江区东北街178号', '7:30-17:30', '//pic5.40017.cn/02/001/79/92/rBLkCVtgOvaAcvHxAAID7Yfgiz8946.jpg', '//pic5.40017.cn/01/001/79/12/rBANC1tgNzeAMviTAAKhMGj_JiQ303.jpg', '//pic5.40017.cn/02/000/79/8e/rBLkCFtgNzaAWOjWAALoIwWkT3Y764.jpg', '苏州园林是中国园林艺术的精粹，到苏州主要就是看园林，而拙政园正是苏州园林中著名的一座。它与北京颐和园、承德避暑山庄、苏州留园合称为中国“四大名园”，被誉为“天下园林之母”。', '花园分为东、中、西三部分，东花园开阔疏朗，中花园是全园精华所在，西花园建筑精美，各具特色。园南为住宅区，体现典型江南民居多进的格局。园南还建有苏州园林博物馆，是国内园林专题博物馆。', '进园后看到的树林、草坪、小溪，看起来也没有特别之处，只是颇有几分野趣，在精致的苏州园林中倒显得很别致。苏州其它几个园林，远没有拙政园之大，就更没有展示野趣的空间。', 393, '//pic5.40017.cn/02/000/79/03/rBANDFtgNzaAV8GSAALd6UA4_H0178.jpg', '//pic5.40017.cn/02/001/79/92/rBLkCFtgOvWAa6q-AAHOL7bIozY062.jpg', '//pic5.40017.cn/02/000/79/8e/rBLkCVtgNziAXsifAAKElvXSIsU606.jpg', '远香堂旁边，一座漂亮的廊桥飞跨池上，这座廊桥还有一个同样漂亮的名字：小飞虹。廊桥在江南水乡并不少见，但在苏州园林中却极为少见，有说法是苏州园林的廊桥。但正是这个廊桥构成了宛若飞虹的独特景致，成为拙政园的经典景观之一。', '从小飞虹走过去，是倚水而建的亭榭长廊，环绕成一个幽静的水院。走出这个水院就是拙政园另一处标志性的景观：香洲。香洲是一个石舫，类似的石舫其实在中国园林里是挺常见的，但拙政园香洲却被认为非常漂亮的一个：船头是台，前舱是亭，中舱为榭，船尾是阁，阁上起楼。小小香洲，集亭台楼阁于一体，造型秀丽。站在远处望去，香洲就像是飘荡在荷塘之中一艘画舫。', '与香洲隔荷塘相对的是见山楼。这是一座依水而筑三面环水的二层小楼，江南民居式样。底层被称作“藕香榭”，外面环绕着一圈“美人靠”，游人可在此小憩赏景。里面是书房的摆设，据说太平天国忠王李秀成喜欢在此办公。');
INSERT INTO `scenicintroduce` VALUES (47, NULL, 'https://pic4.40017.cn/scenery/destination/2016/10/25/14/aKaDVZ.jpg.webp', NULL, '苏州狮子林', '4A景区', '江苏省苏州市园林路23号 ', '7:30-17:30', '//pic4.40017.cn/scenery/destination/2016/08/16/16/YZWrId.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/08/16/16/Aa2pKt.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/08/16/16/tRhms2.jpg.webp', '狮子林的假山之多让他有假山王国之誉，它以叠石取胜，洞壑宛转，怪石林立，水池萦绕。依山傍水还有有指柏轩、真趣亭、问梅阁、石舫、卧云室这样的古典建筑，让游客一次看见真趣。', '狮子林的假山堆山曲折复杂、精妙构思，连接成群后更是气势磅礴，太湖石经过工匠打磨后成为玲珑俊秀、洞壑盘旋的假山群。在其间时而穿洞，时而过桥，左绕右拐，来回往复，奥妙无穷。', '狮子林以假山众多闻名，但他的趣味不仅在于多，还在于各种假山仿若狮子惟妙惟肖，而且布局精巧如同迷宫，常常在洞中往复，出来时才觉这些石头构筑了一个别有洞天的世界。', 394, '//pic4.40017.cn/scenery/destination/2016/08/16/16/XfEExb.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/08/16/16/sV5JGH.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/08/16/16/w6jJs3.jpg.webp', '满园的假山并不令人觉得枯燥，期间常有各种古松柏围绕，绿意为假山增添了许多生机。色香态俱佳的花木，疏密相间，错落有致，不仅增加了林木森郁的气氛，更使山石、建筑、树木溶合一体，而成为真正的“城市山林”。', '燕誉堂为全园主厅，原是园主宴客所用，现在仍然保留着原来的古色古香。此厅是苏州园林中较为有名的鸳鸯厅。梁上站三位神仙一位小童，有吉星高照的意思。', '古色古香的诸葛鼓和天然几、花几、供桌、太师椅共置于一室，仍可看到当年高僧讲公案的气势。登楼南望，对面正是狮子林的假山群，室内室外皆是美景。');
INSERT INTO `scenicintroduce` VALUES (48, NULL, 'https://pic5.40017.cn/02/001/aa/37/rBLkCVnLSXKAMkVXAAKbcZlh5oE132.jpg', NULL, '网师园', '4A景区', '江苏省苏州市银杏桥北阔街头巷11号', '7:00-17:30', '//pic5.40017.cn/01/000/aa/5c/rBLkBlnLSXKAXYkrAAJgaCuUvjI850.jpg', '//pic5.40017.cn/01/001/aa/5c/rBLkBlnLSXKAe9pWAALOzZoLmRU022.jpg', '//pic5.40017.cn/02/001/aa/37/rBLkCVnLSXKAMkVXAAKbcZlh5oE132.jpg', '网师园为苏州典型的府宅园林，是我国江南中小型古典园林的代表作品。园始建于南宋淳熙年(公元1174年)，原为南宋侍郎史正志退居姑苏时所筑的一座府宅园林，因府中藏书万卷，故名“万卷堂”，对门造花圃，号“渔隐”。', '网师园面积仅8亩多，是一座中型府宅园林，全园可分作三大部分：东部是宅院区，为府第；中部是山水景物区，为主园；西部是内园，即园中园。这一布局，使整座园林外形整齐均衡，内部又因景划区，境界各异。', '东部由大门阀阅门第、门厅、轿厅、大厅(正厅)“万卷堂”、江南门楼——砖细门楼“藻耀高翔”、内厅(女厅)“撷秀楼”、梯云室组成。中部由铁石山房、琴室、蹈和馆、小山丛桂轩、濯缨水阁、彩霞池、月到风来亭、看松读画轩、竹外一枝轩、集虚斋、小姐楼、五峰书屋、射鸭廊、引静桥(三步桥)组成。', 395, '//pic5.40017.cn/01/000/aa/5d/rBLkBVnLSXGAMlDlAAH-jra6_xY836.jpg', '//pic5.40017.cn/02/000/aa/36/rBLkCFnLSXCAO4xZAAKrM67LIBQ991.jpg', '//pic4.40017.cn/scenery/destination/2016/10/25/15/p6CW6r.jpg.webp', '西部由露华馆、涵碧泉、冷泉亭、殿春簃组成。园内建筑以造型秀丽、精致小巧见长。池周的亭阁，有小、低、透的特点，内部家具装饰以红木为主，精美多致。', '中部池周假山、花台、池岸用黄石，其他庭院用湖石，不相混杂，较为合理。植物配置亦少而精，有青枫、桂、白皮松、黑松、紫藤、玉兰等树种，露华馆内植以牡丹、芍药花卉，尤其是以园子主人史正志亲手种植的近千年古柏，见证了整个网师园的悠久历史变迁。', '《游园今梦》将园林和昆曲作完善融合，为游客带来一种全新的、沉浸式、体验型、实景化的文化之旅。夜游网师园，置身静谧园林中，柔美灯光勾勒出亭台的精致，婆娑树影渲染出文化氤氲，悠扬的萧声，婀娜的舞姿，让游客在绝妙意境留连忘返，感受古人之情怀，体味文化之雅韵。');
INSERT INTO `scenicintroduce` VALUES (49, NULL, 'https://pic5.40017.cn/02/000/e3/43/rBLkCVubWG6AQdXyAAGPcrAeGaI897.jpg', NULL, '平江路怪楼', '3A景区', '江苏省苏州市姑苏区平江路236号', '11:00-20:00', '//pic5.40017.cn/02/000/a7/91/rBANDFt9HhKAM93jAAXN8C19FJE395_800x475_00.jpg', '//pic5.40017.cn/02/000/a7/91/rBANDFt9HhKARBZPAAUScG15_u8054_800x475_00.jpg', '//pic5.40017.cn/02/001/a8/1d/rBLkCVt9HhOAftLwAANrtdgRAKI110_800x475_00.jpg', '怪楼5D艺术展是长沙一家高逼格的集观赏性、娱乐性、参与性、趣味性、艺术性为一体的全新概念的旅游景点设施。', '在这里你可以穿越到百年前的朝代体验一次甄嬛传里的皇帝（皇后），更有装逼卖萌自拍神器等着你哦，喜欢搞怪，飙演技，爱拍的小伙伴们可以来尝试。', '这里背景是倒过来的，在幻听室还可以听到各种奇怪的声音。想来这也是“小桥、流水、人家”的周庄，给人的一种“另类”感受吧。', 396, '//pic5.40017.cn/01/001/a8/15/rBLkBVt9HhSAVbXrAAcJpszoNjQ745_800x475_00.jpg', '//pic5.40017.cn/01/001/a8/16/rBLkBlt9HhSAbBZmAAStagIwU0c788_800x475_00.jpg', 'https://pic5.40017.cn/01/001/a8/15/rBLkBlt9HhOAWyBvAAVTfm1UdeU645_800x475_00_540x304_00.jpg', '进入“怪楼”氛围有点诡异，和我们一同进门的一个年龄稍小的男孩儿先是害怕得不敢进去，但是服务人员态度非常好，一直在鼓励小朋友不要害怕，并引导我们先关注一些好玩儿的3D立体画。其实熟悉了环境以后还是很有意思的。“怪楼”有三层，有很多3D立体画供游客拍照。', '这里与3D馆类似，利用物理原理而营造出了不同的效果。 穿墙走壁、隐身人、空中浮游、变形人、小人国、从巨蛇口中脱险等，在怪楼可以亲身经历和实现这些匪夷所思的幻觉体验。', '过全息幻听术可以让游客感觉仿佛时光倒流，回到千年前的周庄，身临其境地感受传说中奇异情景，最终达到一次从未有过的神秘体验。');
INSERT INTO `scenicintroduce` VALUES (50, NULL, 'https://pic5.40017.cn/02/001/b3/47/rBLkCFuDt2CADvWMAAIc2DiAyBI459_800x475_00.jpg', NULL, '苏州5D星空错觉艺术馆', '3A景区', '江苏省苏州市姑苏区观前路步行街久泰商厦4楼（大成坊旁）', ' 09:00-22:00', '//pic5.40017.cn/02/001/b3/47/rBLkCFuDt2CADvWMAAIc2DiAyBI459_800x475_00.jpg', '//pic5.40017.cn/02/000/b2/bc/rBANDFuDt2KAbsb4AAQksWvKeP4709_800x475_00.jpg', 'https://pic5.40017.cn/01/001/b3/40/rBLkBluDt2CAaHBXAANrlx5bCgw630_800x475_00_540x304_00.jpg', '苏州5D星空错觉艺术馆位于苏州观前路步行街久泰商厦4楼（大成坊旁）。', '5D是在三维立体效果上，可使人在触觉与嗅觉上同时感受到画面信息的影像效果，是休闲旅游放松的好去处。', '欧洲第四纪冰川的主要中心，北温与北寒的交界，赋予这片土地冰雪魔幻的气质。', 397, 'https://pic5.40017.cn/02/000/b2/bc/rBANDFuDt2KAC-GBAAMAR7Y_UwI390_800x475_00_540x304_00.jpg', 'http://pic5.40017.cn/01/001/b3/40/rBLkBluDt2OABNfPAAVY7r5lsyQ029_800x475_00.jpg', 'http://pic5.40017.cn/01/001/b2/cb/rBANC1uDt2OAFTE5AALK2qqKVis087_800x475_00.jpg', '欧洲第四纪冰川的主要中心，北温与北寒的交界，赋予这片土地冰雪魔幻的气质。', '场馆内整个展区分为四大区域：极夜之光 主题区、圣诞老人屋 主题区、北欧游牧 主题区等。带你踏上一段神秘浪漫的北欧圣诞之旅。', '魔镜室”、“错觉房间”、“前世今生镜”、“疯子实验室”、“科学怪人”“错觉椅子”、“飞岩走壁房”、“向45度致敬”、“食人族桌”、“恶搞大变身”、“3D体感游戏”、“时光隧道”、“无线星空”“变小孩”“kiss房”。');
INSERT INTO `scenicintroduce` VALUES (51, NULL, 'https://pic5.40017.cn/02/001/57/cf/rBLkCFoAJ_uAcRvLAAI-uCGU15Y045.jpg', NULL, '山塘街昆曲博物馆', '3A景区', '江苏省苏州市姑苏区山塘街通贵桥下塘45号', '19:30-20:30', '//pic5.40017.cn/02/001/57/cf/rBLkCFoAJ_uAcRvLAAI-uCGU15Y045.jpg', '//pic5.40017.cn/02/000/57/cf/rBLkCVoAJ_uAM250AAIDIagHED8942.jpg', '//pic5.40017.cn/01/000/57/80/rBANC1oAJ_uAFWPYAAHJq2NdXVA522.jpg', '七里山塘的千年历史和六百年的昆曲让昆曲馆和山塘的古老文明气息更加浓郁。从山塘昆曲馆二楼倚窗而望，“君到姑苏见，人家尽枕河”，“小桥、流水、人家”，这些绝妙的江南水乡图画尽收眼底。于此，昆曲文化与山塘文化、泰伯文化、唐寅文化，桃花坞文化等传统的姑苏文化水乳交融。', '昆曲馆的建筑属于典型的明清时期苏州庭院式格局。倚窗而坐，品一杯香茗，看一道风景，听一曲雅乐，绿一片心情。', '山塘昆曲馆一楼为山塘评弹书苑，二楼为“氍毹余韵”昆曲专场。“氍毹余韵”昆曲专场保持昆曲的原汁原味，不设加高舞台，于古典厅堂之间但设一方红氍毹，一桌二椅，坐席十余个，空间紧凑，密而不拥，演员与观众之间零距离交流。窗内曲声悠扬，窗外小桥流水人家，市声隐约。置身其中，涤虑洗心，市隐几半。', 398, '//pic5.40017.cn/02/001/57/cf/rBLkCFoAJ_uAW50sAAKF2h3hQgw286.jpg', '//pic5.40017.cn/01/001/57/f5/rBLkBloAJ_uAOrJHAAHoT9wnjh0183.jpg', 'https://pic5.40017.cn/02/000/ef/18/rBANDFsHsdmAXIlpAAF7tAkO348588_540x304_00.jpg', '山塘昆曲馆，是苏州雅乐文化传播有限公司主力打造的昆曲文化传承和传播基地，该公司公司下设苏州市兰芽昆曲艺术剧团和苏州山塘昆曲馆。', '在领略苏州昆曲魅力的过程中，在视觉、听觉及味觉上，享受老苏州的生活。山塘昆曲馆是天天有昆曲折子戏演出的地方，在这里你能找到苏州明清时期原汁原味的昆曲家班。', '中国昆曲博物馆建在昆曲的发祥地苏州，位于苏州古城平江历史保护街区上。1986年苏州建城二千五百周年，作为江苏省文物保护单位的全晋会馆修复后，建成苏州戏曲博物馆。为了更好地保护和弘扬古老的昆曲艺术，经批准，在苏州戏曲博物馆的基础上，利用全晋会馆古建筑，筹建中国昆曲博物馆，2003年11月22日，中国昆曲博物馆一期工程完成，由文化部授牌正式对外开放。');
INSERT INTO `scenicintroduce` VALUES (53, NULL, 'http://h2.bytravel.cn/www/3/head/2582.gif', NULL, '木渎古镇', '4A景区', '苏州市吴中区木渎镇山塘街188号', '8:30-17:00', '//pic4.40017.cn/scenery/destination/2016/09/18/13/5idENt.jpg.webp', 'https://p1.ssl.qhmsg.com/t01c3adf4e99c1e4f02.jpg', 'http://a3.att.hudong.com/53/66/01200000194472136352665160744.jpg', '干净利落、雍容雅致的苏州评弹，以木渎为圣地；让人津津乐道的吴侬软语口音，也以木渎较地道；声名赫赫的苏绣，也是发源于木渎。', '木渎四周群山拱峙，又毗邻太湖，既得真山真水之趣，又具小桥流水之幽，更有私家园林、名人故居等众多的人文古迹，因而，木渎景区名列太湖风景区十三个景区之首。作为中国唯一的园林古镇，木渎在明清时有私家园林30多处，迄今仍保留了10余处。', '走进木渎，你便走进了唐诗宋词的幽雅意境；穿越古镇，你便穿越了二千五百年的历史风云。', 399, '//pic4.40017.cn/scenery/destination/2016/09/18/13/BykWJ7.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/09/18/13/BKCCIm.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/09/18/14/t8SSru.jpg.webp', '相传，春秋末年吴越纷争，越国战败后，越王勾践施“美人计”将美女西施献于吴王。后来，西施得到夫差专宠，夫差为取悦西施，在秀逸的灵岩山顶建造馆娃宫，又在紫石山增筑姑苏台，“三年聚材，五年乃成”，源源而来的木材堵塞了山下的河流港渎，“木塞于渎”，木渎之名便由此而来。', '这个小镇面积并不大，但也有公认的“十景”，因此必须以精致而取胜。真正要论江南文化的精髓，木渎是一个完美的体现。正因如此，六次下江南的乾隆皇帝，都在木渎居住，舍弃行舟，在这里静静的安歇。皇帝住过的“行宫”，就是虹饮山房，现在是木渎古镇知名的建筑，纪晓岚、刘墉、和珅也都曾在此下榻。', '古镇内有一条山塘街，有2500年的历史了，比苏州市里的山塘街还要古老。当时吴王为兴建馆娃宫、增筑姑苏台，常年集中大批的劳力、物力，并会聚了大批能工巧匠，因而不少人家就在山塘两岸定居，形成了较早的居民聚居点，并逐渐发展成为集镇。');
INSERT INTO `scenicintroduce` VALUES (54, NULL, 'https://ps.ssl.qhimg.com/sdmt/246_132_100/t0160ecba970233d029.png', '', '苏州小石湖', '4A景区', '苏州市吴中区友新高架吴中大道下右拐（莫舍桥南）', '全天免费开放', '//pic5.40017.cn/02/001/8b/6f/rBANDFtru1SASBDLAAh-DMvl8F8787_800x475_00.jpg', 'http://pic5.40017.cn/01/000/8b/f3/rBLkBltru0yAJppqAARZ4ZwqfAE236_800x475_00.jpg', 'http://pic5.40017.cn/02/001/8b/6f/rBANDFtru02Ae6iqAAZkr5rd4To052_800x475_00.jpg', '\"半湖碧玉\"的石湖风景区，位于苏州城西南郊7公里，是太湖风景名胜区的重要景区', '石湖是太湖的内湖，在春秋时已为巨浸，越人掘溪进兵，横截山脚，凿石开渠以通苏州。湖底皆石，故名。石湖西为横山主峰，顶有七墩，俗称七子山，海拔294.5米。其支脉上方山、吴山连亘于湖西，平畴绣野联属于湖东。湖光山色，塔影画桥，片帆群鸥，千顷一碧，满眼的田园风光。还有古园、古桥、古碑、古塔、古城遗址以及远古文物。', '石湖，南北长4.5公里，东西宽2公里，周围10公里，面积3.6平方公里，相越来溪穿湖而过，南接太湖，北汇胥江，流入苏州市区。越城桥与行春桥形成八、九十丈的堤桥，堤桥正北有一座雄伟的\"吴中胜景\"牌坊，坊额由当代书法家顾廷龙手书', 400, 'http://pic5.40017.cn/02/001/8b/6f/rBANDFtru1SASBDLAAh-DMvl8F8787_800x475_00.jpg', 'http://pic5.40017.cn/01/001/8b/f3/rBLkBltru1iAMIwfAAk_0FX8qPM021_800x475_00.jpg', 'http://pic5.40017.cn/01/001/8b/f3/rBLkBVtru1eACd2EAAa7z-2Q2fw555_800x475_00.jpg', '行春桥位于茶磨屿东，石湖北诸，又名长桥、九环洞桥，因为桥石湖景区石湖景区下洞函中不仅流过一条小河，而是几处溪流分别流经其不同的桥孔，故人称九环洞桥。桥上有重级石栏，游人可随处坐憩。桥面俱石砌成，平展光滑，桥身九洞相连，湖水越洞而出，水清映物。农历八月十八夜，秋月如练，石湖行春桥九个桥洞，各挽一汛月影，形成串月之绝景。', '南宋末著名田园诗人范成大归隐石湖养老，自号石湖老人。筑石湖别墅，又名石湖精舍，建有北山堂、农圃堂、寿乐堂、天镜阁、千岩观、玉雪坡、锦绣坡、梦鱼轩、说虎轩、倚云亭、盟鸥亭等多处景观。', '民国二十一年，书法家余觉在天镜阁故址建别墅，俗名\"余庄\"其主厅为慈禧太后所赐\"福寿堂\"，堂南临湖新建望湖亭，可畅览石湖、上方山景色，新增茶室、鱼塘，可供游人品荼、垂钓和休息。');
INSERT INTO `scenicintroduce` VALUES (55, NULL, 'https://p1.ssl.qhmsg.com/dr/270_500_/t016f615eaa9caf5a15.jpg?size=800x600', NULL, '独墅湖', '4A景区', '苏州市苏州工业园区娄葑街道', '全天免费开放', 'https://p1.ssl.qhmsg.com/dr/220__/t0105ae76be62aed8bf.jpg', 'https://p1.ssl.qhmsg.com/dr/220__/t01796fe71eca65e5fa.jpg', 'https://p1.ssl.qhmsg.com/dr/220__/t01eca58280e46547b3.jpg', '独墅湖位于苏州工业园区，金鸡湖南，面积大约11.52平方公里。独墅湖景色秀丽，湖水清澈，是苏州地区较大的淡水湖之一，比金鸡湖大一倍。独墅湖隧道从湖底穿过，将湖东与湖西串联起来。', '独墅湖景色秀丽，湖水清澈，是苏州地区较大的淡水湖之一，比金鸡湖大一倍。', '独墅湖东侧是独墅湖科教创新区(原独墅湖高教区)，这一区域规划容纳80万人，其中一半将是从事高等教育、科研等知识型人才。', 401, 'https://p0.meituan.net/hoteltdc/83bfe89d5da192aca3f401f0b7f2ce18368492.jpg@220w_125h_1e_1c', 'https://p1.meituan.net/hoteltdc/59f1a19f2e31e06998882170e104c95d444222.jpg@220w_125h_1e_1c', 'https://p1.meituan.net/travel/b6850a1287d4de034fa8690202122532110285.jpg@220w_125h_1e_1c', '东吴寺位于独墅湖西南角，靠近尹山湖。并有东吴寺南北公园，临近独墅湖湿地公园。', '独墅湖教堂坐落于苏州工业园区风景秀美的独墅湖旁，教堂建筑由主堂、钟楼、行政楼组成，建筑面积共5800平米。', '独墅湖教堂的建成与开放，又为苏州广大中外基督教信徒提供了一处高品位的活动场所，增加了园区的文化内涵，改善了生活环境。');
INSERT INTO `scenicintroduce` VALUES (56, NULL, 'https://ps.ssl.qhimg.com/sdmt/162_132_100/t012083485766008870.webp', NULL, '中央公园', '3A景区', '苏州市苏州工业园区苏州大道西', '8:00-17:00', 'https://p0.meituan.net/hoteltdc/a6d5fcc42a74fe8be951f79c8d3ec2e4652135.jpg@220w_125h_1e_1c', 'https://p0.meituan.net/hoteltdc/565ac1543cdd0a3147c0492eae85173b611841.jpg@220w_125h_1e_1c', 'https://p0.meituan.net/travel/905bb549afb2f263b9577a1a8a3a232b585862.png@220w_125h_1e_1c', '苏州中央公园这是一座美丽的花园。一件红与银白强烈对比、锐利直角和敦厚圆弧之间和谐结合的雕塑耸立在中央公园正门口', '名为《合作》的这组雕像将中新合作的丰富理念以极其简洁的方式直觉地表现出来，老百姓把这个主题美妙地延伸开来，取意\"百年好合\"。随后是一个圆形的新\"罗马竞技场\"，地面上是马赛克铺成的世界地图，如果你有渴望的航向，就在这里，瞬间自由地实现你的空间梦想。', '后面是大片的绿地、山石、木椅的组合，构成了公园美丽的画卷。群集于公园练身的老人、双休和假日拍结婚照的新婚夫妇、饭后散步的小家庭、谈心的年轻人，这就是他们朝夕相伴的生活乐园。', 402, 'https://p0.meituan.net/travel/2510c288163a92f17b57628be97bd959513342.png@220w_125h_1e_1c', 'https://p1.meituan.net/hoteltdc/43db76335386f3a71445647e1ac470b6117935.jpg@220w_125h_1e_1c', 'https://p1.meituan.net/travel/4f40a7689cc38d80257c7f66ba9332a3425285.png@220w_125h_1e_1c', '据热心地方史志的虞立安老人介绍民国15年(1926)时，他就见到公园已砌有围墙，墙的下部以青水砖砌成，约1米高，在它的上部装有铁栅栏，约0.5米高，铁栅栏均铸有细花纹，', '墙每隔三米左右即以花岗石砌一石柱，在西面沿五卅路向北至西竹堂寺(即今金城新村的南端)为界，东沿公园路至龙池庵(即今园林大酒家所在处)，缩进，折而向西，北部因并未开发，仅沿石桥弄(现草桥弄)砌乱砖墙。', '改造工程以原中西合璧之特色为基础，保持原有拟凡尔赛宫为主的南部规则 式、北部以中国山水园林自然式的布局手法，保留原有大树以及民德亭、裕斋等历史建筑;重点改建茶室、健身房、儿童乐园及四处大门等;全面调整绿化环境，运用植物造景;新建亲水平台、芙蓉广场、模纹花坛和两个地下车库;更新灯光、道路系统;疏浚荷池，恢复荷花景观。使公园面貌焕然一新，体现时代气息，成为市民健身、娱乐、观赏于一体的休闲场所。');
INSERT INTO `scenicintroduce` VALUES (57, NULL, 'https://p1.ssl.qhmsg.com/dr/270_500_/t01458562cfefe0d6a3.jpg?size=1024x768', '', '龙池风景区', '4A景区', '苏州市虎丘区龙池路与涧溪路交汇处附近东', '7:30-17:00', 'https://p1.ssl.qhmsg.com/dr/220__/t01cee1062fb5cd2f9e.jpg', 'https://p1.meituan.net/travel/eed244b02b5e2935acb71d05ff00c05a552137.png@220w_125h_1e_1c', 'http://p0.meituan.net/poi/88b4c9f039b258c690956be75f2ee738585380.png', '龙池冰雪节始于1995年末，是都江堰\r\n龙池风景区\r\n龙池风景区\r\n 市的重要节气之一。龙池冰雪节从每年十二月开始，到次年三月结束，历时三个月。其间跨越圣诞节、元旦、春节、元宵和\"三八\"妇女节，为久居西南的人们冬季旅游，提供了一个休闲度假、赏雪、滑雪的极好去处，填补了西南地区冰雪旅游的空白，成为西南地区冬季旅游的黄金线路。', '龙池冰雪节期开展的冰雪项目主要有:冰雕、雪雕、越野滑雪、自由滑雪、高坡雪撬滑雪、马拉雪撬、冰雪摄影等。龙池风景区，为人们提供了回归大自然优美、迷人、神奇的佳境。龙池冰雪节始于1995年末，是都江堰市的重要节气之一。', '高出龙池湖畔水面80米的台地上，精巧地建有由庙门，祈雨台，正殿和配殿组成的龙王庙建筑群，是迄今为止全国最大的龙王庙，金顶玉坛，庄严古朴，构筑成一个以水为咏，以龙为尊，\"天人合一\"的宗教、哲学和艺术相协调的境界。宛若超凡出世的瑶池仙宫，如诗如梦般展现在龙池之滨。龙池湖畔还有一地界开阔，形成期距今六、七百万年喜马拉雅造山运动遗址，这就是以怪石为主，集古木，苍藤、翠竹、苔藓为一体的石景奇观--御龙园。', 403, 'https://pic5.40017.cn/02/001/8b/0e/rBANDFtrn3eAMvI2AAe3XIK8Iw8811_800x475_00_240x135_00.jpg', 'https://pic3.40017.cn/scenery/destination/2015/04/18/05/S5Pcrw_240x135_00.jpg.webp', 'https://pic4.40017.cn/scenery/destination/2016/07/12/10/oJTgWM_240x135_00.jpg.webp', '春暖之时，万木复苏，翠绿连绵，万绿丛中，报春花、杜鹃、牡丹、野百合等争芳吐艳，遍布林间;炎炎夏日，这里是避暑之胜地，游人或泛舟湖中，或戏水溪涧，听林海阵阵涛声，闻百鸟声声啼鸣，爽风拂面，舒目清心;金秋时节，红叶遍岭，层林尽染，随风飘零的叶片给森林铺上了一层厚绒般的金色地毯，令人迷醉;冬日来临，银装素裹，万山披白，一池玉镜，万树琼花。\r\n\r\n折叠', '都江堰市西北龙溪乡境内，距成都84公里，距都江堰34公里，路况很好。成都西门车站 每天有发往都江堰青城山、青城后山的班车和旅游车，约10分钟一班，往返十分方便。', '宛若超凡出世的瑶池仙宫，如诗如梦般展现在龙池之滨。龙池湖畔还有一地界开阔，形成期距今六、七百万年喜马拉雅造山运动遗址，这就是以怪石为主，集古木，苍藤、翠竹、苔藓为一体的石景奇观--御龙园。');
INSERT INTO `scenicintroduce` VALUES (58, NULL, 'https://p1.ssl.qhmsg.com/dr/270_500_/t010aacaf268b5974bd.jpg?size=1000x697', NULL, '苏州乐园', '5A景区', '苏州市虎丘区玉山路162号', '9:00-5:00', 'https://p1.ssl.qhmsg.com/dr/220__/t01b06e626c270402b3.png', 'https://p1.ssl.qhmsg.com/dr/220__/t01d79d135ba398f1b9.jpg', 'https://p1.ssl.qhmsg.com/dr/220__/t0110ca5e40c87cb5e7.jpg', '苏州乐园 (Suzhou Amusement Land)地处江苏省苏州市虎丘区苏州高新区中心，乐园以狮子山为依托，占地54万平方米，由水上世界、欢乐世界两部分组成，总投资6亿元。', '苏州乐园地处苏州新区中心，规划面积94公顷，以名闻遐迩的狮子山为依托，由加拿大多伦多福莱克公司进行总体规划，由苏州新区经济发展集团总公司、香港中旅建筑有限公司、东方电视台、香港金宁有限公司等中外合资企业于1997年联合投资建成的主题乐园，注册资金2400万美元。', '游乐项目是苏州乐园的主体旅游资源，乐园从欧美引进了悬挂式过山车、夏威夷海浪、豪华波浪、高空弹射、龙卷风、天旋地转等一大批惊险刺激的高科技游乐设施。乐园的游乐项目依山傍水，与山水自然景观水乳交融，彰显了景观的独特性，构成了一幅具有生态特征的动态山水画卷。狮山脚下的过山车犹如神龙穿山戏水，雄狮与神龙在大自然中和睦相处，象征着天地吉祥。', 404, 'https://p1.ssl.qhmsg.com/dr/220__/t01034d16bfb8a40743.jpg', 'https://p1.ssl.qhmsg.com/dr/220__/t0151f086c58b9b5930.jpg', 'https://p1.ssl.qhmsg.com/dr/220__/t01779e3ed72414250d.jpg', '主要项目有高架组合滑道、造浪池、戏水池和漂流河等，是国内投资规模最大、项目最齐全、设备最先进的现代化水上游乐场。水上世界于1995年7月对外开放以来，深受游人青眛，入园人数创下游乐行业的新纪录，水上乐园已经成为集约华东地区盛夏的旅游热点。', '推荐游玩项目:天旋地转，龙卷风，急速风车，空中飞人，高空弹射，悬挂式过山车，豪华波浪，飞行岛，夏威夷巨浪，旋转木马，上山下山缆车，滑翔翼，碰碰车。', '苏迪号环园列车是国内首列从英国进口的仿古小火车，小火车，小火车总站设在苏迪总站，途经未来站，苏格兰站。全长2公里，运行时间大约二十分钟，列车将带您环绕乐园一周，沿途美景尽收眼底。');
INSERT INTO `scenicintroduce` VALUES (59, NULL, 'http://h2.bytravel.cn/www/18/head/18275.gif', NULL, '亭林园', '4A景区', '苏州市昆山市马鞍山东路1号', '8:00-17:00', 'https://p1.ssl.qhmsg.com/dr/220__/t01e7c47e5cc6e65fa0.jpg', 'https://p1.ssl.qhmsg.com/dr/220__/t01650b0f56898737af.jpg', 'https://p1.ssl.qhmsg.com/dr/220__/t018045dbe5cb422155.jpg', '亭林园位于江南水乡昆山城内西北隅，园中玉峰山形似马鞍。地处江南水乡，苏沪之间，百里平畴，一峰独秀。 1906年始辟地为马鞍山公园，1936年为纪念顾炎武改名亭林公园。占地850余亩。', '亭林园绿水青山，景物天成，四周曲水环绕，山川相映，素有\"江东之山良秀绝\"之誉。园林专家陈从周评价为\"江南园林甲天下，二分春色在玉峰\"。', '园内古树名木繁多，四周曲水环抱，山中奇峰怪石林立，名胜古迹遍布，人文景观比比皆是，古有七十二景之说，历为游览胜地。亭林公园除了秀丽的自然景色和富有传奇的人文景观外，还有就是被誉为\"玉峰三宝\"的昆石、琼花、并蒂莲。', 405, 'https://p1.meituan.net/hoteltdc/286c4769602bebea3c90bf76b97e2342396906.jpg@220w_125h_1e_1c', 'http://p1.meituan.net/poi/d709654b419ab34b232f9432b2055ee4342016.png', 'http://p0.meituan.net/poi/ebfab3a71b3317dd466cf8b2835b0646380928.png', '\"东南第一山\"， 文征明赞玉峰语也。玉峰胜迹悠远丰厚，古有七十二景，梁代慧聚寺，号称\"南朝四百八十寺\"之首，为之滥觞。玉宇琼台、妙峰塔、凤凰石、文笔峰，神灵来仪;昆石、琼花、并蒂莲，是谓玉峰三宝;山间一览、野鹤、林迹之亭，翠微之阁，登攀歇望， 人文荟萃。', '亭林园内马鞍山中，其色白如玉，故马鞍山又名玉峰山，至今已有数千年历史。昆石天然多窍，色泽白如雪，黄如玉，晶莹剔透，体态玉洁冰清，千姿百态，形状无一雷同，十分奇巧。它具有皱、瘦、透、漏、伛诸特点，故又名巧石、玉石、玲珑石 。历来被视为艺术欣赏、案头清供及园林用石的佳品。', '园中有昆曲博物馆、昆石馆、盆景园、华藏寺、儿童乐园以及顾亭林纪念馆、顾鼎臣祠堂。园内还有著名的玉峰三宝:昆石、琼花、并蒂莲。');
INSERT INTO `scenicintroduce` VALUES (60, NULL, 'http://h2.bytravel.cn/www/63/head/62679.gif', NULL, '昆山城市生态森林公园', '3A景区', '江苏省苏州昆山市马鞍山西路', '　6:00-20:00', 'http://a4.att.hudong.com/16/73/01300001180531151827732528374_s.png', 'http://a2.att.hudong.com/20/74/01300001180531151827743246433_s.png', 'http://a4.att.hudong.com/08/73/01300001180531151827737540960_s.png', '昆山城市生态森林公园位于江苏省苏州市昆山市西北部，距市中心4公里处，总面积3150亩，是一个免费向公众开放，具有城市湿地保护与恢复、生态旅游度假、科普科研等功能的大型城市湿地公园，先后被授予了国家城市湿地公园、全国科普教育基地、昆山首家健康主题公园等荣誉称号。', '昆山城市生态森林公园主要景点有湿地水生植物园、湿地净化演示区、湿地保护与恢复区、农耕文化馆与农作物展示区、百草园、梅园、竹园、牡丹芍药园、鸟岛等。', '公园里种植了各类乔木120多万株，绿化覆盖率达95%。主要以江南地区常见的水杉、杨树、银杏、香樟等乔木为主要树种，间以园林树种以及各类花灌木；在一定的区域布置草坪以供人们休憩；沿岸则以耐水性较强的植物，如垂柳、金丝柳、木芙蓉等加以点缀，形成步移景异、四季分明的植物景观。', 406, 'http://p1.meituan.net/hotel/9dffe81e7e526692a482ec6c5c5d38fe754070.png@660w_500h_1e_1c', 'http://p1.meituan.net/poi/761c91adfc4845989145128676659903514048.png', 'http://p1.meituan.net/poi/a20f559dad4ee3266400c7dd10415744364544.png', '百年造园，十年植绿。政府实事工程中，每年新增绿地近500万平方米，科学规划，精心施工，一个以“公园绿地为重点、道路绿化为网络、小区绿化为依托、街头绿地为亮点”的城市园林绿化格局跃然而出。目前，苏州建成区绿地率达37.7%，绿化覆盖率达42.6%，陆地森林覆盖率达29.4%，自然湿地保护率达51.4%。', '在共筑生态园林美好家园进程中，苏州融绿入园入城，以科学的绿化体系布局，推动生态人居环境、城市功能提升，使之成为有特色、有品质、有生命的诗意栖居之地。', '在环古城风貌保护带盘门段的一张长椅上，市民李顺荣一边吃着随身带来的点心，一边欣赏周围的风景。“这样的实事工程真好，漂亮安逸的环境，看着就舒心。”老李告诉记者，他家就住在附近的新市桥下，几乎每天都到这里走路健身，这样的退休生活绿色又健康。');
INSERT INTO `scenicintroduce` VALUES (61, NULL, 'http://h2.bytravel.cn/www/18/head/18310.gif', NULL, '苏州城隍庙', '3A景区', '苏州市平江区景德路94号', '7:00-17:00', 'http://p0.meituan.net/poi/a9da11d82ed36eabff831ab7cf7bccd8214725.jpeg', 'http://p1.meituan.net/poi/891789f05a2e7a8704bc0ccf6461bf83291729.jpeg', 'http://p1.meituan.net/travel/f6a04dd764252fafe767aa61561cef5c539490.png', '位于景德路94号，1956年被列为江苏省文物保护单位（包括《三横四直图》碑）。苏州城隍庙宋元时在子城西南隅，元末毁于兵火。', '明洪武三年（1370年），就古雍熙寺基（传为三国东吴周瑜宅址）新建苏州府城隍庙，即景德路今址。历经明弘治、嘉靖、清顺治、康熙、乾隆年间多次重修。咸丰十年（1860年）仪门毁，同治十二年（1873年）重修。俯城隍庙之东西两翼于明万历二十三年（1595年）分别创建长洲县城隍庙、吴县城隍庙，左右对称，合成一大建筑群。两县庙亦多此重修，最后一次重修于同治六年。', '1958年以后，城隍庙被用作工厂，府庙若干配殿、附房以及西侧吴县庙，渐被拆除改建，后部寝宫于1983年5月失火烧毁。现仅存府庙仪门、大殿及东侧长洲现庙部分殿宇。', 407, 'http://p1.meituan.net/poi/a7b557effba0cd5cfdb3ef3b44756edf399102.png', 'http://p0.meituan.net/poi/35fad7f2291dd910accad4b81f1a6d66446563.png', 'http://p1.meituan.net/poi/e2ae994c98f27ffc277d6d4bfdf8764f526588.png', '小院落前方就是仪门了，这本是官衙的设施，既然城隍已经是阴间官吏了，当然要有仪门。仪门很气派，钟鼓仪仗分列两侧。', '仪门墙上嵌着几块重修城隍庙碑，有清乾隆苏州巡抚苏尔德的，有清道光苏州知府的，也有2004年的重修记。从重修记来看，城隍庙头山门外本来上有一通牌坊，民国年间拓阔景德路时拆毁。现在的头山门也是在2004年整修一新的。', '院落正中是高大的铜香炉，铜香炉后面是城隍庙正殿城隍殿，也就是全国著名的“工字殿”了。城隍庙工字殿是全国保存至今为数不多的明初城隍庙古建筑之一，也是苏州唯一的现存较完整的明代早期殿堂建筑。');
INSERT INTO `scenicintroduce` VALUES (62, NULL, 'http://h2.bytravel.cn/www/63/head/62649.gif', NULL, '苏州皇罗禅寺', '3A景区', '江苏省苏州市相城区阳澄湖镇埝浜村', '8:00-18:00', 'http://p1.meituan.net/poi/08287ad9efc22c6ce06e326433eceeef281482.png', 'http://p1.meituan.net/poi/7819e8510a539042754584dfa4e5d7a3524008.png', 'http://p1.meituan.net/poi/81f84acc31cf24723d8a7cbed8723e1575776.jpg', '皇罗禅寺位于江苏省苏州市相城区阳澄湖镇北段，埝浜村，北靠湘城，东邻阳澄湖，并有官泾江流经寺后，寺院三面环水，寺内长廊水榭，风景秀美。', '寺院始建于唐朝中叶时期，原名为积善庵，当时香火兴旺，香客遍布于江南各地，南宋建炎元年(1107年),创自西域僧人德胜，时名为\"积善庵\"。后元兵内侵，土地荒夷，僧众散去，庵废。明神宗万历三十八年(1610年)，僧心光法师重修积善庵，心光法师圆寂后，醒泉法师重振积善庵为己任，力募修葺，并复置义田，四处讲经，使四方信众无不肃心瞻礼，此庵再度兴盛。', '清乾隆年间，此庵再度修复，改名\"王路庵\"，意思是此处有王官、贵族曾停留过，故至今还有官泾桥，官泾河之名。后相传清乾隆皇帝下江南寻父，曾在此留宿一夜，故改名\"皇罗庵\"，几经兴废。至民国七年(1918年)村里人施北麟重修，并呈吴县知事、吴其昌颁布告，告诫民众:\"须知此庵之属古迹，自应保存，尔等不得任意糟蹋、侵损致害……，违者严惩不怠\"全文见第四节 \"碑文\"吴县志。', 408, 'http://p1.meituan.net/poi/04fcc7531a4ea5b77ae767eb898af3a9412067.png', 'http://p1.meituan.net/poi/3c271751fe5535b0120e7787faa6400d506046.png', 'http://p1.meituan.net/poi/e6b7b68fd3db16e213cc115aad5bc089552397.png', '在大跃进时期，大部分建筑被拆除，只剩下观音殿，文革时连观音殿也被破坏。后在当地居士的发心下，又建了三间小房，请了一尊释尊佛像，保留至今。', '寺内横梁、内顶雕花精美，彰显皇家风范，是长三角地区唯一集北派建筑风格的寺庙。', '寺院每日佛号不断，已成为有影响力的专修念佛法门的净土道场。至今全寺占地64亩(38400㎡)，经过若干年的建设，千年古刹再现新貌。');
INSERT INTO `scenicintroduce` VALUES (63, NULL, 'http://h2.bytravel.cn/www/63/head/62681.gif', NULL, '三角咀杜鹃湿地公园', '4A景区', '江苏省苏州市苏虞张公路和阳澄湖西路交界处', '7:00-17:00', 'https://p1.ssl.qhmsg.com/dr/220__/t0199ed0d81c84fc4ce.jpg', 'https://p1.ssl.qhmsg.com/dr/220__/t012d3f7efd2127dc2f.jpg', 'https://p1.ssl.qhmsg.com/dr/220__/t01bf364e4013d9553e.jpg', '苏州三角咀湿地公园是位于城区西北郊的大型城市生态湿地公园，离苏州古城区约10分钟车程，东侧是活力岛商圈，占地约12.04平方公里，工程总投资6.5亿元', '苏州三角咀湿地公园位于有着\"上有天堂，下有苏杭\"美称的秀气古城苏州古城城区西北郊，是大型城市生态湿地公园，占地面积7400多亩，其中水域面积达5.38平方千米。湿地植被繁茂，空气清新，水污染程度低，湿地公园内水质达到国家二类水标准。', '三角咀\"城市生态湿地公园以\"农庄印象、水乡记忆、山泉野趣、时代气息\"为设计主题，通过生态岛、湖岸生态带和生态保护、生态游览、休闲娱乐三个功能区的建设，\"林、湖、田、园\"完美结合形成24个景区，每个景区对应休闲、观景、购物、娱乐、科普、野营、赏月、龙舟竞赛等特色活动，具备极佳的欣赏田塘河荡密布、树木花草繁茂的生态湿地景观。', 409, 'https://p1.ssl.qhmsg.com/dr/220__/t01685ebc7dff09d62f.jpg', 'https://p1.ssl.qhmsg.com/dr/270_500_/t019cc43d452d3b2158.jpg?size=268x177', 'https://ps.ssl.qhimg.com/sdmt/202_132_100/t01c22a7ee975ac08e5.webp', '西塘河以东，阳澄湖西路以南的90公顷地块也将于年内启动，设计为典型的湿地植三角咀湿地公园三角咀湿地公园物群落景观，有鱼塘、芦苇荡，种植江南水生作物，如芡实、茭白、菱角等\"水八仙\"，水稻等江南农业特色景观，同时也会适当配建一些设施，如步行道、木栈道、茶室等，提供钓鱼、采摘等参与性服务。', '三角咀湿地公园中最引人注目的是80万株连片种植的杜鹃和5个10亩到50亩不等的浅水小岛。', '眼下正值杜鹃花开的季节，6000亩生态湿地上，80万株或红或紫的鲜花盛开在错落有致的绿树丛中，与水中倒影组成了一幅妙趣横生的生态画卷，而5个浅水小岛上栽下了从南国引进的池杉，据杨荣林介绍，水位上升到一定高度后，5个小岛就会沉入水中，留在水面上的是一棵棵郁郁葱葱的池杉，俨然是一幅天然的水彩画。');
INSERT INTO `scenicintroduce` VALUES (64, NULL, 'http://h.bytravel.cn/www/78/head/78006.gif', NULL, '苏州小外滩', '4A景区', '苏州相城区蠡口段元和塘', '全天免费开放', 'https://p1.ssl.qhmsg.com/dr/220__/t012b7fd04ab93c0d66.jpg', 'https://p1.ssl.qhmsg.com/dr/270_500_/t01190e2adda09bd6fd.jpg?size=268x226', 'https://ps.ssl.qhimg.com/sdmt/179_135_100/t016099695a784530fd.jpg', '苏州小外滩是苏州相城区蠡口段元和塘亮出了600米长的水域河滩\"。四年前( 2014年03月19日)，定位于婚庆文化旅游景区的\"苏州小外滩\"终于揭开了她神秘的\"面纱\"，数十对穿着婚纱礼服的\"准新人\"在装扮一新的滨水区，留下一个个甜蜜瞬间，还有5000多对\"准新人\"预约了\"甜蜜订单\"。', '享受一生甜蜜浪漫，留下一世幸福记忆。在沐浴着明媚春光的苏州小外滩，一对对新人徜徉在塔影桥旁、元和塘畔，摆出各种姿态，由摄影师留下永恒的美丽瞬间......', '塔影桥旁，一身红色婚纱的赵小姐格外靓丽，拍完一组照片后她说:\"我是从常熟过来的，这里的景观很有英伦范。\"摄影师黄先生表示，经常到小外滩来拍照，这里的景观、配套很好，拍出来颜色很漂亮，很多新人看了资料后，都指定要来拍。刚在游艇上拍完的上海姑娘仲小姐，也很喜欢小外滩的景观与设施，为她拍照的摄影师韩先生说，每周都要带二三对新人过来，并且拍后都很满意。', 410, 'http://p0.meituan.net/poi/e1430436bedcce62e6b0f39d72c73e0351200.jpg', 'http://p0.meituan.net/hoteltdc/da33d1760a001d2ef195b6908d54427b358837.jpg', 'http://p1.meituan.net/hotel/8ff329a4fb5449be67e2acaa05e72031352779.png', '元和塘蠡口段是苏州相城区中心商贸城的主要水域，从塔影桥流至涅瓦河桥。通过改造，河道两岸将形成异国风情建筑群，将被打造成为世界小姐模特培训机构、温馨情侣酒店、个性婚礼会所和摄影娱乐中心，使\"苏州小外滩\"成为集婚纱摄影、时尚发布、文化旅游、休闲消费为一体的\"婚庆文化旅游\"集散地。', '格里拉·弗郎茨小姐曾于2013年，在印度尼西亚巴厘岛举行的\"世界小姐\"总决赛上，获得过美洲\"世界小姐\"称号及\"最完美身材奖\"。活动当天，香格里拉·弗郎茨身着华丽的婚纱礼服，在苏州小外滩上，进行了现场走秀。优美的身姿、充满感染力的表演，吸引了众多游客的驻足观看，大家纷纷拿出手中的相机、手机，记录下这精彩的瞬间。', '同时，国际著名的亚历山大形象培训机构也正式进驻苏州小外滩，为相城的婚庆文化旅游产业注入国际血液。');
INSERT INTO `scenicintroduce` VALUES (65, NULL, 'http://h2.bytravel.cn/www/21/head/20712.gif', NULL, '张家港凤凰山景区', '4A景区', '张家港市永庆路', '7:30-17:00', 'http://p1.meituan.net/hotel/a701c41fce6ee89cb8b91a602bf6ca03323858.png@660w_500h_1e_1c', 'http://p1.meituan.net/poi/51138c50a5eb3986bc7df6d9376d7b8c512000.png', 'http://p0.meituan.net/poi/7bd325db89125834426b47ae41feffaa428032.png', '凤凰山风景名胜区位于江苏省张家港市港口、凤凰、西张三镇交界处，凤凰山山体由西而东走向，犹如丹凤展翅，故称“凤凰山”，该景区山峦多姿，风光佳丽，名胜古迹众多，是旅游观光的好去处。', '该景区山峦多姿，风光佳丽，名胜古迹众多。自东吴赤乌年间建永庆寺开始，历代就是游人观光的好去处。曾有内外八景之说。“内八景”有三潭、四井、古桧、空杨、秀峰、醴泉、丞相墓、状元读书台；“外八景”有湖下书声、坊基酒肆、港口渔歌、柴场牧唱、桑岸啼鸣、莲塘游鱼、松林落照、精舍飘幡。几经沧桑变迁，“内外八景”中绝大部分景点早已湮灭，唯秀峰、醴泉、状元读书台尚存。', '凤凰山之主峰海拔86米，上有秀峰崖，高约2米，长有4米余，略向西北倾斜，与地面成60度角。此崖阳面平整，阴面凹陷，呈蚌壳状，上刻“秀峰”两字，虽年代久远，犹清晰可辨。秀峰之美，可用石奇、泉清、木秀来概括。历来文人雅士到此游览，留下了不少丽词佳句。', 411, 'http://p0.meituan.net/poi/3c529c04312693ea780f0c157fa86336231424.png', 'https://p1.ssl.qhmsg.com/dr/270_500_/t012b51af92ab5f37aa.jpg?size=361x220', 'https://p1.ssl.qhmsg.com/dr/220__/t01b9269fe60a30b6dc.jpg', '凤凰山以\"绝\"惊世，\"天下绝\"、\"老牛背\"、\"百步紧\"挺拔险峻，异美无比。\"金蟾望月\"、\"石壁鹤影\"、\"龟猴朝圣\"形神兼备，惟妙惟肖。', '凤凰山聚\"仙\"显名，\"仙人座\"、\"聚仙台\"翠叠丹崖，葱郁流丽;\"佛池\"、\"丹泉\"飞瀑流化，洒脱飘逸;\"金龟求凰\"、\"罗汉脸\"氤氲飘渺，浑然天成。', '凤凰山得\"道\"弥彰，明弘治初年以来，紫阳观等道教建筑，依山水走向，方圆数里，道风浓郁，道境昭然，玄谜隐奥。');
INSERT INTO `scenicintroduce` VALUES (66, NULL, 'http://h2.bytravel.cn/www/9/head/8968.gif', '', '张家港乐余老街', '3A景区', '江苏省苏州张家港市乐余镇乐余路', '全天免费开放', 'https://pic4.40017.cn/scenery/destination/2016/10/20/14/22AFIr.jpg', 'https://pic4.40017.cn/scenery/destination/2016/10/21/17/g5sj2w.jpg', 'https://pic4.40017.cn/scenery/destination/2016/10/20/14/tIZ12f.jpg', '乐余民国商贸街始建于1933年。当时乐余还是个新围的滩涂区，居住人口不足1万，区域里也没有什么像样的店铺。随着各地人口的迁入，人气越来越旺。', '当地富绅张渐陆看到了商机，于是联合了当地乡绅巨贾花了数10万担粮食的代价，在乐余中心地段用两年多时间兴建了一条长约300米、宽3米的商贸街。\r\n', '原生态的传承，脱胎换骨的改造。政府的大力保护，让老街商铺有了新的亮点——龚氏兄弟手工制秤、吴老师傅铁皮造型、炳章师傅修面掏耳、国宏缝旗袍、百瑛修钟表……老手艺的展示和陈列，让老街秀出岁月的风华。', 412, 'https://pic3.40017.cn/scenery/destination/2015/04/18/22/9jZ98C.jpg', 'https://pic4.40017.cn/scenery/destination/2016/10/24/11/tIJ1h9.jpg', 'https://pic4.40017.cn/scenery/destination/2016/10/24/11/Vynzw8.jpg', '条专门为贸易而兴建的集市，因为人口聚集，也因为商品流通。在战火纷飞的岁月，粮食和棉花，成为这条街的主角', '板门木柱，小瓦屋面，廊檐相对，一溜240多间铺面房——如果你见过1980年代墙体是苇杆抹泥的江边民居，你就知道，支撑老街的，是发达的经济和更为发达的商品流转速度。', '江南多雨，旷野泥泞，穿芦花草鞋的汉子，风里来雨里去，目光却在追随青石板上轻盈走过的绣花鞋，任它电闪雷鸣浊浪滔天，心里总有一点企盼。');
INSERT INTO `scenicintroduce` VALUES (67, NULL, 'http://h2.bytravel.cn/www/7/head/6656.gif', NULL, '太仓南园（太师府）', '3A景区', '苏州市太仓市南园东路7号', '7:30-18:00', '//pic4.40017.cn/scenery/destination/2016/10/26/14/LFTXGr.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/26/14/KBBY3x.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/26/14/q4uSf4.jpg.webp', '南园，位于江苏省太仓市市区。建于明万历年间，当朝宰相王文肃(字锡爵)营建，占地三十余亩。主要建有\"绣雪堂\"、\"潭影轩\"、\"香涛阁\"诸胜，是王宰相处理政务和种梅养菊之处，太仓民间亦称\"太师府\"。', '南园[1] 建于明朝万历年，当时宰相王文肃(字锡爵)建，占地三十余亩。主要建筑有\"绣雪堂\"、\"潭影轩\"、\"香涛阁\"诸胜，是王宰相处理政务和种梅养菊之处。', '清初，文肃之孙画家王时敏与叠山大师张南垣合作增拓，有二峰名\"簪云\"、\"侍儿\"，系自\"弇山园\"移至，乾隆时荒芜，嘉庆、道光年间重建，同治时又修，后渐破旧，日军侵华又一次受到破坏，至大跃进前园废。', 413, '//pic4.40017.cn/scenery/destination/2016/10/26/10/WTbqwr.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/26/10/F9fEtO.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/10/26/14/FFgpMl.jpg.webp', '1998年8月开始，按原照片、原图纸进行设计、规划，将街坊改造中有历史价值的十余栋古建筑，迁建至南园(投资逾1067万元)，逐步给予恢复。目前己恢复了\"门楼\"、\"绣雪堂\"、\"香涛阁\"、\"大还阁\"、\"鹤梅仙馆\"、\"寒碧舫\"、\"潭影轩\"和\"长廊\"等十八处景点。', '南园为太仓明代万历年间首辅王锡爵赏梅种菊处，距今四百多年历史。王锡爵于明万历年间始建，其孙大画家王时敏又加以拓建，原来的南园占地三十余亩，为清代以来吾邑园林之首。清初，文肃之孙画家王时敏与叠山大师张南垣合作增拓，有二峰名\"簪云\"、\"侍儿\"，系自\"弇山园\"移至，乾隆时荒芜，嘉庆、道光年间重建，同治时又修，后渐破旧。抗战时毁损于日寇的炸弹，解放后一度被辟为苗圃。', '改革开放后，曾被深圳一家公司相中，买去后准备开发房地产，后经有识之士呼吁，市政府出面重金收回，并决定恢复南园。1998年，在省文管会、苏州市园林局帮助下，按原照片、原图纸进行设计、规划，逐步给以恢复。');
INSERT INTO `scenicintroduce` VALUES (68, NULL, 'http://h2.bytravel.cn/www/38/head/38403.gif', NULL, '太仓公园', '3A景区', '江苏省苏州市太仓市县府西街40号', '7:30-17:30', 'https://pic4.40017.cn/scenery/destination/2016/10/18/16/koRZEX.jpg', 'https://pic4.40017.cn/scenery/destination/2016/10/18/16/YPSxuJ.jpg', 'http://pic3.40017.cn/zzy/rimage/2015/03/17/12/QqFUiI.jpg', '太仓公园位于江苏省苏州市太仓市，旧址是南宋\"海宁寺\"，前身是梁\"妙莲庵\"，已有一千余年的历史。园内人文古迹众多，有宋代花石纲遗物\"望海峰\"、明洪武年间开凿的\"通海泉\"、元代大型\"铁釜\"以及 \"墨妙亭\"等。', '园中原有三山(西弇、东弇、中弇)，一岭、三佛阁、五楼、三堂、四书室、一轩、十亭、一修廊、二石桥、六木桥、五石梁、四洞、四滩、二流杯。园广七十余亩，土石占十分之四，水占十分之三，室庐占十分之二，竹树占十分之一。可惜这样一座历史名园在清初已毁。', '为了继承和发扬悠久的园林艺术，2003年由政府投资，据明代张南阳原图纸，在南宋\"海宁寺\"旧址重建\"弇山园\"。\r\n\r\n基本信息', 414, 'https://pic4.40017.cn/scenery/destination/2016/10/18/16/raDmFh.jpg', 'https://pic4.40017.cn/scenery/destination/2016/10/18/16/itMx6Q.jpg', 'https://pic4.40017.cn/scenery/destination/2016/10/18/16/Ng62kM.jpg', '为了继承和发扬悠久的园林艺术，2003年由政府投资，据明代张南阳原图纸，在南宋\"海宁寺\"旧址重建\"弇山园\"。', '弇山园为明代南京刑部尚书、文学家王世贞家园。初称\"小只园\"。后因《庄子》、《山海经》、《穆天子传》有\"弇州\"、\"弇山\"，皆仙境，他自号\"弇州山人\"，改园名为\"弇山园\"、\"弇州园\"。', '后门又榜为\"琅琊别墅\"。王世贞以为\"第居足以适吾体，而不能适吾耳目，计必先园\"，因而与当时造园高手张南阳合作，在太仓城里最先建成了号称\"东南第一名园\"的\"弇山园\"。');
INSERT INTO `scenicintroduce` VALUES (69, NULL, 'http://h2.bytravel.cn/www/62/head/62398.gif', NULL, '太仓金仓湖湿地公园', '3A景区', '江苏省苏州太仓市新港路与东亭路交汇口处', '7:00-18:00', '//pic4.40017.cn/scenery/destination/2016/07/21/13/P9zw3d.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/21/13/sq3Yho.jpg.webp', '//pic4.40017.cn/scenery/destination/2016/07/21/13/n9DL2j.jpg.webp', '金仓湖是一座以自行车运动为主题的生态、休闲、运动公园。水域面积一千亩。8万平方米的疏朗草坪，是娱乐休闲亲近自然的最佳场所;百花音乐喷泉广场富有变化，景致绝佳。同时公园配有各式特色休闲自行车和专业的环湖自行车道，体验自行车运动的乐趣尽在其中', '金仓湖公园水域面积超过1000亩，是一个集旅游度假、体育休闲、绿色人居及新农村建设于一体的生态园，总体规划为6个功能区域，包括滨水生态体验区、金仓湖公园金仓湖公园湿地休闲区、体育运动区、休闲购物区、旅游度假区和住宅区。', '其中，引进德国理念的赤足森林是目前国内首家也是唯一一家倡导赤足运动的体验式公园，卸下双足的负担徜徉其间，轻松自然，天人合一。值得一提的是，金仓湖畔的疏朗草坪总面积达10多万平方米，是目前太仓最大的草坪，站在坡上，眺望千亩湖面，碧绿的草坪、成片的乔木林疏朗有致，更有曲折的木栈道、别致的木平台将草坪和湖光岛色联成一体，让人心旷神怡 。', 415, '//pic4.40017.cn/scenery/destination/2016/11/15/14/zYEB1R.jpg.webp', 'http://pic5.40017.cn/02/001/43/ba/rBLkCFpAqjeADZLKAAKgaJCmYYo399.jpg', 'https://pic4.40017.cn/scenery/destination/2016/08/15/19/Ows4WJ_630x360_00.jpg', '总体规划为6个功能区域，包括滨水生态体验区、湿地休闲区、体育运动区、休闲购物区、旅游度假区和住宅区。其中，引进德国理念的赤足森林是目前国内首家也是唯一一家倡导赤足运动的体验式公园，卸下双足的负担徜徉其间，轻松自然，天人合一。', '公园一直遵循着\"生态、郊野、休闲、运动\"的原则和国家4A 级景区的标准进行设计建设，2008年公园入选首批上海世博\"主题体验之旅\"示范点，2009年又荣获\"国家水利风景区\"、\"江苏省省级湿地公园\"称号。\r\n\r\n基本信息', '金仓湖在太仓市区以北，是太仓市区的绿肺，是太仓市区38万人休憩好去处，日最大接待游客达5.8万人。');
INSERT INTO `scenicintroduce` VALUES (70, NULL, 'http://h2.bytravel.cn/www/63/head/62818.gif', NULL, '太仓圣像寺', '4A景区', '江苏省苏州市太仓市玉影路', '7:00-17:00', 'https://pic5.40017.cn/02/000/4d/0a/rBANDFqiJ5qASacNAAJ6vKsEFmw124_540x304_00.jpg', '//pic4.40017.cn/scenery/destination/2017/02/23/16/KAoTZa.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/02/23/16/y8ceq9.jpg.webp', '圣像寺又名圣像教寺，位于太仓西北部，距太仓城四十公里的鹿河镇，鹿河又称陆河，是一座历史悠久的古镇，也是佛教传入太仓的起始点。', '一千七百年前，这里就有村庄市集，是太仓最古老的集镇之一，据考：后汉期间，江南吴郡的陆姓是大族，权势极大，孙吴期间，他们的宗族支系分布沿江一带，由陆氏经手开凿的“陆河浦”，南通六尺沟，北入长江，陆河浦又称陆河港.陆河由此得名，清末民初始为“鹿河”', '今重建的圣像寺位于原址之南，距离六百公尺的宽敞幽静地区，目前，占地四十亩，尚有扩充余地，也是鹿河公园划区的东南隅。', 416, '//pic4.40017.cn/scenery/destination/2017/02/23/16/gyeMR3.jpg.webp', '//pic5.40017.cn/02/001/77/21/rBANDFutxnKAC7N_AANm9K5HQSY330.jpg', '//pic4.40017.cn/scenery/destination/2017/02/27/14/nyZPqr.jpg.webp', '二零零一年以来，在住持僧妙法法师的带领下，圣像寺在满是荒地和泥塘仅有一座殿堂的基础上先后兴建了大雄宝殿，药师殿，念佛堂，问渡堂，斋堂，东西厢房', '待海岛观音以及万佛园建好后，将择良辰吉日为大雄宝殿，海岛观音，万佛园以及全堂佛像举办开光大典 ！', '如今的圣像寺，住持妙法法师一贯主张本着庄严国土，利乐有情，佛陀慈悲，弘扬正法为立寺的宗旨，带领并要求我寺僧众要发扬佛陀广大，慈悲济世的精神，以促进社会和谐，民众安乐为己任。');
INSERT INTO `scenicintroduce` VALUES (71, NULL, 'http://h2.bytravel.cn/www/63/head/62822.gif', NULL, '太仓双凤寺', '4A景区', '江苏省苏州太仓市双凤镇204国道东侧', '6:30-18:00', 'http://pic5.40017.cn/01/000/77/57/rBLkBltevCKADOnaAAMW5oOw0D8160.jpg', 'http://pic5.40017.cn/02/000/43/9f/rBLkCFpAnhSACT2UAAHRnYLAMrk958.jpg', 'http://pic5.40017.cn/01/001/43/ab/rBLkBlpAnfGATPHZAAHbqWi0OsQ511.jpg', '双凤寺，由河南高僧支遁和尚集缘创建，初名双凤寺，，据传双凤镇名源自双凤寺。原来的双凤寺占地42亩，有正山门、二门、天王殿、钟鼓楼、大雄宝殿。东侧有元通殿、地藏殿、延寿堂、禅堂;西侧有藏经楼、罗汉堂、水月轩、荷花池、九曲桥、湖心亭等。双凤寺系苏南著名古刹，民间有该寺拥房1048间之说', '2002年春，社会各界与上海洪福企业发展有限公司共同发起，并经上级批准重建双凤寺。重建的双凤寺具有江南名刹气势，建筑格局既参考双凤寺原貌，又结合佛教寺庙的传统布局，充分体现佛教寺庙结构寺内景区寺内景区严谨和古色古香的艺术特色，同时设置较多绿化用地，营造宁静幽雅的休闲氛围。', '重建的双凤寺重现千年古刹的昔日辉煌，也是太仓地区少有的佛教寺院，既是进香拜佛的理想场所，又是人们休闲游览的好去处。', 417, '//pic4.40017.cn/scenery/destination/2017/02/27/15/8XldG8.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/02/27/15/r2XcdX.jpg.webp', '//pic4.40017.cn/scenery/destination/2017/02/27/15/ppRFHQ.jpg.webp', '高僧支遁(一名支道林)由京城建康(今南京)一路讲学，来到苏州，至梅李寻访名士瞿硎先生，晚上两人席坐谈经论道，忽见东南方有五色光闪烁。为寻此光源，支遁携其弟子一行，来到常熟南沙，遇一高地，上有两株合抱大树，师徒停下，静坐树侧，观察究竟。', '半夜，又见树南丈余处，五色光闪射而出。天明后，支遁率众将土掘开，下冒蒸汽，续下掘，现一石函。开函，内藏一对神龟。远近闻讯，咸来围观。众目睽睽下，两神龟化为一对凤凰凌空飞去。支遁乃于此处，开基创寺，因名\"双凤寺\"。该地方圆百里，得名双凤乡，载诸史志，迹垂千年。', '分为广场牌楼、天王殿、大雄宝殿、东西厢房等四大部分。四柱石牌坊巍峨壮观,牌楼中柱高11.6米,两侧镂雕龙凤石柱高9.7米;天王殿造型别致,面阔5间,内深4界;高16.6米。大雄宝殿气度恢弘,位于露台之上,面阔7间,内深6界,高21米。2007年举行了太仓双凤寺诸佛菩萨圣像开光典礼。现在，双凤寺第二期工程之正法明楼及僧寮，支遁大师纪念馆正在建设中。');
INSERT INTO `scenicintroduce` VALUES (72, NULL, 'http://h2.bytravel.cn/www/25/head/24715.gif', NULL, '三峰寺', '3A景区', '苏州市常熟市虞山北路虞山第三峰', '7:00-18:00', 'https://pic5.40017.cn/02/001/64/e7/rBLkCVqqKreAM09JAAK52O753MI421_540x304_00.jpg', 'http://pic5.40017.cn/01/000/64/e0/rBLkBVqqKpWANGq-AAJf9qk92AE281.jpg', 'http://pic5.40017.cn/02/001/64/e7/rBLkCVqqKniANOOjAAMTquotzHA785.jpg', '寺占地面积10656平方米，坐北向南，依次有门楼、大雄宝殿、万寿宫。门楼面阔4.3米，进深9.8米。大雄宝殿面阔三间，进深四间，木构，重檐歇山顶。万寿宫面阔三间，进深二间，双坡顶。', '三峰寺最大的特色是寺祠合一，始建于宋淳化元年(990年)的宗伯家庙就建于寺院后，内祀陈洪轸。祠堂面阔与进深均为三间，占地面积192平方米，穿斗式减柱木构架，悬山顶。清知县饶崇秩曾撰有《重修三峰寺序》一文，比较详细地介绍了三峰寺各方面的情况', '建国后，三峰寺连遭三次火焚，古建筑仅剩山门外的三座亭。1983年在省、地、县党政部门及各界人士的大力资助下，仿照原寺格式，重建了大雄宝殿、天王殿、钟鼓楼。之后，相继新建了斋堂、藏经楼、僧寮等', 418, 'http://pic5.40017.cn/02/001/64/e7/rBLkCVqqKoeAM29FAAK3iz5AACE609.jpg', 'http://pic5.40017.cn/01/000/64/e0/rBLkBlqqKqSAF4tsAAHW7Jn1-Tc923.jpg', 'https://pic5.40017.cn/02/000/37/05/rBLkCFo7T0GAVxtvAAHHmmGtGhA876_540x304_00.jpg', '全寺占地16亩，主建筑有大雄宝殿、大王殿、万寿宫、法堂，念佛堂、钟楼、鼓楼、藏经楼、方丈室等大小殿堂楼阁13座，面积3510平方米。山门外有163米长、9米宽的青油石路，俗称\"金街\"。路中设金街亭、更衣亭、三门亭。', '寺内有一眼泉水，清洌味甘，长年不涸。还保留着宋代壁画\"五爪黄龙\"和\"双龙抢珠\"，以及万历戊申年(1608)知寿宁县事卢陵张文龙草书《三峰寺秋日》诗四首。还有原全国佛教协会会长赵朴初先生为该寺亲笔题书\"万德庄严\"墨宝。整个寺院建筑布局极为精巧。登山步道是由东而来的，穿过寺庙的牌坊约莫再行二百米的距离就来到了寺的山门。', '寺的建筑却在这转折了九十度，由东折向了往北。中轴线上自南而北有门楼、大雄宝殿、万寿宫。寺后右边有宗伯家庙。门楼面阔七间43米，进深9.8米。');
INSERT INTO `scenicintroduce` VALUES (73, NULL, 'http://h2.bytravel.cn/www/62/head/62408.gif', NULL, '虞山宝岩禅寺', '3A景区', '苏州市常熟市虞山街道', '7:00-17:00', 'https://pic5.40017.cn/02/000/37/05/rBLkCVo7T0GAZu9IAAGOvlH-Jn8230_540x304_00.jpg', 'https://pic4.40017.cn/scenery/destination/2016/12/26/15/fhsj0k_540x304_00.jpg', 'http://pic4.40017.cn/scenery/destination/2016/12/26/15/B4EaI9.jpg.webp', '宝岩禅寺在江苏省常熟市虞山西麓宝岩湾，初建於梁天监年间(西元五○二年)，旧名延福禅院。至唐会昌时被毁。', '嘉靖时宝岩寺毁於倭寇，邑人把它侵占为墓，几经迁徙才有今址，当时僧人至昂在其附近营建小屋居住，四处募化重建此寺', '清代顺治、康熙年间增建殿堂，乾隆年间姚大动重新修葺。此后宝岩寺原寺基日渐变为墓地。至咸丰初，仅存山门、内官路及殿宇两层，其他建筑兵焚尽毁。同治中，有僧人宽照、瀹(音越)潭，四方募化，再次重修宝岩寺，建大雄宝殿，天王殿、观音堂、卧佛堂，东西两侧排立楼房、斋堂。大殿「普光明殿」仿常州天宁寺，匾额为森林所题。在此期间，宝岩寺香火较旺，来寺讲学传教的高僧络绎不绝。', 419, 'https://pic4.40017.cn/scenery/destination/2017/02/23/16/KpanqM_540x304_00.jpg', 'https://pic4.40017.cn/scenery/destination/2016/12/29/17/rHy4Vf_540x304_00.jpg', 'https://pic5.40017.cn/01/000/b4/f5/rBANC1kEOneAKoBiAAQAAM2l8j0840_540x304_00.jpg', '江苏虞山国家森林工公园宝岩管理区，於一九九九年著手规划重建宝岩禅寺的工作。规划重建的宝岩禅寺，建筑面积达二千一百九十八平方米，占地七千九百三十四平方米，预计总投资约八百万元(约九十七万美元)。', '将逐步建成大雄宝殿、藏经阁、观音殿、玉佛殿、天王殿、橱房、山门等，形成雄伟壮观的佛教殿堂。第一期工程从二○○○年六月到二○○一年七月，建成宝岩寺大雄宝殿，力争三年内全部竣工。', '北宋端拱二年(西元九九○年)希辩禅师荷天子荣命归隐旧刹后，大造广厦庙宇，历时五年告成。当时有位钱氏施金五百两，造了七级浮屠(相传∶泗洲僧伽塔第一，此为第二)，另有门、亭、塔、院、厅、堂、围墙等建筑。居高顾望，翼舒鳞萃，辉照可鉴，会奇集胜，状不能尽。');
INSERT INTO `scenicintroduce` VALUES (74, NULL, 'http://h2.bytravel.cn/www/3/head/2580.gif', NULL, '留园', '5A景区', '苏州金阊区阊门外留园路338号', '7:00-17:30', '//pic5.40017.cn/01/001/86/0f/rBANC1tn6NSAWOK_AAJhG8wrWMs440.jpg', '//pic5.40017.cn/01/000/86/0f/rBANC1tn6NWAUdZ2AAGWWIbbqwQ002.jpg', '//pic5.40017.cn/01/001/86/83/rBLkBVtn6NSAJALaAAG8s4I8oV4443.jpg', '留园是中国四大名园之一，1961年与北京颐和园、承德避暑山庄、苏州拙政园同列入国家文物保护单位，前两者中国皇家园林的代表，后两者是中国私家园林的代表。1997年列入世界文化遗产保护名录，2010年评为中国AAAAA级旅游景区。', '留园原是明万历年间（1593年）太仆寺卿徐时泰的东园。园内假山为叠石名家周秉忠(时臣)所作。清嘉庆年间，刘恕以故园改筑，名寒碧山庄，又称刘园。同治年间盛旭人其儿子即盛宣怀(清著名实业家、政治家）购得，重加扩建，修葺一新，取留与刘的谐音，始称留园。晚清著名学者俞樾作《留园游记》称其为吴下名园之冠 。', '留园内建筑的数量在苏州诸园中居冠，厅堂、走廊、粉墙、洞门等建筑与假山、水池、花木等组合成数十个大小不等的庭园小品。其在空间上的突出处理，充分体现了古代造园家的高超技艺、卓越智慧和江南园林建筑的艺术风格和特色。明徐时泰创建时，林园平淡疏朗，富有山林之趣。至清代刘氏时，建筑虽增多，仍不失深邃曲折幽静之趣。', 420, '//pic5.40017.cn/01/001/86/83/rBLkBVtn6NKAYfy8AAJsDJ1Jwew236.jpg', '//pic5.40017.cn/01/000/86/0e/rBANC1tn6NGANaKhAAJbWfef4Cc990.jpg', '//pic5.40017.cn/02/000/86/8a/rBLkCVtn6NKAf0ZxAAGMoCpeJsk139.jpg', '留园以其独创一格、收放自然的精湛建筑艺术而享有盛名。层层相属的建筑群组，变化无穷的建筑空间，藏露互引，疏密有致，虚实相间，旷奥自如，叹为观止。全园分成主题不同、景观各异的东、中、西、北四个景区，景区之间以墙相隔，以廊贯通，又以空窗、漏窗、洞门使两边景色相互渗透，隔而不绝。', '留园全园分为四个部分，在一个园林中能领略到山水、田园、山林、庭园四种不同景色：中部以水景见长，是全园的精华所在；东部以曲院回廊的建筑取胜；北部具农村风光，并有新辟盆景园；西区则是全园较高处，有野趣，以假山为奇。池南涵碧山房与明瑟楼为留园的主要观景建筑。', '全园曲廊贯穿，依势曲折，通幽渡壑，长达六七百米，廊壁嵌有历代著名书法石刻三百多方，其中有名的是董刻二王帖，为明代嘉靖年间吴江松陵人董汉策所刻，历时二十五年，至万历十三年方始刻成。园内冠云峰是宋末年花石纲中的遗物，齐集太湖石“瘦、皱、漏、透”四奇于一身。');
INSERT INTO `scenicintroduce` VALUES (75, NULL, 'https://pic5.40017.cn/01/000/86/1c/rBANC1tn8V-ABx3zAAIH8Un1nk8411.jpg', NULL, '可园', '4A景区', '江苏省苏州市沧浪区人民路48号', '7:00-17:30', '//pic5.40017.cn/02/001/86/0d/rBANDFtn8V-AfNtoAAIzP6SIFrU665.jpg', '//pic5.40017.cn/01/000/86/1c/rBANC1tn8WCAJaShAAIY_3qXZN8817.jpg', '//pic5.40017.cn/01/000/86/1c/rBANC1tn8V-ABx3zAAIH8Un1nk8411.jpg', '可园历史悠久，是五代末年吴越国的吴军节度使孙承祐就的池馆。到了北宋年间，苏舜钦在池边建了沧浪亭，可园北宋时系沧浪亭的一部分。可园与沧浪亭隔水相望，园内建筑疏朗，槛曲廊回，水木明瑟，庭宇清旷，是苏州现存一座兼具私家园林形式和书院风格的古典园林。', '关于可园的名字，有不同解释，但有一点是相同的，就是这个庭园“可堪游赏”。可园的特点是面积小、设计精巧，把住宅、客厅、别墅、庭院、花圃、书斋，艺术地揉合在一起。在三亩三的土地上，亭台楼阁，山水桥榭，厅堂轩院，一并俱全。虽是木石、青砖结构，但建筑十分讲究，窗雕、栏杆、美人靠，甚至地板亦各俱风格。', '可园是现今苏州仅存的书院园林，于今年十月一日正式对外开放，许是尘封已久，当揭开面纱，初露真容之时，这座以宁静清旷著称的园林确是吸引了不少的游客前来赏玩。', 421, '//pic5.40017.cn/02/000/86/98/rBLkCFtn8WCARieQAAIoOyUj9wo658.jpg', '//pic5.40017.cn/01/000/86/91/rBLkBVtn8WCAEfKDAAKJBvBceEs848.jpg', '//pic4.40017.cn/scenery/destination/2016/08/16/16/JXtYyc.jpg.webp', '可园立于沧浪亭门口隔河相望，沿街立面粉墙黛瓦，一堂石库门，上戴砖雕帽，古朴淡雅，并不抢眼。园内建筑疏朗，庭宇清旷。', '入得门来，前厅后中间有圆洞门，洞中观景，别有洞天。两侧为花瓶洞门，曲径通幽。置身其中，仿佛与自然花草融为一体。', '园门前有一片莲塘，塘边有侍人石(已失)和当年系马停轿的处所。入门穿过客厅来到擘红小榭后，雄奇、幽深的园景便逐渐展现在眼前。循环碧廊徐徐观赏，可看到拜月亭、瑶仙洞、兰亭、曲池、拱桥，以及藏书阁、钓鱼台、曲桥、小榭等，可说是处处有景，景景不同。');

-- ----------------------------
-- Table structure for sceniclocation
-- ----------------------------
DROP TABLE IF EXISTS `sceniclocation`;
CREATE TABLE `sceniclocation`  (
  `scenicLocationId` int(11) NOT NULL AUTO_INCREMENT,
  `locationName` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  PRIMARY KEY (`scenicLocationId`) USING BTREE,
  INDEX `scenicLocationId`(`scenicLocationId`) USING BTREE,
  INDEX `scenicLocationId_2`(`scenicLocationId`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 10 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of sceniclocation
-- ----------------------------
INSERT INTO `sceniclocation` VALUES (1, 'wuzhongqu');
INSERT INTO `sceniclocation` VALUES (2, 'yuanqu');
INSERT INTO `sceniclocation` VALUES (3, 'gaoxinqu');
INSERT INTO `sceniclocation` VALUES (4, 'kunshan');
INSERT INTO `sceniclocation` VALUES (5, 'xiangcheng');
INSERT INTO `sceniclocation` VALUES (6, 'zhangjiagang');
INSERT INTO `sceniclocation` VALUES (7, 'taicang');
INSERT INTO `sceniclocation` VALUES (8, 'changshu');
INSERT INTO `sceniclocation` VALUES (9, 'gusuqu');

-- ----------------------------
-- Table structure for travelnote
-- ----------------------------
DROP TABLE IF EXISTS `travelnote`;
CREATE TABLE `travelnote`  (
  `travelNoteId` int(11) NOT NULL AUTO_INCREMENT,
  `travelTitle` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `travelNoteContent` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL,
  `travelNoteImage` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `hotNote` int(11) NULL DEFAULT NULL,
  `manageCheck` int(11) NULL DEFAULT NULL,
  `userId` int(11) NOT NULL,
  `travelNotePriseNum` int(11) NULL DEFAULT 0,
  `fbtime` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  PRIMARY KEY (`travelNoteId`) USING BTREE,
  INDEX `fk_游记表_user 用户信息1_idx`(`userId`) USING BTREE,
  INDEX `travelNoteId`(`travelNoteId`) USING BTREE,
  INDEX `travelNoteId_2`(`travelNoteId`) USING BTREE,
  INDEX `travelNoteId_3`(`travelNoteId`) USING BTREE,
  INDEX `travelNoteId_4`(`travelNoteId`) USING BTREE,
  INDEX `travelNoteId_5`(`travelNoteId`) USING BTREE,
  INDEX `travelNoteId_6`(`travelNoteId`) USING BTREE,
  INDEX `travelNoteId_7`(`travelNoteId`) USING BTREE,
  CONSTRAINT `travelnote_ibfk_1` FOREIGN KEY (`userId`) REFERENCES `user` (`userid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 24 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of travelnote
-- ----------------------------
INSERT INTO `travelnote` VALUES (2, '夜逛七里山塘', '七里山塘又名七狸山塘，正式名称为山塘街，是江苏苏州金阊区一条有将近1200年历史的步行街，西起虎丘山下席场弄，东到阊门外古运河上的渡僧桥，全长3829.6米。\r\n\r\n唐宝历二年（825年），大诗人白居易从杭州调任苏州刺史，为了便利苏州水陆交通，开凿了一条西起虎丘东至阊门的山塘河，山塘河河北修建道路，称为“山塘街”，山塘河和山塘街长约七里，叫“七里山塘”。自古山塘街有“姑苏第一名街”之称。\r\n\r\n山塘街和山塘河有典型江南水乡的风貌，家家户户前街后河，河上小船来往如梭，街上店铺林立。横跨河上的古桥有7座：山塘桥、通贵桥（又名瑞云桥）、星桥、彩云桥（又名半塘桥）、普济桥、望山桥（曾名便山桥）和西山庙桥，竖贯堤上的古桥有8座：白姆桥、毛家桥、桐桥（曾名洞桥、胜安桥）、白公桥、青山桥、绿水桥、斟酌桥和万点桥，而对岸竖贯之桥也是八座，有同善桥（小普济桥）、引善桥等。其中山塘桥、彩云桥、便山桥和洞桥四座桥建于宋代以前。其中通贵桥旁是明代南京吏部尚书吴一鹏的府第。星桥是昔日商业最繁盛的所在。西山庙桥南北两堍分别是花神庙和西山庙。而斟酌桥是山塘河、东山浜、野芳浜的交汇处，是当年画舫云集的所在，桥东堍的花园弄花香袭人，有不少诗词赞美斟酌桥畔的风光，例如：“斟酌桥头花草香，画船载酒醉斜阳。桥边水作鹅黄色，也逐笙歌过半塘。”、“半塘春水绿如渑，赢得桥留斟酌名。桥外酒帘轻扬处，画船箫鼓正酣声。”', 'https://pic5.40017.cn/02/001/46/d4/rBANDFs-lc2ALJEGAAHQf63SO2g480_750x_00.jpg', 2, NULL, 855, 40, '2018-10-23 14:05:53');
INSERT INTO `travelnote` VALUES (3, '千年斜塔，雨落虎丘 ', '苏州 人盼了3年的\r\n梦幻喷泉将重新上演！\r\n说说这次旅行\r\n我本是江南人，生于江南长于江南，江南的雨看的多，江南的小桥流水也遇见的很多，所以这里的风景一向甚少能引起的兴趣。大学的四年，我暂居苏州，春时、夏至、秋分、冬雪，每个季节的景色都看遍，唯有虎丘，四年的时间里，我只来过一次。\r\n上一次来虎丘，也是秋日，江南的秋，一直都是我最喜欢的季节。\r\n这一次再来虎丘，我已经毕业，离开苏州有三个多月了。这三个月里我从未回来过，可是刚刚下高铁的瞬间，还是觉得异常的亲切。\r\n【关于行程】\r\n9月23日，秋分。俗话说，秋风起，蟹脚痒。是啊，又到了一年吃大闸蟹的季节了。但是我们这种从小这个季节吃大闸蟹的人来说，这个时间远远还没有到大闸蟹肥美的季节。\r\n每年的9月，苏州的虎丘都会开始有庙会表演，持续时间约有一个月，值得一来\r\n23号一日，就只在虎丘一个景区里。\r\n【关于苏州】\r\n苏州，古称吴，简称为苏，又称姑苏、平江等，是国家历史文化名城和风景旅游城市。苏州属亚热带季风海洋性气候，四季分明，雨量充沛。种植水稻、小麦、油菜，出产棉花、蚕桑、林果，特产有碧螺春茶叶、长江刀鱼、太湖银鱼、阳澄湖大闸蟹等。\r\n【关于交通】\r\n苏州和无锡中间有一个苏南硕放机场，不过机场不大，吞吐量也不高，所以习惯性苏州人出行还是会选择上海浦东或者虹桥飞。\r\n苏州有很多高铁，每天往返于南京上海的铁路有几十趟，但节假日还是要提前购票，不然还是会买不到票。\r\n苏州汽车站有汽车南站、汽车北站，往省内绝大部分都有汽车。吴中汽车站可以到省内周庄、吴江之内的地方。\r\n内部交通\r\n苏州现在有地铁1号线、2号线、4号线，公交也很方便。\r\n【关于美食】\r\n苏式美食有很多，以甜为主。\r\n中秋季节最特色的的就是鲜肉月饼。其他的传统特色美食如松鼠桂鱼、响油鳝糊、碧落虾仁等。\r\n【关于虎丘】\r\n虎丘山海拔34.3米，面积0.19平方公里。景区现有面积100公顷，保护区面积475.9公顷，作为苏州的一个重要旅游窗口，虎丘屡获殊荣，先后被评为全国首批十佳文明风景旅游区示范点，国家AAAAA级旅游景区，全国文明单位。虎丘，原名海涌山，据《史记》记载，吴王阖闾葬于此，传说葬后三日有“白虎蹲其上”，故名虎丘。又一说为“丘如蹲虎”，以形为名。\r\n\r\n\r\n虎丘主景，传说众多\r\n虎丘山海拔34.3米，面积0.19平方公里。山体由侏罗系火山岩浆构成，千人石、试剑石、剑池等山石为流纹岩。虎丘山往东、北、西三个方向的整个平原地区第四系冲积层之下都分布着侏罗系火山岩。\r\n我曾暂居苏州五载，苏州大大小小的景也基本都走过，虎丘自然也不会例外。两年前来虎丘的时候，也是这样的秋天，秋高气爽最是适合出门逛逛了，也恰巧赶上了庙会，不过当初逛的并不仔细，两个小时就走马观花的走了一遭然后离开了。\r\n而这一次来，终于完完整整的浏览了一遭，那些曾经经过，却不知道典故的地方也终于都弄了明白。', 'https://tcw-public.b0.upaiyun.com/youji/2017-09-26/1852img11506414464070gXAJL.jpg!w800', 2, NULL, 844, 46, '2018-10-22 14:05:57');
INSERT INTO `travelnote` VALUES (4, '暑期苏州乐园之行', '　今天下午和妈妈去苏州乐园玩。我们有一张苏州乐园的卡，我们刷卡进去的。进去以后我们想先坐森林小火车，不过管理员说森林小火车半个小时以后才开。我和妈妈就先去玩具那儿玩了一会儿。我玩得正高兴，突然妈妈喊我，说“森林小火车来啦!”。我赶快去坐森林小火车。森林小火车开动以后，我顺手拔了几片小树叶。森林小火车绕着乐园转了一圈。我看到了许多玩具，还看见了瀑布，瀑布的水被风吹到了我们的脸上，感觉真凉快!瀑布象一块雪白的布，在太阳下闪闪发光。我们还经过了一个山洞，里面有一点点光，我一点也不害怕。森林小火车在路上有两处停靠点，一个是在一座桥，还有一个是在太空飞船那里。最后森林小火车开进了一个画满宇宙飞船的山洞。我感觉好像来到了太空一样，真好玩啊! 我们下了森林小火车又去玩了一会滑滑梯。后来我们又去了小小世界.一进门我们就看见五颜六色的灯一闪一闪的，真好看!我们坐上了一条黄色的船，船上只有我和妈妈两个人.我们坐船先到了世界风情，那里有很多人物，比如阿凡提，买火柴的小女孩，哪吒......又到了动物世界，里面有许多动物比如小鸟，海豚，海象，海豹......小船又经过童话世界，里面有许多童话故事力的主人公，象白雪公主和七个小矮人，葫芦娃，忍者神龟......让我想起很多有趣的动画片.最后小船快到终点时看到许多用不同国家语言写成的\"再见\"，我只看的懂中文的\"再见\".我们又去沙滩玩了一会，我在那捉了一会小鱼就回家了.今天我玩的可真高兴!', 'https://pic5.40017.cn/01/000/39/40/rBANC1s2b8CAJ5fiAAC7p_kqtr8920_750x_00.jpg', 1, NULL, 832, 30, '2018-10-21 14:06:02');
INSERT INTO `travelnote` VALUES (8, '慢游苏州太湖三山岛，看最美太湖日落', '虽然距离太湖不是很远，但一直还未前去一探，眼看秋天来了，天气凉爽了起来，但伴随着的阴雨天气潮闷也紧接着而来。于是，周末约了几个朋友准备去太湖转转，如果有可能环太湖一圈那就更好了。\r\n  太湖，是中国五大淡水湖之一，湖岸线漫长，自然风光优美，且拥有众多形态不一的岛屿，其中这些岛屿中以太湖三山岛最为出名，三山岛由北山、行山、小姑山三座山峰组成，名字也由此而来。同时这里也是国家湿地公园，山水相依，面积虽不大却风光秀丽，明代称之为小蓬莱，故有“太湖蓬莱”的美誉，犹如世外桃源一般隐匿于太湖之中。\r\n  在三山岛的那两天真的不要太惬意，清晨或傍晚岛上闲逛，中午找地方喝喝茶，骑骑单车采采果子，虽然不能环湖但也可以泛舟湖上，尽享湖光山色。这里也比较适合悠闲放松，比较慢节奏的生活，原生态的风景，一派返朴归真的乡野气息，如果能多住上几日也是挺不错的。来到岛上可以买票乘坐游览车游玩，也可以徒步游览，由于岛屿并不是很大，建议徒步游览，当然如果不愿意走太多路也可以租这里的自行车，环湖路相对平缓，比较好骑。我们的游览起点是在这块牌坊前，开始徒步游览三山岛。牌坊上有对联：万顷碧波粼粼泊泊来，三春清风徐徐阵阵至，横批：湖光山色，往后可见“太湖蓬莱”四个大字，描绘的便是此处的太湖水以及岛上清风袅袅的景象，让人心旷神怡。\r\n\r\n', 'https://pic5.40017.cn/03/000/98/0b/rB5oQFu8BgCAWOM3AA2UAI1KnRs316_750x_00.jpg', 2, NULL, 866, 42, '2018-10-20 14:06:06');
INSERT INTO `travelnote` VALUES (10, '穿越人海 の苏州、同里、周庄三日游 ', '拙政园位于娄门内东北街178号，是苏州园林中最大的，也是最著名的一座拙政园始建于明代，王献臣是该园第一位主人。他在嘉靖、正德年间，官居监察御史，晚年仕途不得意，罢官而归，买地造园，借《闲居赋》“拙者之为政”句意，取名为拙政园。园内主要景点有：兰雪堂、芙蓉榭、秫香馆、放眼亭、远香堂、小沧浪、留亭阁、浮翠阁等。\r\n\r\n交通路线：从苏州火车站坐40路西线、202路公交车到齐门站下车步行几百米即可到达。\r\n门票：旺季￥90，景区售票处有好几个，但是入园还是要从东北街南门这个入口进。我国的建筑，从古代的宫殿到近代的一般住房，绝大部分是对称的，左边怎么样，右边也怎么样。苏州园林完全没有在讲究对称，可是也很美，不过有点感觉身在迷宫，也可能是因为人太多的原因。苏州园林在每一个角落都注意图画美。阶砌旁边栽几丛书带草。墙上蔓延着爬山虎或者蔷薇木香。如果开窗正对着白色墙壁，太单调了，给补上几竿竹子或几棵芭蕉。诸如此类。我家附近的公园怎么就只是一个亭子，种些花呢？苏州园林里的门和窗，图案设计和雕镂琢磨功夫都是工艺美术的上品。大致说来，那些门和窗工细而决不庸俗，即使简朴而别具匠心。', 'https://pic5.40017.cn/01/000/35/04/rBLkBls05f6Adqe0AAEmbWuHpC4727_750x_00.jpg', 1, NULL, 1, 50, '2018-10-11 14:06:12');
INSERT INTO `travelnote` VALUES (11, '我和苏州一直有个约会', '当杭州等城市大刀阔斧赶现代化进程的时候，苏州像一个傲娇大家闺秀，丝毫没有打乱自己的信仰，依旧古朴韵律的节奏着。古城区不得肆意建造高楼大厦，新区却另辟道路繁花似锦， 两区功能划分明确，互不打扰，如此便是我最爱这座城市的地方了。\r\n几年间从上海去过无数次苏州了，今年才想着专心写一下这座处处见细节之美的城市。 \r\n建议其实比较随意，不是告诉各位亲们，怎样住宿怎么样吃喝，因为我坚持100个人心中会有100个苏州。 \r\n与其写这个，不如说下不得不去的一些地方吧。 \r\n比如【平江路】和【拙政园】虽然是爆款，但却有它经久不衰的理由。 \r\n除了老景点，每年递增的小资地点也值得一去。比如【李公堤】的一些酒吧，比如【凤凰文化广场】的【自在复合书店】，比如【圆融广场】摩天轮附近的水边，可以沿着走一圈。每一个季节的苏州，都是另一种美。\r\n【夏天的苏州】由于江南的闷热暑气，最适合去园林里坐一坐，郁郁葱葱的树枝，还有洋洋洒洒的荷叶衬托着娇嫩的荷花，园林里的温度要比外面低上了好几度。\r\n【冬日的苏州】我更愿意缩在平江路一条街，吃喝下午茶都在这里解决了。有时候啃20只卤鸡脚，喝杯茶叶，在河边可以欢喜的坐上一下午。没来苏州园林前，常听人说起，移步换景。 半信半疑之间，拿着单反就这么杀进园子。发现果不其然。每走几步，构图景色就完全不一样；并且园林常常用到“借景”的手法，很有层次。\r\n\r\n', 'https://pic5.40017.cn/02/001/35/40/rBLkCVs068KAcpKEAAKm7DJmGTU363_750x_00.jpg', 2, NULL, 869, 25, '2018-10-07 14:06:17');
INSERT INTO `travelnote` VALUES (12, '苏州.山塘街随拍', '山塘街历史悠久，始建于唐代宝历年间，是国家AAAA级旅游景区，被称誉为“姑苏第一名街”。此街位于古城苏州的西北部，东连“红尘中一、二等富贵风流之地”（《红楼梦》中描述）阊门，西接“吴中第一名胜”虎丘，全长约3600米，为唐代白居易率众修成。后人称之“白公堤”，又因堤长七华里，称为七里山塘。山塘街因其独特的地理位置和优越的水陆交通条件，曾是明清时期商贸、文化最为发达的街区之一。“上有天堂，下有苏杭。杭州有西湖，苏州有山塘。两处好地方，无限好风光。”这便是对山塘街的生动写照。山塘街东段导览图。七里山塘上有诸多的古寺、古祠、古牌坊、古会馆……这些古建筑，精雕细刻，古色古香，一派岁月沧桑感；还有耳熟能详的半塘传说，陈圆圆、董小宛等，装点了山塘的婉约一面，《山塘绝句》中就有“山塘满路皆脂粉”的句子；但五人墓和葛贤墓，却给游客留下另一种感慨。山塘街可以分为东西两段，东段从阊门渡僧桥起至半塘桥，这一段大多是商铺和住家，各种商店一家挨着一家，东段又以星桥一带最为热闹繁华。山塘街的西段指半塘桥至虎丘山。这一段渐近郊外，河面比东段要开阔，河边或绿树成荫、芳草依依，或蒹葭苍苍、村舍野艇。\r\n\r\n', 'https://pic5.40017.cn/01/001/33/fc/rBANC1s0zriAC57uAAF38YS8mhE572_750x_00.jpg', 2, NULL, 883, 34, '2018-10-04 14:06:32');
INSERT INTO `travelnote` VALUES (13, '那日花开，在苏州最隐逸的园林', '艺圃前身是明代进士袁祖庚所建的醉颖堂。袁官至浙江按察副使(考核官吏、管理司法的官)，四十岁后辞官退隐，在此造宅园，悬挂匾额曰“城市山林”。1659年，清初为明崇祯进士姜埰（号敬亭，山东莱阳人）辗转寓居苏州，成了艺圃的第三任主人，并改药圃为颐圃、敬亭山房。姜埰逝世，次子姜实节又将敬亭山房改名为艺圃。后来此园又数易其主，但园名仍叫艺圃。道光十九年（公元1839年）绸缎同业立为“七襄公所”，现留有小篆匾额。到了民国初，由于经济问题，园内房屋出租为民宅，艺圃变得支离零落，破败不堪。上世纪80年代，政府出资对其进行了完整修缮，2001年又把东部住宅部分收归艺圃，修复开放。艺圃的第二任主人是明代状元文震孟（文征明之曾孙），官至大学士，改“醉颖堂”名为“药圃”，文震孟尽管地位愈来愈高，但在艺圃却从未扩充过一分土地、加建过一楹房屋，基本上保存了“醉颖堂”时期“写意山水园”的特色。修缮后的窗是典型的明式格子窗，窗外的亭子就是艺圃有名的“乳鱼亭”，同样体现了明代的风格，据说部分构件为明代遗物。', 'https://pic5.40017.cn/01/000/57/ec/rBANC1tIt7eAC46qAAHvVZJbFWM418_750x_00.jpg', 1, NULL, 855, 25, '2018-10-10 14:06:22');
INSERT INTO `travelnote` VALUES (14, '倾“姑苏城外寒山寺”而往 ', '啊~~~先让本地瓜感叹几句。\r\n中秋节去的姑苏,然后上上上星期才把图片找好,顺便修了一下。新手,照片修的不好,纯属按照个人的喜好来修的(虽然说本地瓜的品味有待提升),打开这个网页的各位也别叨逼叨,我自己知道就好了~颜色什么呀~配色什么呀~要多浮夸有多浮夸~我也造,毕竟我自己都看不下去了,嗯~额!~懒癌患者。\r\n因为我是中秋节去的,所以说你们懂呀!!!那就是人多呀~多~呀~虽然说下着雨~但是也阻挡不了人们的热情~对,就是这么热情。\r\n“姑苏城外寒山寺,夜半钟声到客船”\r\n小时候,学习这首诗词的时候就蛮有赶脚的,印象蛮深刻的。直到长大了之后才知道姑苏原来就是苏州。\r\n一心念念叨叨的江南怎么能少得了苏州呢?\r\n直到中秋的前一个周这个念头才越发的强烈起来了,于是就开始定各种票,网上搜罗各种攻略:哪里好玩呀?什么好吃呀?天气怎么样?要穿什么呀?\r\n在我的三观里,不存在什么说走就走的旅行,没有目的的旅行称之为旅游。为了留出肚子来吃苏州的小吃,我在逛完了拙政园之后去全家…… 全家…… 买了三明治!~对你木有看错!就是三明治~\r\n社交软件上一搜,苏州松鹤楼的松鼠鱼蛮有名字的……但是好大一条……太甜太腻……我选择了放弃……投奔了桂花糕……生煎……糕点的怀抱……\r\nps:对了,每个景点都有客服中心,里面有电视讲解这个景点的历史故事,还有免费的导游讲解,不够有些要凑够人数……也有讲解机……这种地方最好跟着听一听,毕竟中国文化博大精深嘛~我跟着听了一点点的~不全~所以下面基本是我的碎碎念和照片~毕竟网上游记辣么多~百度都有介绍~我是按照我行走的步伐来排照片的~\r\n在ps:票都是在网络上买的,进景点的时候有的直接刷身份证就好,但是,寒山寺需要取票之后,拿票根进去的~', 'https://pic5.40017.cn/02/001/6a/02/rBLkCVtVeTiAB19lAAEYhhG11kw847_750x_00.jpg', 2, NULL, 832, 25, '2018-10-02 14:06:37');
INSERT INTO `travelnote` VALUES (15, '苏州 闲散林木，渎一无二，古镇风韵', '门对香溪，背靠灵岩，\r\n乾隆皇帝每次下江南游木渎古镇的时候，必到虹饮山房，\r\n在这里游园、看戏、品茗、吟诗，直到夜色降临，才依依不舍离去。\r\n古松园内的罗汉松，苍翠虬劲。榜眼府第的石雕，精美至极。品尝完最美味的藏书羊肉，来到这里，没想到白象这么大，\r\n闲闲散散地沉浸在秋林中，花儿依然绽放，还和小伙伴们玩了玩真人CS。\r\n\r\n苏州素来以山水秀丽、园林典雅而闻名天下，\r\n有“江南园林甲天下，苏州园林甲江南”的美称，\r\n又因其小桥流水人家的水乡古城特色，有“东方水都”之称。\r\n如同苏州的精致园林一般，姑苏的春色，也是伴着吴侬软语，和着咿呀的江南小调，悄然显露。苏州，就是这需要慢步细行的温柔乡。“苏州园林甲天下”，苏州园林是建筑、山水、花木、雕刻、书画的综合艺术品，集自然美和艺术美于一体，构成了曲折迂回、步移景换的画面。除此之外，水乡古镇也是苏州的一大特色，四面环水，古代只有舟船与外界相通，所以街区和建筑保存完好。木渎古镇的历史同苏州古城一样悠久，这座水乡古镇本身稀松平常，沿着主街山塘街自西向东排布的古典园林严家花园、虹饮山房、古松园、榜眼府第，倒是带来了“园林古镇”的特色。\r\n伴着木渎山塘街的香溪和伍子胥率众开挖的人工运河胥江在东部的古桥斜桥下相汇，坐游船在充满历史故事的河道上晃晃悠悠，再听船娘用吴侬软语唱一曲也很不错。', 'https://pic5.40017.cn/02/000/4d/62/rBANDFtCd1WAW6SvAAJ6SsVUnks285_750x_00.jpg', 1, NULL, 844, 24, '2018-10-03 14:06:40');
INSERT INTO `travelnote` VALUES (16, '实拍太湖边壮丽璀璨的夕阳美景', '明天又要出门，去南岳衡山参加南岳摄影大赛，领略南岳的冬日美景，今天就再发一组苏州的片子，看看苏州太湖边东山岛上一次壮丽璀璨的夕阳美景吧！   我们是12月30日那天在同里用完午餐后，坐车赶往东山岛的。先在太湖码头坐游船，在烟波浩渺的太湖转了转，然后到达东山岛东部的启园。在启园转了一圈后，在太阳将要落山的半个多小时前，赶到了拍摄夕阳之地，湖滨公路旁一处比较开阔的地方。\r\n先看看启园吧，启园的园址原名叶家浜，是一处始建于民国时代的汉族古典园林建筑。原为民国实业家席启荪的私家花园，俗称席家花园，1933年席氏为纪念其上祖在此迎候康熙皇帝而兴建，占地50余亩。启园为江南不多见的山麓湖滨园林，依山而筑，傍湖而立，介乎山水之间。1984年被国务院批准列为太湖风景名胜区主要景点之一，经政府多次拨款整修扩建，才具今日之风貌。游罢启园，就在太湖东山镇外临湖的一条公路旁，拍到了这次日落。说实话，那天的日落很一般，日落时天空中没有云，光比大，光线强，俺加了“反渐变”镜，效果都很一般。直到太阳由亮到白，由白到黄，由黄到红，成了一轮红日以后，才有了“太湖夕阳”那壮丽璀璨的感觉，呵呵：', 'https://pic5.40017.cn/02/000/38/5e/rBLkCFs1utGANBLiAAC9pvx-ulk812_750x_00.jpg', 2, NULL, 865, 3, '2018-10-01 14:06:45');
INSERT INTO `travelnote` VALUES (17, '苏州园林—小游网师园', '网师园，一个富有诗意的名字，在苏州，名气不及拙政园，留园，却也是精致苏州园林的代表之作，敢问姑苏园林如此之多，而外国友人们却独爱网师园，这是为何？这座园子小而精的特性，的确最能代表园林意境。这可得从1978年说起呢。  \r\n\r\n1978年，美国纽约大都会艺术博物馆的友好人士来苏州 参观游览，被这里的 园林所陶醉 ，决意在其馆中建一座园林建筑。经过和苏州方面商谈，最后 决定仿照网师园的 殿春簃小院， 为了让美国 人民欣赏 中中国 的园林艺术 。这座园子最后 取名为“明轩”。 明轩由苏州园林工匠设计建造，一下子轰动了纽约 、轰动了美国 。施工期间，美国前总统 尼克松几次前去 参观 。明轩作为苏州园林的代表，开创了中国园林艺术 走出国门的先河。可能就是这个原因，导致每天来这里参观的外国人特别多，这里也是苏州园林中唯一开放也花园的地方，晚上在这里品上一壶茶，听上一段昆曲或评弹，享受一段正宗的苏式生活，可不美哉！  \r\n\r\n记得小时候来过这里，对这里的印象的确不深，不过从位于带城桥路边的阔家头 小巷子进去，沿路经过沈德潜故居和一些卖旅游纪念品的小摊，我们就进入了网师园，路不长，一两百米而已，却一下子从城市喧嚣走进了宁静氛围，一扇不大的对开门，走进厅堂，穿过回廊，一片池水假山，周边亭台楼阁，感觉甚好，坐在池边廊下的人们，说这话，聊着天，有带着小孩来感受园林的，有拿着画笔来描绘园林的，也有早晨来园林锻炼的年老者，总之，人少的时候，园子显得非常和谐，这也是普通老百姓生活在这里的真实写照。  ', 'https://pic5.40017.cn/01/001/3a/6b/rBLkBls2ya2AQ9TGAADIjhq5AYg787_750x_00.jpg', 2, NULL, 864, 5, '2018-10-08 14:06:51');
INSERT INTO `travelnote` VALUES (18, '渔洋山上观太湖、独行金鸡湖', '订购同程旅游网的酒店有幸获得100元激活码，又看到同程19日在苏州举办“细草摄影分享会”，毅然报名参加。同时在同程旅游客户端用激活码预订了苏州渔洋山景区的门票，80元，全免了哎。并上12306预订好火车票。\r\n\r\n19日上午在虹桥火车站乘6:42的动车，半个多小时就到苏州了，好快啊。7点半在苏州南广场乘上69路，5元。行程一个小时左右，该车途经苏州乐园和木渎古镇，很方便的。\r\n\r\n到景区后给景区检票人员看了电子门票后就可以进入了，10元钱乘坐景区观光车直接到山顶渔洋阁，贪婪地纵览太湖美景。接着进渔洋阁参观有关渔洋山的历史文化。看图片吧。经过法华寺，来到千斤井，知道了伍子胥与千斤小姐的传说。当年伍子胥遭楚平王追杀，穷困潦倒，是一浣纱小姐给于救助而生，日后成为吴国重臣后携千金前来报恩，得知小姐因救他而招诬陷投井而亡，伍子胥来到井边悲叹道：尔浣纱，我行乞，我腹饱，尔身溺，十年后，千金报。咬破​手指在石上血书：恩重如山，并将千金倒入井中。以示哀思之心和表达感恩之心。 ‍ ', 'https://pic5.40017.cn/01/000/39/5a/rBLkBls2QFOAeobZAAEK1QgO-Z0659_750x_00.jpg', 3, NULL, 863, 72, '2018-10-09 14:06:57');
INSERT INTO `travelnote` VALUES (20, '游玩狮子林', '出了拙政园就赶往狮子林，今天要争取把拙政园和狮子林都观赏完。从拙政园到狮子林并不远，几百米的路，一会就到了。相对来说，狮子林的热闹程度就不如拙政园啦，至少门前是这样呀。\n\n狮子林也是苏州四大名园之一，始建于元代，已有六百多年的历史啦。听说这座园林是元代僧人天如禅师为纪念他的老师中峰禅师所建。因园内假山众多，状如狮子，称为狮子林。\n　　跨入园内，进入一大厅，就是贝家祠堂。正中的一块匾上有 “云林逸韵”四字，两边走廊的木栏杆上雕有牡丹、凤凰及寿字图案，上有带花瓶与贝叶图案的挂屏。因狮子林最后一位园主姓贝，所以这里就有了这个贝家祠堂。祠堂是供奉、祭祀祖宗，族人聚会的地方，在屋顶上塑有福、禄、寿三位神仙和一个小孩的塑像，表明了园主希望他的子孙后代能够出类拔萃、光宗耀祖。走廊入口处有砖砌“春华”二字，意思是园内春光烂漫。\n　　过了贝家祠堂就是燕誉堂，正在捉摸着燕誉是什么意思哪，一位导游带着七八个游客过来了，只听到导游说，燕誉是安祥、快乐的意思。本人才疏学浅，真不知是何出处。堂前脚下有一个巨大的“寿”字，边上是五只蝙蝠，说的是取五福祝寿之意。很多游人在围着寿字转上一圈，然后踏着寿字才进入台阶，不知道是什么含义，我们也跟着转了一圈，踏上寿字，然后上了台阶进入燕誉堂。\n\n燕誉堂是前厅后堂，前厅接待贵宾或男宾，其陈设精致华贵，又不失古朴庄重。中堂一面屏风，巍巍而立，屏风中刻着《重修狮子林记》，记述了贝氏重修狮子林的经过。\n\n穿过拱门，绕到屏风背面，就是后堂。后堂是密友聚谈、女眷欢聚的地方，称“绿玉青瑶之馆”。\n\n燕誉堂的背后有一个小方厅，两边为大型的空窗，感觉那两个窗户就是两幅图画，东窗外是素芯腊梅，可惜不是赏梅的季节，此时当然没有梅花，却有青青郁郁的枝叶，透过月洞，深邃而清雅，俨然一副流动的壁画。西窗外是城市山林，真是别具一格的造园艺术手法。它可以随季节的变化，脚步的移动而变化画面。可以想象，花开时节，暗香远来，一定更有意趣。   \n　　穿过长长的回廊，就是指柏轩，这是僧人讲经说法的地方，也是贝家亲属们聚会的地方。指柏轩是园内的正厅，两层楼阁，高爽轩昂。底层有围廊，翻轩有挂落。轩内家俱陈设有天然几、花几、供桌、太师椅、正中置铜鼓，古色古香俗称“诸葛鼓”。\n站在指柏轩前凭轩眺望，满目石峰林立，峰间古柏虬根盘绕，指峰揖柏皆成画意。右边竹林青翠欲滴，盛夏天气，绿色浓荫别有情趣。\n\n这座假山峰是目前古典园林中最著名的湖石假山，有多条山道，互相缠绕，错综复杂，传说当年乾隆皇帝在其中转了两个时辰也没能转出去。里面还有一个棋盘洞，传说是吕洞宾和铁拐李下棋的地方。假山峰上有含晖、吐月等名石。石缝间长着奇松怪柏，恰似一幅美丽的山水画。\n\n狮子林的假山，群峰起伏，气势雄浑，奇峰怪石，玲珑剔透。假山群共有多条路线，很多的洞口。在这假山遍布，长廊环绕，楼台隐现，曲径通幽的情景中，有迷阵一般的感觉，步入其中眼看“山穷水尽疑无路”，一转身却又“柳暗花明又一村”。漫步其中，攀岩过石，走走停停，犹如迷宫一般，唯恐迷失道路。横向极尽迂回曲折，竖向力求回环起伏。我们穿洞，左右盘旋，时而登峰巅，时而沉落谷底，仰观满目迭嶂，俯视四面坡差，或平缓，或险隘，真的带来一种恍惚迷离的神秘趣味。\n\n狮子林以假山著称，可以说，狮子林假山是中国园林大规模假山的仅存者，具有重要的历史价值和艺术价值。\n\n行走在假山湖石中，你不得不佩服古代建筑设计者高超的技术和精湛的堆砌石头的技艺。建筑设计者独具匠心，“胸中有丘壑”,“胸中有典故”,“胸中有想象”的设计精妙，构思新颖，想象奇特，堆叠了玲珑俊秀，洞壑盘旋，状如石狮，别具洞天的园林艺术。\n\n千姿百态的湖石，多数像狮形，睡狮，立狮，卧狮，奔狮，怒狮。听说大大小小有五百多头，有怒吼的，有憨睡的，有嬉戏打闹的，或躺或立，或大或小，或肥或瘦。也有像鼋的，像鱼的，像鸟的，真叫人看得眼花缭乱。\n\n经走廊往西，走出假山是一片荷塘。一座登云桥上坐满了休息的游人。桥下是一汪绿水，水中荷叶翠翠，荷花红红。\n\n荷塘边一颗硕大的银杏树，又高又大，女儿双手环抱树干，只能抱住一小半。\n\n在荷塘西岸假山上，有一座“听涛亭”，石崖峥嵘，树木森然。亭中有 “听涛”与湖心亭的“观瀑”互相呼应。亭侧假山高处，水源出自山涧之中，瀑水一泻而下，一跌五折，湍急的水流，潺潺的水声，危岩的涧山，其形其声，动人心弦。\n\n经曲桥到六角湖心亭，又名观瀑亭，与飞瀑亭一高一低，相互应答，更增添了园中情趣。此亭是观赏园内湖山景色的最佳处，从亭中西眺，四周假山林立，树木森森，西部笔陡的山坡悬崖处，瀑布如经湖石多叠直泻而下，奔腾不息，气势磅礴。\n\n湖心亭北侧有一座两层的石舫，舫上有对联:“柳絮池塘春暖,藕花风露宵凉”。在那石舫上，可以欣赏湖心亭、九曲桥、飞瀑、荷塘等景色。\n\n荷塘北建有真趣亭，亭内藻饰精美，人物花卉栩栩如生。“真趣”二字由乾隆皇帝亲笔御题。听说有这样一个故事：乾隆到此游园，状元黄熙接驾，见乾隆题“真有趣”三个字，觉得其中的“有”字太俗，便请皇上恩赐“有”字，而留下了“真趣”二字。\n\n站在亭前露台眺望池南，群山成岭，峰石倒影清晰可见，荷叶朵朵。此处赏荷，确是个好地方。\n\n狮子林真不愧为苏州古典园林亭、台、楼、阁、厅、堂、轩、廊之人文景观的典范，更是以湖山奇石，洞壑深遂而盛名于世，是真正的“假山王国”。\n\n狮子林虽缀山不高，但洞壑盘旋，嵌空奇绝。虽凿池不深，但回环曲折，层次深奥，飞瀑流泉隐没于花木竹子之中，古树名木令人叫绝。 \n\n狮子林的厅堂楼阁更是精巧细致，无愧为吴中名园。\n\n正站在真趣亭上赏景哪，突然听到喇叭声响起，是催赶游人离开园林，已经是下午5点半了，是园林要下班关门啦。还有双香仙馆，扇亭，荷花厅等都没有来得及去看看，可惜啦。\n\n在苏州晚上没事，就到大名鼎鼎的平江路上去走了走，听说很多的游人都愿意去看看平江路。其实平江路只是半条街，一边是商铺，一边却是小河。还真不错，平江路上的宅子，小河本身就像一幅画。河两旁的民居是粉墙黛瓦，小商铺生意兴隆，游人如织。一条小船悠然而去，历史就在这条河上，美也就在这条河上。', 'http://localhost:3000/uploadfile/狮子林.png', NULL, NULL, 868, 0, '2018/10/26 下午2:04:08');

-- ----------------------------
-- Table structure for travelnotecomment
-- ----------------------------
DROP TABLE IF EXISTS `travelnotecomment`;
CREATE TABLE `travelnotecomment`  (
  `travelNoteCommentId` int(11) NOT NULL AUTO_INCREMENT,
  `comment` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `user_userId` int(11) NOT NULL,
  `travelNote_travelNoteId` int(11) NOT NULL,
  PRIMARY KEY (`travelNoteCommentId`) USING BTREE,
  INDEX `fk_travelNoteComment_user1_idx`(`user_userId`) USING BTREE,
  INDEX `fk_travelNoteComment_travelNote1_idx`(`travelNote_travelNoteId`) USING BTREE,
  CONSTRAINT `travelnotecomment_ibfk_1` FOREIGN KEY (`travelNote_travelNoteId`) REFERENCES `travelnote` (`travelnoteid`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `travelnotecomment_ibfk_2` FOREIGN KEY (`user_userId`) REFERENCES `user` (`userid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 89 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of travelnotecomment
-- ----------------------------
INSERT INTO `travelnotecomment` VALUES (7, '美景如画，美人如画。', 832, 2);
INSERT INTO `travelnotecomment` VALUES (9, '赞', 1, 2);
INSERT INTO `travelnotecomment` VALUES (10, '相机不错', 883, 2);
INSERT INTO `travelnotecomment` VALUES (11, '真好', 844, 2);
INSERT INTO `travelnotecomment` VALUES (12, '不错', 864, 2);
INSERT INTO `travelnotecomment` VALUES (13, '大爱', 869, 2);
INSERT INTO `travelnotecomment` VALUES (14, '不错哟', 855, 2);
INSERT INTO `travelnotecomment` VALUES (15, '江山如此多娇', 865, 2);
INSERT INTO `travelnotecomment` VALUES (16, '好好好好', 866, 2);
INSERT INTO `travelnotecomment` VALUES (17, '照片已美哭！暖暖哒很温馨！', 863, 2);
INSERT INTO `travelnotecomment` VALUES (18, '漂亮', 832, 3);
INSERT INTO `travelnotecomment` VALUES (19, '奢侈的阳朔走', 1, 3);
INSERT INTO `travelnotecomment` VALUES (20, '楼主拍的真不错啊！', 868, 3);
INSERT INTO `travelnotecomment` VALUES (21, '赞', 855, 3);
INSERT INTO `travelnotecomment` VALUES (22, '太美了 么么哒', 865, 3);
INSERT INTO `travelnotecomment` VALUES (23, '不错', 866, 3);
INSERT INTO `travelnotecomment` VALUES (24, '好', 863, 3);
INSERT INTO `travelnotecomment` VALUES (25, '哇', 869, 4);
INSERT INTO `travelnotecomment` VALUES (26, '厉害呢', 855, 4);
INSERT INTO `travelnotecomment` VALUES (27, '看的我也想去了', 865, 4);
INSERT INTO `travelnotecomment` VALUES (28, '向你学习', 866, 4);
INSERT INTO `travelnotecomment` VALUES (29, '真不错呢', 863, 4);
INSERT INTO `travelnotecomment` VALUES (30, '好棒', 832, 4);
INSERT INTO `travelnotecomment` VALUES (31, '大爱', 868, 8);
INSERT INTO `travelnotecomment` VALUES (32, '好', 844, 8);
INSERT INTO `travelnotecomment` VALUES (33, '赞', 864, 8);
INSERT INTO `travelnotecomment` VALUES (34, '赞', 869, 8);
INSERT INTO `travelnotecomment` VALUES (35, '厉害', 855, 8);
INSERT INTO `travelnotecomment` VALUES (36, '不错呢', 865, 8);
INSERT INTO `travelnotecomment` VALUES (37, '哇', 869, 10);
INSERT INTO `travelnotecomment` VALUES (38, '赞', 855, 10);
INSERT INTO `travelnotecomment` VALUES (39, '相机拍的好赞', 865, 10);
INSERT INTO `travelnotecomment` VALUES (40, '赞', 866, 10);
INSERT INTO `travelnotecomment` VALUES (41, '厉害', 863, 10);
INSERT INTO `travelnotecomment` VALUES (42, '赞', 832, 11);
INSERT INTO `travelnotecomment` VALUES (43, '好', 1, 11);
INSERT INTO `travelnotecomment` VALUES (44, '很棒', 868, 11);
INSERT INTO `travelnotecomment` VALUES (45, '评论的都是人才', 844, 11);
INSERT INTO `travelnotecomment` VALUES (46, '好', 864, 11);
INSERT INTO `travelnotecomment` VALUES (47, '说的不错', 869, 11);
INSERT INTO `travelnotecomment` VALUES (48, '赞', 844, 12);
INSERT INTO `travelnotecomment` VALUES (49, '好赞啊', 864, 12);
INSERT INTO `travelnotecomment` VALUES (50, '真漂亮', 869, 12);
INSERT INTO `travelnotecomment` VALUES (51, '赞', 855, 12);
INSERT INTO `travelnotecomment` VALUES (52, '大爱', 865, 12);
INSERT INTO `travelnotecomment` VALUES (53, '赞', 866, 12);
INSERT INTO `travelnotecomment` VALUES (54, '赞', 832, 13);
INSERT INTO `travelnotecomment` VALUES (55, '厉害', 1, 13);
INSERT INTO `travelnotecomment` VALUES (56, '赞', 868, 13);
INSERT INTO `travelnotecomment` VALUES (57, '好', 844, 13);
INSERT INTO `travelnotecomment` VALUES (58, '人真多啊', 864, 13);
INSERT INTO `travelnotecomment` VALUES (59, '好赞', 855, 13);
INSERT INTO `travelnotecomment` VALUES (60, '赞', 844, 14);
INSERT INTO `travelnotecomment` VALUES (61, '大爱', 864, 14);
INSERT INTO `travelnotecomment` VALUES (62, '好', 869, 14);
INSERT INTO `travelnotecomment` VALUES (63, '棒棒的呀', 855, 14);
INSERT INTO `travelnotecomment` VALUES (64, '厉害呗', 865, 14);
INSERT INTO `travelnotecomment` VALUES (65, '真漂亮', 866, 14);
INSERT INTO `travelnotecomment` VALUES (66, '天热了', 832, 15);
INSERT INTO `travelnotecomment` VALUES (67, '爽', 1, 15);
INSERT INTO `travelnotecomment` VALUES (68, '漂亮', 868, 15);
INSERT INTO `travelnotecomment` VALUES (69, '赞', 844, 15);
INSERT INTO `travelnotecomment` VALUES (70, '不错不错啊', 864, 15);
INSERT INTO `travelnotecomment` VALUES (71, '赞', 869, 16);
INSERT INTO `travelnotecomment` VALUES (72, '说得好', 855, 16);
INSERT INTO `travelnotecomment` VALUES (73, '不错啊', 865, 16);
INSERT INTO `travelnotecomment` VALUES (74, '厉害', 866, 16);
INSERT INTO `travelnotecomment` VALUES (75, '好美啊', 863, 16);
INSERT INTO `travelnotecomment` VALUES (76, '拍的真美啊 ', 832, 17);
INSERT INTO `travelnotecomment` VALUES (77, '我也去过 没搂住拍的漂亮', 1, 17);
INSERT INTO `travelnotecomment` VALUES (78, '赞', 868, 17);
INSERT INTO `travelnotecomment` VALUES (79, '好', 844, 17);
INSERT INTO `travelnotecomment` VALUES (80, '大赞', 864, 17);
INSERT INTO `travelnotecomment` VALUES (81, '不错呢', 869, 18);
INSERT INTO `travelnotecomment` VALUES (82, '好', 855, 18);
INSERT INTO `travelnotecomment` VALUES (83, '真棒', 865, 18);
INSERT INTO `travelnotecomment` VALUES (84, '赞', 866, 18);
INSERT INTO `travelnotecomment` VALUES (85, '大爱', 863, 18);
INSERT INTO `travelnotecomment` VALUES (86, '好美\n', 868, 2);
INSERT INTO `travelnotecomment` VALUES (87, '煞笔', 868, 3);
INSERT INTO `travelnotecomment` VALUES (88, '啊哈\n', 868, 8);

-- ----------------------------
-- Table structure for travelnoteprise
-- ----------------------------
DROP TABLE IF EXISTS `travelnoteprise`;
CREATE TABLE `travelnoteprise`  (
  `travelNotePriseId` int(11) NOT NULL AUTO_INCREMENT,
  `travelNote_travelNoteId` int(11) NOT NULL,
  `user_userId` int(11) NOT NULL,
  `prisetime` time(6) NULL DEFAULT NULL,
  PRIMARY KEY (`travelNotePriseId`) USING BTREE,
  INDEX `fk_travelNotePrise_travelNote1_idx`(`travelNote_travelNoteId`) USING BTREE,
  INDEX `fk_travelNotePrise_user1_idx`(`user_userId`) USING BTREE,
  CONSTRAINT `travelnoteprise_ibfk_1` FOREIGN KEY (`travelNote_travelNoteId`) REFERENCES `travelnote` (`travelnoteid`) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT `travelnoteprise_ibfk_2` FOREIGN KEY (`user_userId`) REFERENCES `user` (`userid`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Table structure for user
-- ----------------------------
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user`  (
  `userId` int(11) NOT NULL AUTO_INCREMENT,
  `userName` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `userPwd` varchar(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `userPhone` varchar(11) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `userImage` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  PRIMARY KEY (`userPhone`) USING BTREE,
  INDEX `userId`(`userId`) USING BTREE,
  INDEX `userId_2`(`userId`) USING BTREE,
  INDEX `userId_3`(`userId`) USING BTREE,
  INDEX `userId_4`(`userId`) USING BTREE,
  INDEX `userId_5`(`userId`) USING BTREE,
  INDEX `userId_6`(`userId`) USING BTREE,
  INDEX `userId_7`(`userId`) USING BTREE,
  INDEX `userId_8`(`userId`) USING BTREE,
  INDEX `userId_9`(`userId`) USING BTREE,
  INDEX `userId_10`(`userId`) USING BTREE,
  INDEX `userId_11`(`userId`) USING BTREE,
  INDEX `userId_12`(`userId`) USING BTREE,
  INDEX `userId_13`(`userId`) USING BTREE,
  INDEX `userId_14`(`userId`) USING BTREE,
  INDEX `userId_15`(`userId`) USING BTREE,
  INDEX `userId_16`(`userId`) USING BTREE,
  INDEX `userId_17`(`userId`) USING BTREE,
  INDEX `userId_18`(`userId`) USING BTREE,
  INDEX `userId_19`(`userId`) USING BTREE,
  INDEX `userId_20`(`userId`) USING BTREE,
  INDEX `userId_21`(`userId`) USING BTREE,
  INDEX `userId_22`(`userId`) USING BTREE,
  INDEX `userId_23`(`userId`) USING BTREE,
  INDEX `userId_24`(`userId`) USING BTREE,
  INDEX `userId_25`(`userId`) USING BTREE,
  INDEX `userId_26`(`userId`) USING BTREE,
  INDEX `userId_27`(`userId`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 888 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of user
-- ----------------------------
INSERT INTO `user` VALUES (868, '哎呀', 'b427ebd39c845eb5417b7f7aaf1f9724', '11221212121', 'https://pic.qqtn.com/up/2018-10/15403760213525449.jpg');
INSERT INTO `user` VALUES (887, '我的', 'e10adc3949ba59abbe56e057f20f883e', '12345612300', 'http://d.ifengimg.com/w600/p0.ifengimg.com/pmop/2018/0828/B29137B5BEA6FEA2BCB12B855F3E52F84C132ED0_size100_w800_h800.jpeg');
INSERT INTO `user` VALUES (870, 'aiya', 'd41d8cd98f00b204e9800998ecf8427e', '12345678963', 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2891276763,2105810070&fm=27&gp=0.jpg');
INSERT INTO `user` VALUES (832, '徐洁', '665544', '12390675632', 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2891276763,2105810070&fm=27&gp=0.jpg');
INSERT INTO `user` VALUES (1, '王思聪', '111', '13103907892', 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=850016154,2966264409&fm=27&gp=0.jpg');
INSERT INTO `user` VALUES (884, '小杰', 'e10adc3949ba59abbe56e057f20f883e', '13598110305', 'http://img2.imgtn.bdimg.com/it/u=2381740074,3012066882&fm=26&gp=0.jpg');
INSERT INTO `user` VALUES (885, '中文', 'dbf2641b360d20ed942a79b59d0cd5bd', '13598139885', 'http://img2.imgtn.bdimg.com/it/u=2381740074,3012066882&fm=26&gp=0.jpg');
INSERT INTO `user` VALUES (883, '阿菜', 'e10adc3949ba59abbe56e057f20f883e', '14725836900', 'http://img2.imgtn.bdimg.com/it/u=2381740074,3012066882&fm=26&gp=0.jpg');
INSERT INTO `user` VALUES (880, '小菜菜', 'e35cf7b66449df565f93c607d5a81d09', '14725836901', 'http://img2.imgtn.bdimg.com/it/u=2381740074,3012066882&fm=26&gp=0.jpg');
INSERT INTO `user` VALUES (844, '樟树街', '224533', '18262047890', 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1763044357,684998663&fm=27&gp=0.jpg');
INSERT INTO `user` VALUES (864, '陈梦杰', '77ga441', '18265478963', 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2612050777,637755064&fm=27&gp=0.jpg');
INSERT INTO `user` VALUES (869, '唐心', '522991', '18325964789', 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=773579743,2271149885&fm=27&gp=0.jpg');
INSERT INTO `user` VALUES (855, '陈林', '123456', '18360839064', 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3329523335,731969596&fm=27&gp=0.jpg');
INSERT INTO `user` VALUES (865, '沈栋', '49154ae5', '18365419676', 'https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=347837335,1617350328&fm=27&gp=0.jpg');
INSERT INTO `user` VALUES (866, '流畅', '226632', '18562038772', 'http://d.ifengimg.com/w600/p0.ifengimg.com/pmop/2018/0828/7D037D0AEB407459EBBF53A70E955CEBDDD8E26A_size55_w800_h800.jpeg');
INSERT INTO `user` VALUES (863, '王杰', '5412fa55', '18636547895', 'http://d.ifengimg.com/w600/p0.ifengimg.com/pmop/2018/0828/B29137B5BEA6FEA2BCB12B855F3E52F84C132ED0_size100_w800_h800.jpeg');
INSERT INTO `user` VALUES (882, '陈琳琳', '25f9e794323b453885f5181f1b624d0b', '45612385213', 'http://img2.imgtn.bdimg.com/it/u=2381740074,3012066882&fm=26&gp=0.jpg');
INSERT INTO `user` VALUES (879, '帅的不行不行的 ', 'e10adc3949ba59abbe56e057f20f883e', '45678912345', 'http://img2.imgtn.bdimg.com/it/u=2381740074,3012066882&fm=26&gp=0.jpg');
INSERT INTO `user` VALUES (886, '德华', 'e10adc3949ba59abbe56e057f20f883e', '74185296300', 'http://img2.imgtn.bdimg.com/it/u=2381740074,3012066882&fm=26&gp=0.jpg');
INSERT INTO `user` VALUES (881, 'laji', 'a4bd920c5eae9aa36a2f3bd4b0e07b0c', '78945612356', 'http://localhost:3000/userpic/maomi20181029151073.jpg');

-- ----------------------------
-- View structure for version
-- ----------------------------
DROP VIEW IF EXISTS `version`;
CREATE ALGORITHM = UNDEFINED SQL SECURITY INVOKER VIEW `version` AS select '2.0.0' AS `sys_version`,version() AS `mysql_version`;

-- ----------------------------
-- View structure for wait_classes_global_by_avg_latency
-- ----------------------------
DROP VIEW IF EXISTS `wait_classes_global_by_avg_latency`;
CREATE ALGORITHM = TEMPTABLE SQL SECURITY INVOKER VIEW `wait_classes_global_by_avg_latency` AS select substring_index(`performance_schema`.`events_waits_summary_global_by_event_name`.`EVENT_NAME`,'/',3) AS `event_class`,sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`COUNT_STAR`) AS `total`,`sys`.`format_time`(cast(sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT`) as unsigned)) AS `total_latency`,`sys`.`format_time`(min(`performance_schema`.`events_waits_summary_global_by_event_name`.`MIN_TIMER_WAIT`)) AS `min_latency`,`sys`.`format_time`(ifnull((sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT`) / nullif(sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`COUNT_STAR`),0)),0)) AS `avg_latency`,`sys`.`format_time`(cast(max(`performance_schema`.`events_waits_summary_global_by_event_name`.`MAX_TIMER_WAIT`) as unsigned)) AS `max_latency` from `performance_schema`.`events_waits_summary_global_by_event_name` where ((`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT` > 0) and (`performance_schema`.`events_waits_summary_global_by_event_name`.`EVENT_NAME` <> 'idle')) group by `event_class` order by ifnull((sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT`) / nullif(sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`COUNT_STAR`),0)),0) desc;

-- ----------------------------
-- View structure for wait_classes_global_by_latency
-- ----------------------------
DROP VIEW IF EXISTS `wait_classes_global_by_latency`;
CREATE ALGORITHM = TEMPTABLE SQL SECURITY INVOKER VIEW `wait_classes_global_by_latency` AS select substring_index(`performance_schema`.`events_waits_summary_global_by_event_name`.`EVENT_NAME`,'/',3) AS `event_class`,sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`COUNT_STAR`) AS `total`,`sys`.`format_time`(sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT`)) AS `total_latency`,`sys`.`format_time`(min(`performance_schema`.`events_waits_summary_global_by_event_name`.`MIN_TIMER_WAIT`)) AS `min_latency`,`sys`.`format_time`(ifnull((sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT`) / nullif(sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`COUNT_STAR`),0)),0)) AS `avg_latency`,`sys`.`format_time`(max(`performance_schema`.`events_waits_summary_global_by_event_name`.`MAX_TIMER_WAIT`)) AS `max_latency` from `performance_schema`.`events_waits_summary_global_by_event_name` where ((`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT` > 0) and (`performance_schema`.`events_waits_summary_global_by_event_name`.`EVENT_NAME` <> 'idle')) group by substring_index(`performance_schema`.`events_waits_summary_global_by_event_name`.`EVENT_NAME`,'/',3) order by sum(`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT`) desc;

-- ----------------------------
-- View structure for waits_by_host_by_latency
-- ----------------------------
DROP VIEW IF EXISTS `waits_by_host_by_latency`;
CREATE ALGORITHM = MERGE SQL SECURITY INVOKER VIEW `waits_by_host_by_latency` AS select if(isnull(`performance_schema`.`events_waits_summary_by_host_by_event_name`.`HOST`),'background',`performance_schema`.`events_waits_summary_by_host_by_event_name`.`HOST`) AS `host`,`performance_schema`.`events_waits_summary_by_host_by_event_name`.`EVENT_NAME` AS `event`,`performance_schema`.`events_waits_summary_by_host_by_event_name`.`COUNT_STAR` AS `total`,`sys`.`format_time`(`performance_schema`.`events_waits_summary_by_host_by_event_name`.`SUM_TIMER_WAIT`) AS `total_latency`,`sys`.`format_time`(`performance_schema`.`events_waits_summary_by_host_by_event_name`.`AVG_TIMER_WAIT`) AS `avg_latency`,`sys`.`format_time`(`performance_schema`.`events_waits_summary_by_host_by_event_name`.`MAX_TIMER_WAIT`) AS `max_latency` from `performance_schema`.`events_waits_summary_by_host_by_event_name` where ((`performance_schema`.`events_waits_summary_by_host_by_event_name`.`EVENT_NAME` <> 'idle') and (`performance_schema`.`events_waits_summary_by_host_by_event_name`.`SUM_TIMER_WAIT` > 0)) order by if(isnull(`performance_schema`.`events_waits_summary_by_host_by_event_name`.`HOST`),'background',`performance_schema`.`events_waits_summary_by_host_by_event_name`.`HOST`),`performance_schema`.`events_waits_summary_by_host_by_event_name`.`SUM_TIMER_WAIT` desc;

-- ----------------------------
-- View structure for waits_by_user_by_latency
-- ----------------------------
DROP VIEW IF EXISTS `waits_by_user_by_latency`;
CREATE ALGORITHM = MERGE SQL SECURITY INVOKER VIEW `waits_by_user_by_latency` AS select if(isnull(`performance_schema`.`events_waits_summary_by_user_by_event_name`.`USER`),'background',`performance_schema`.`events_waits_summary_by_user_by_event_name`.`USER`) AS `user`,`performance_schema`.`events_waits_summary_by_user_by_event_name`.`EVENT_NAME` AS `event`,`performance_schema`.`events_waits_summary_by_user_by_event_name`.`COUNT_STAR` AS `total`,`sys`.`format_time`(`performance_schema`.`events_waits_summary_by_user_by_event_name`.`SUM_TIMER_WAIT`) AS `total_latency`,`sys`.`format_time`(`performance_schema`.`events_waits_summary_by_user_by_event_name`.`AVG_TIMER_WAIT`) AS `avg_latency`,`sys`.`format_time`(`performance_schema`.`events_waits_summary_by_user_by_event_name`.`MAX_TIMER_WAIT`) AS `max_latency` from `performance_schema`.`events_waits_summary_by_user_by_event_name` where ((`performance_schema`.`events_waits_summary_by_user_by_event_name`.`EVENT_NAME` <> 'idle') and (`performance_schema`.`events_waits_summary_by_user_by_event_name`.`USER` is not null) and (`performance_schema`.`events_waits_summary_by_user_by_event_name`.`SUM_TIMER_WAIT` > 0)) order by if(isnull(`performance_schema`.`events_waits_summary_by_user_by_event_name`.`USER`),'background',`performance_schema`.`events_waits_summary_by_user_by_event_name`.`USER`),`performance_schema`.`events_waits_summary_by_user_by_event_name`.`SUM_TIMER_WAIT` desc;

-- ----------------------------
-- View structure for waits_global_by_latency
-- ----------------------------
DROP VIEW IF EXISTS `waits_global_by_latency`;
CREATE ALGORITHM = MERGE SQL SECURITY INVOKER VIEW `waits_global_by_latency` AS select `performance_schema`.`events_waits_summary_global_by_event_name`.`EVENT_NAME` AS `event`,`performance_schema`.`events_waits_summary_global_by_event_name`.`COUNT_STAR` AS `total`,`sys`.`format_time`(`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT`) AS `total_latency`,`sys`.`format_time`(`performance_schema`.`events_waits_summary_global_by_event_name`.`AVG_TIMER_WAIT`) AS `avg_latency`,`sys`.`format_time`(`performance_schema`.`events_waits_summary_global_by_event_name`.`MAX_TIMER_WAIT`) AS `max_latency` from `performance_schema`.`events_waits_summary_global_by_event_name` where ((`performance_schema`.`events_waits_summary_global_by_event_name`.`EVENT_NAME` <> 'idle') and (`performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT` > 0)) order by `performance_schema`.`events_waits_summary_global_by_event_name`.`SUM_TIMER_WAIT` desc;

-- ----------------------------
-- Procedure structure for create_synonym_db
-- ----------------------------
DROP PROCEDURE IF EXISTS `create_synonym_db`;
delimiter ;;
CREATE PROCEDURE `create_synonym_db`(IN in_db_name VARCHAR(64),  IN in_synonym VARCHAR(64))
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes a source database name and synonym name, and then creates the \r\n synonym database with views that point to all of the tables within\r\n the source database.\r\n \r\n Useful for creating a \"ps\" synonym for \"performance_schema\",\r\n or \"is\" instead of \"information_schema\", for example.\r\n \r\n Parameters\r\n \r\n in_db_name (VARCHAR(64)):\r\n The database name that you would like to create a synonym for.\r\n in_synonym (VARCHAR(64)):\r\n The database synonym name.\r\n \r\n Example\r\n \r\n mysql> SHOW DATABASES;\r\n +--------------------+\r\n | Database           |\r\n +--------------------+\r\n | information_schema |\r\n | mysql              |\r\n | performance_schema |\r\n | sys                |\r\n | test               |\r\n +--------------------+\r\n 5 rows in set (0.00 sec)\r\n \r\n mysql> CALL sys.create_synonym_db(\'performance_schema\', \'ps\');\r\n +---------------------------------------+\r\n | summary                               |\r\n +---------------------------------------+\r\n | Created 74 views in the `ps` database |\r\n +---------------------------------------+\r\n 1 row in set (8.57 sec)\r\n \r\n Query OK, 0 rows affected (8.57 sec)\r\n \r\n mysql> SHOW DATABASES;\r\n +--------------------+\r\n | Database           |\r\n +--------------------+\r\n | information_schema |\r\n | mysql              |\r\n | performance_schema |\r\n | ps                 |\r\n | sys                |\r\n | test               |\r\n +--------------------+\r\n 6 rows in set (0.00 sec)\r\n \r\n mysql> SHOW FULL TABLES FROM ps;\r\n +------------------------------------------------------+------------+\r\n | Tables_in_ps                                         | Table_type |\r\n +------------------------------------------------------+------------+\r\n | accounts                                             | VIEW       |\r\n | cond_instances                                       | VIEW       |\r\n | events_stages_current                                | VIEW       |\r\n | events_stages_history                                | VIEW       |\r\n ...\r\n '
BEGIN DECLARE v_done bool DEFAULT FALSE; DECLARE v_db_name_check VARCHAR(64); DECLARE v_db_err_msg TEXT; DECLARE v_table VARCHAR(64); DECLARE v_views_created INT DEFAULT 0;  DECLARE db_doesnt_exist CONDITION FOR SQLSTATE '42000'; DECLARE db_name_exists CONDITION FOR SQLSTATE 'HY000';  DECLARE c_table_names CURSOR FOR  SELECT TABLE_NAME  FROM INFORMATION_SCHEMA.TABLES  WHERE TABLE_SCHEMA = in_db_name;  DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_done = TRUE;  SELECT SCHEMA_NAME INTO v_db_name_check FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME = in_db_name;  IF v_db_name_check IS NULL THEN SET v_db_err_msg = CONCAT('Unknown database ', in_db_name); SIGNAL SQLSTATE 'HY000' SET MESSAGE_TEXT = v_db_err_msg; END IF;  SELECT SCHEMA_NAME INTO v_db_name_check FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME = in_synonym;  IF v_db_name_check = in_synonym THEN SET v_db_err_msg = CONCAT('Can\'t create database ', in_synonym, '; database exists'); SIGNAL SQLSTATE 'HY000' SET MESSAGE_TEXT = v_db_err_msg; END IF;  SET @create_db_stmt := CONCAT('CREATE DATABASE ', sys.quote_identifier(in_synonym)); PREPARE create_db_stmt FROM @create_db_stmt; EXECUTE create_db_stmt; DEALLOCATE PREPARE create_db_stmt;  SET v_done = FALSE; OPEN c_table_names; c_table_names: LOOP FETCH c_table_names INTO v_table; IF v_done THEN LEAVE c_table_names; END IF;  SET @create_view_stmt = CONCAT( 'CREATE SQL SECURITY INVOKER VIEW ', sys.quote_identifier(in_synonym), '.', sys.quote_identifier(v_table), ' AS SELECT * FROM ', sys.quote_identifier(in_db_name), '.', sys.quote_identifier(v_table) ); PREPARE create_view_stmt FROM @create_view_stmt; EXECUTE create_view_stmt; DEALLOCATE PREPARE create_view_stmt;  SET v_views_created = v_views_created + 1; END LOOP; CLOSE c_table_names;  SELECT CONCAT( 'Created ', v_views_created, ' view', IF(v_views_created != 1, 's', ''), ' in the ', sys.quote_identifier(in_synonym), ' database' ) AS summary;  END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for diagnostics
-- ----------------------------
DROP PROCEDURE IF EXISTS `diagnostics`;
delimiter ;;
CREATE PROCEDURE `diagnostics`(IN in_max_runtime int unsigned, IN in_interval int unsigned, IN in_auto_config enum ('current', 'medium', 'full'))
  READS SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Create a report of the current status of the server for diagnostics purposes. Data collected includes (some items depends on versions and settings):\r\n \r\n * The GLOBAL VARIABLES\r\n * Several sys schema views including metrics or equivalent (depending on version and settings)\r\n * Queries in the 95th percentile\r\n * Several ndbinfo views for MySQL Cluster\r\n * Replication (both master and slave) information.\r\n \r\n Some of the sys schema views are calculated as initial (optional), overall, delta:\r\n \r\n * The initial view is the content of the view at the start of this procedure.\r\n This output will be the same as the the start values used for the delta view.\r\n The initial view is included if @sys.diagnostics.include_raw = \'ON\'.\r\n * The overall view is the content of the view at the end of this procedure.\r\n This output is the same as the end values used for the delta view.\r\n The overall view is always included.\r\n * The delta view is the difference from the beginning to the end. Note that for min and max values\r\n they are simply the min or max value from the end view respectively, so does not necessarily reflect\r\n the minimum/maximum value in the monitored period.\r\n Note: except for the metrics views the delta is only calculation between the first and last outputs.\r\n \r\n Requires the SUPER privilege for \"SET sql_log_bin = 0;\".\r\n \r\n Versions supported:\r\n * MySQL 5.6: 5.6.10 and later\r\n * MySQL 5.7: 5.7.9 and later\r\n \r\n Parameters\r\n \r\n in_max_runtime (INT UNSIGNED):\r\n The maximum time to keep collecting data.\r\n Use NULL to get the default which is 60 seconds, otherwise enter a value greater than 0.\r\n in_interval (INT UNSIGNED):\r\n How long to sleep between data collections.\r\n Use NULL to get the default which is 30 seconds, otherwise enter a value greater than 0.\r\n in_auto_config (ENUM(\'current\', \'medium\', \'full\'))\r\n Automatically enable Performance Schema instruments and consumers.\r\n NOTE: The more that are enabled, the more impact on the performance.\r\n Supported values are:\r\n * current - use the current settings.\r\n * medium - enable some settings. This requires the SUPER privilege.\r\n * full - enables all settings. This will have a big impact on the\r\n performance - be careful using this option. This requires\r\n the SUPER privilege.\r\n If another setting the \'current\' is chosen, the current settings\r\n are restored at the end of the procedure.\r\n \r\n \r\n Configuration Options\r\n \r\n sys.diagnostics.allow_i_s_tables\r\n Specifies whether it is allowed to do table scan queries on information_schema.TABLES. This can be expensive if there\r\n are many tables. Set to \'ON\' to allow, \'OFF\' to not allow.\r\n Default is \'OFF\'.\r\n \r\n sys.diagnostics.include_raw\r\n Set to \'ON\' to include the raw data (e.g. the original output of \"SELECT * FROM sys.metrics\").\r\n Use this to get the initial values of the various views.\r\n Default is \'OFF\'.\r\n \r\n sys.statement_truncate_len\r\n How much of queries in the process list output to include.\r\n Default is 64.\r\n \r\n sys.debug\r\n Whether to provide debugging output.\r\n Default is \'OFF\'. Set to \'ON\' to include.\r\n \r\n \r\n Example\r\n \r\n To create a report and append it to the file diag.out:\r\n \r\n mysql> TEE diag.out;\r\n mysql> CALL sys.diagnostics(120, 30, \'current\');\r\n ...\r\n mysql> NOTEE;\r\n '
BEGIN DECLARE v_start, v_runtime, v_iter_start, v_sleep DECIMAL(20,2) DEFAULT 0.0; DECLARE v_has_innodb, v_has_ndb, v_has_ps, v_has_replication, v_has_ps_replication VARCHAR(8) CHARSET utf8mb4 DEFAULT 'NO'; DECLARE v_this_thread_enabled, v_has_metrics ENUM('YES', 'NO'); DECLARE v_table_name, v_banner VARCHAR(64) CHARSET utf8mb4; DECLARE v_sql_status_summary_select, v_sql_status_summary_delta, v_sql_status_summary_from, v_no_delta_names TEXT; DECLARE v_output_time, v_output_time_prev DECIMAL(20,3) UNSIGNED; DECLARE v_output_count, v_count, v_old_group_concat_max_len INT UNSIGNED DEFAULT 0; DECLARE v_status_summary_width TINYINT UNSIGNED DEFAULT 50; DECLARE v_done BOOLEAN DEFAULT FALSE; DECLARE c_ndbinfo CURSOR FOR SELECT TABLE_NAME FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'ndbinfo' AND TABLE_NAME NOT IN ( 'blocks', 'config_params', 'dict_obj_types', 'disk_write_speed_base', 'memory_per_fragment', 'memoryusage', 'operations_per_fragment', 'threadblocks' ); DECLARE c_sysviews_w_delta CURSOR FOR SELECT table_name FROM tmp_sys_views_delta ORDER BY table_name; DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_done = TRUE;  SELECT INSTRUMENTED INTO v_this_thread_enabled FROM performance_schema.threads WHERE PROCESSLIST_ID = CONNECTION_ID(); IF (v_this_thread_enabled = 'YES') THEN CALL sys.ps_setup_disable_thread(CONNECTION_ID()); END IF;  IF (in_max_runtime < in_interval) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'in_max_runtime must be greater than or equal to in_interval'; END IF; IF (in_max_runtime = 0) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'in_max_runtime must be greater than 0'; END IF; IF (in_interval = 0) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'in_interval must be greater than 0'; END IF;  IF (@sys.diagnostics.allow_i_s_tables IS NULL) THEN SET @sys.diagnostics.allow_i_s_tables = sys.sys_get_config('diagnostics.allow_i_s_tables', 'OFF'); END IF; IF (@sys.diagnostics.include_raw IS NULL) THEN SET @sys.diagnostics.include_raw      = sys.sys_get_config('diagnostics.include_raw'     , 'OFF'); END IF; IF (@sys.debug IS NULL) THEN SET @sys.debug                        = sys.sys_get_config('debug'                       , 'OFF'); END IF; IF (@sys.statement_truncate_len IS NULL) THEN SET @sys.statement_truncate_len       = sys.sys_get_config('statement_truncate_len'      , '64' ); END IF;  SET @log_bin := @@sql_log_bin; IF (@log_bin = 1) THEN SET sql_log_bin = 0; END IF;  SET v_no_delta_names = CONCAT('s%{COUNT}.Variable_name NOT IN (', '''innodb_buffer_pool_pages_total'', ', '''innodb_page_size'', ', '''last_query_cost'', ', '''last_query_partial_plans'', ', '''qcache_total_blocks'', ', '''slave_last_heartbeat'', ', '''ssl_ctx_verify_depth'', ', '''ssl_ctx_verify_mode'', ', '''ssl_session_cache_size'', ', '''ssl_verify_depth'', ', '''ssl_verify_mode'', ', '''ssl_version'', ', '''buffer_flush_lsn_avg_rate'', ', '''buffer_flush_pct_for_dirty'', ', '''buffer_flush_pct_for_lsn'', ', '''buffer_pool_pages_total'', ', '''lock_row_lock_time_avg'', ', '''lock_row_lock_time_max'', ', '''innodb_page_size''', ')');  IF (in_auto_config <> 'current') THEN IF (@sys.debug = 'ON') THEN SELECT CONCAT('Updating Performance Schema configuration to ', in_auto_config) AS 'Debug'; END IF; CALL sys.ps_setup_save(0);  IF (in_auto_config = 'medium') THEN UPDATE performance_schema.setup_consumers SET ENABLED = 'YES' WHERE NAME NOT LIKE '%\_history%';  UPDATE performance_schema.setup_instruments SET ENABLED = 'YES', TIMED   = 'YES' WHERE NAME NOT LIKE 'wait/synch/%'; ELSEIF (in_auto_config = 'full') THEN UPDATE performance_schema.setup_consumers SET ENABLED = 'YES';  UPDATE performance_schema.setup_instruments SET ENABLED = 'YES', TIMED   = 'YES'; END IF;  UPDATE performance_schema.threads SET INSTRUMENTED = 'YES' WHERE PROCESSLIST_ID <> CONNECTION_ID(); END IF;  SET v_start        = UNIX_TIMESTAMP(NOW(2)), in_interval    = IFNULL(in_interval, 30), in_max_runtime = IFNULL(in_max_runtime, 60);  SET v_banner = REPEAT( '-', LEAST( GREATEST( 36, CHAR_LENGTH(VERSION()), CHAR_LENGTH(@@global.version_comment), CHAR_LENGTH(@@global.version_compile_os), CHAR_LENGTH(@@global.version_compile_machine), CHAR_LENGTH(@@global.socket), CHAR_LENGTH(@@global.datadir) ), 64 ) ); SELECT 'Hostname' AS 'Name', @@global.hostname AS 'Value' UNION ALL SELECT 'Port' AS 'Name', @@global.port AS 'Value' UNION ALL SELECT 'Socket' AS 'Name', @@global.socket AS 'Value' UNION ALL SELECT 'Datadir' AS 'Name', @@global.datadir AS 'Value' UNION ALL SELECT 'Server UUID' AS 'Name', @@global.server_uuid AS 'Value' UNION ALL SELECT REPEAT('-', 23) AS 'Name', v_banner AS 'Value' UNION ALL SELECT 'MySQL Version' AS 'Name', VERSION() AS 'Value' UNION ALL SELECT 'Sys Schema Version' AS 'Name', (SELECT sys_version FROM sys.version) AS 'Value' UNION ALL SELECT 'Version Comment' AS 'Name', @@global.version_comment AS 'Value' UNION ALL SELECT 'Version Compile OS' AS 'Name', @@global.version_compile_os AS 'Value' UNION ALL SELECT 'Version Compile Machine' AS 'Name', @@global.version_compile_machine AS 'Value' UNION ALL SELECT REPEAT('-', 23) AS 'Name', v_banner AS 'Value' UNION ALL SELECT 'UTC Time' AS 'Name', UTC_TIMESTAMP() AS 'Value' UNION ALL SELECT 'Local Time' AS 'Name', NOW() AS 'Value' UNION ALL SELECT 'Time Zone' AS 'Name', @@global.time_zone AS 'Value' UNION ALL SELECT 'System Time Zone' AS 'Name', @@global.system_time_zone AS 'Value' UNION ALL SELECT 'Time Zone Offset' AS 'Name', TIMEDIFF(NOW(), UTC_TIMESTAMP()) AS 'Value';  SET v_has_innodb         = IFNULL((SELECT SUPPORT FROM information_schema.ENGINES WHERE ENGINE = 'InnoDB'), 'NO'), v_has_ndb            = IFNULL((SELECT SUPPORT FROM information_schema.ENGINES WHERE ENGINE = 'NDBCluster'), 'NO'), v_has_ps             = IFNULL((SELECT SUPPORT FROM information_schema.ENGINES WHERE ENGINE = 'PERFORMANCE_SCHEMA'), 'NO'), v_has_ps_replication = IF(v_has_ps = 'YES' AND EXISTS(SELECT 1 FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'performance_schema' AND TABLE_NAME = 'replication_applier_status'), 'YES', 'NO' ), v_has_replication    =  IF(v_has_ps_replication = 'YES', IF((SELECT COUNT(*) FROM performance_schema.replication_connection_status) > 0, 'YES', 'NO'), IF(@@master_info_repository = 'TABLE', IF((SELECT COUNT(*) FROM mysql.slave_master_info) > 0, 'YES', 'NO'), IF(@@relay_log_info_repository = 'TABLE', IF((SELECT COUNT(*) FROM mysql.slave_relay_log_info) > 0, 'YES', 'NO'), 'MAYBE')) ) , v_has_metrics        = IF(v_has_ps = 'YES' OR (sys.version_major() = 5 AND sys.version_minor() = 6), 'YES', 'NO');  IF (@sys.debug = 'ON') THEN SELECT v_has_innodb AS 'Has_InnoDB', v_has_ndb AS 'Has_NDBCluster', v_has_ps AS 'Has_Performance_Schema', v_has_metrics AS 'Has_metrics', v_has_ps_replication 'AS Has_P_S_Replication', v_has_replication AS 'Has_Replication'; END IF;  IF (v_has_innodb IN ('DEFAULT', 'YES')) THEN SET @sys.diagnostics.sql = 'SHOW ENGINE InnoDB STATUS'; PREPARE stmt_innodb_status FROM @sys.diagnostics.sql; END IF;  IF (v_has_ps = 'YES') THEN SET @sys.diagnostics.sql = 'SHOW ENGINE PERFORMANCE_SCHEMA STATUS'; PREPARE stmt_ps_status FROM @sys.diagnostics.sql; END IF;  IF (v_has_ndb IN ('DEFAULT', 'YES')) THEN SET @sys.diagnostics.sql = 'SHOW ENGINE NDBCLUSTER STATUS'; PREPARE stmt_ndbcluster_status FROM @sys.diagnostics.sql; END IF;  SET @sys.diagnostics.sql_gen_query_template = 'SELECT CONCAT( ''SELECT '', GROUP_CONCAT( CASE WHEN (SUBSTRING(TABLE_NAME, 3), COLUMN_NAME) IN ( (''io_global_by_file_by_bytes'', ''total''), (''io_global_by_wait_by_bytes'', ''total_requested'') ) THEN CONCAT(''sys.format_bytes('', COLUMN_NAME, '') AS '', COLUMN_NAME) WHEN COLUMN_NAME LIKE ''%latency'' THEN CONCAT(''sys.format_time('', COLUMN_NAME, '') AS '', COLUMN_NAME) WHEN SUBSTRING(COLUMN_NAME, -7) = ''_memory'' OR SUBSTRING(COLUMN_NAME, -17) = ''_memory_allocated'' OR ((SUBSTRING(COLUMN_NAME, -5) = ''_read'' OR SUBSTRING(COLUMN_NAME, -8) = ''_written'' OR SUBSTRING(COLUMN_NAME, -6) = ''_write'') AND SUBSTRING(COLUMN_NAME, 1, 6) <> ''COUNT_'') THEN CONCAT(''sys.format_bytes('', COLUMN_NAME, '') AS '', COLUMN_NAME) ELSE COLUMN_NAME END ORDER BY ORDINAL_POSITION SEPARATOR '',\n       '' ), ''\n  FROM tmp_'', SUBSTRING(TABLE_NAME FROM 3), ''_%{OUTPUT}'' ) AS Query INTO @sys.diagnostics.sql_select FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = ''sys'' AND TABLE_NAME = ? GROUP BY TABLE_NAME';  SET @sys.diagnostics.sql_gen_query_delta = 'SELECT CONCAT( ''SELECT '', GROUP_CONCAT( CASE WHEN FIND_IN_SET(COLUMN_NAME COLLATE utf8_general_ci, diag.pk) THEN COLUMN_NAME WHEN diag.TABLE_NAME = ''io_global_by_file_by_bytes'' AND COLUMN_NAME COLLATE utf8_general_ci = ''write_pct'' THEN CONCAT(''IFNULL(ROUND(100-(((e.total_read-IFNULL(s.total_read, 0))'', ''/NULLIF(((e.total_read-IFNULL(s.total_read, 0))+(e.total_written-IFNULL(s.total_written, 0))), 0))*100), 2), 0.00) AS '', COLUMN_NAME) WHEN (diag.TABLE_NAME, COLUMN_NAME) IN ( (''io_global_by_file_by_bytes'', ''total''), (''io_global_by_wait_by_bytes'', ''total_requested'') ) THEN CONCAT(''sys.format_bytes(e.'', COLUMN_NAME, ''-IFNULL(s.'', COLUMN_NAME, '', 0)) AS '', COLUMN_NAME) WHEN SUBSTRING(COLUMN_NAME, 1, 4) IN (''max_'', ''min_'') AND SUBSTRING(COLUMN_NAME, -8) = ''_latency'' THEN CONCAT(''sys.format_time(e.'', COLUMN_NAME, '') AS '', COLUMN_NAME) WHEN COLUMN_NAME COLLATE utf8_general_ci = ''avg_latency'' THEN CONCAT(''sys.format_time((e.total_latency - IFNULL(s.total_latency, 0))'', ''/NULLIF(e.total - IFNULL(s.total, 0), 0)) AS '', COLUMN_NAME) WHEN SUBSTRING(COLUMN_NAME, -12) = ''_avg_latency'' THEN CONCAT(''sys.format_time((e.'', SUBSTRING(COLUMN_NAME FROM 1 FOR CHAR_LENGTH(COLUMN_NAME)-12), ''_latency - IFNULL(s.'', SUBSTRING(COLUMN_NAME FROM 1 FOR CHAR_LENGTH(COLUMN_NAME)-12), ''_latency, 0))'', ''/NULLIF(e.'', SUBSTRING(COLUMN_NAME FROM 1 FOR CHAR_LENGTH(COLUMN_NAME)-12), ''s - IFNULL(s.'', SUBSTRING(COLUMN_NAME FROM 1 FOR CHAR_LENGTH(COLUMN_NAME)-12), ''s, 0), 0)) AS '', COLUMN_NAME) WHEN COLUMN_NAME LIKE ''%latency'' THEN CONCAT(''sys.format_time(e.'', COLUMN_NAME, '' - IFNULL(s.'', COLUMN_NAME, '', 0)) AS '', COLUMN_NAME) WHEN COLUMN_NAME IN (''avg_read'', ''avg_write'', ''avg_written'') THEN CONCAT(''sys.format_bytes(IFNULL((e.total_'', IF(COLUMN_NAME = ''avg_read'', ''read'', ''written''), ''-IFNULL(s.total_'', IF(COLUMN_NAME = ''avg_read'', ''read'', ''written''), '', 0))'', ''/NULLIF(e.count_'', IF(COLUMN_NAME = ''avg_read'', ''read'', ''write''), ''-IFNULL(s.count_'', IF(COLUMN_NAME = ''avg_read'', ''read'', ''write''), '', 0), 0), 0)) AS '', COLUMN_NAME) WHEN SUBSTRING(COLUMN_NAME, -7) = ''_memory'' OR SUBSTRING(COLUMN_NAME, -17) = ''_memory_allocated'' OR ((SUBSTRING(COLUMN_NAME, -5) = ''_read'' OR SUBSTRING(COLUMN_NAME, -8) = ''_written'' OR SUBSTRING(COLUMN_NAME, -6) = ''_write'') AND SUBSTRING(COLUMN_NAME, 1, 6) <> ''COUNT_'') THEN CONCAT(''sys.format_bytes(e.'', COLUMN_NAME, '' - IFNULL(s.'', COLUMN_NAME, '', 0)) AS '', COLUMN_NAME) ELSE CONCAT(''(e.'', COLUMN_NAME, '' - IFNULL(s.'', COLUMN_NAME, '', 0)) AS '', COLUMN_NAME) END ORDER BY ORDINAL_POSITION SEPARATOR '',\n       '' ), ''\n  FROM tmp_'', diag.TABLE_NAME, ''_end e LEFT OUTER JOIN tmp_'', diag.TABLE_NAME, ''_start s USING ('', diag.pk, '')'' ) AS Query INTO @sys.diagnostics.sql_select FROM tmp_sys_views_delta diag INNER JOIN information_schema.COLUMNS c ON c.TABLE_NAME COLLATE utf8_general_ci = CONCAT(''x$'', diag.TABLE_NAME) WHERE c.TABLE_SCHEMA = ''sys'' AND diag.TABLE_NAME = ? GROUP BY diag.TABLE_NAME';  IF (v_has_ps = 'YES') THEN DROP TEMPORARY TABLE IF EXISTS tmp_sys_views_delta; CREATE TEMPORARY TABLE tmp_sys_views_delta ( TABLE_NAME varchar(64) NOT NULL, order_by text COMMENT 'ORDER BY clause for the initial and overall views', order_by_delta text COMMENT 'ORDER BY clause for the delta views', where_delta text COMMENT 'WHERE clause to use for delta views to only include rows with a "count" > 0', limit_rows int unsigned COMMENT 'The maximum number of rows to include for the view', pk varchar(128) COMMENT 'Used with the FIND_IN_SET() function so use comma separated list without whitespace', PRIMARY KEY (TABLE_NAME) );  IF (@sys.debug = 'ON') THEN SELECT 'Populating tmp_sys_views_delta' AS 'Debug'; END IF; INSERT INTO tmp_sys_views_delta VALUES ('host_summary'                       , '%{TABLE}.statement_latency DESC', '(e.statement_latency-IFNULL(s.statement_latency, 0)) DESC', '(e.statements - IFNULL(s.statements, 0)) > 0', NULL, 'host'), ('host_summary_by_file_io'            , '%{TABLE}.io_latency DESC', '(e.io_latency-IFNULL(s.io_latency, 0)) DESC', '(e.ios - IFNULL(s.ios, 0)) > 0', NULL, 'host'), ('host_summary_by_file_io_type'       , '%{TABLE}.host, %{TABLE}.total_latency DESC', 'e.host, (e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'host,event_name'), ('host_summary_by_stages'             , '%{TABLE}.host, %{TABLE}.total_latency DESC', 'e.host, (e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'host,event_name'), ('host_summary_by_statement_latency'  , '%{TABLE}.total_latency DESC', '(e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'host'), ('host_summary_by_statement_type'     , '%{TABLE}.host, %{TABLE}.total_latency DESC', 'e.host, (e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'host,statement'), ('io_by_thread_by_latency'            , '%{TABLE}.total_latency DESC', '(e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'user,thread_id,processlist_id'), ('io_global_by_file_by_bytes'         , '%{TABLE}.total DESC', '(e.total-IFNULL(s.total, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', 100, 'file'), ('io_global_by_file_by_latency'       , '%{TABLE}.total_latency DESC', '(e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', 100, 'file'), ('io_global_by_wait_by_bytes'         , '%{TABLE}.total_requested DESC', '(e.total_requested-IFNULL(s.total_requested, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'event_name'), ('io_global_by_wait_by_latency'       , '%{TABLE}.total_latency DESC', '(e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'event_name'), ('schema_index_statistics'            , '(%{TABLE}.select_latency+%{TABLE}.insert_latency+%{TABLE}.update_latency+%{TABLE}.delete_latency) DESC', '((e.select_latency+e.insert_latency+e.update_latency+e.delete_latency)-IFNULL(s.select_latency+s.insert_latency+s.update_latency+s.delete_latency, 0)) DESC', '((e.rows_selected+e.insert_latency+e.rows_updated+e.rows_deleted)-IFNULL(s.rows_selected+s.rows_inserted+s.rows_updated+s.rows_deleted, 0)) > 0', 100, 'table_schema,table_name,index_name'), ('schema_table_statistics'            , '%{TABLE}.total_latency DESC', '(e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total_latency-IFNULL(s.total_latency, 0)) > 0', 100, 'table_schema,table_name'), ('schema_tables_with_full_table_scans', '%{TABLE}.rows_full_scanned DESC', '(e.rows_full_scanned-IFNULL(s.rows_full_scanned, 0)) DESC', '(e.rows_full_scanned-IFNULL(s.rows_full_scanned, 0)) > 0', 100, 'object_schema,object_name'), ('user_summary'                       , '%{TABLE}.statement_latency DESC', '(e.statement_latency-IFNULL(s.statement_latency, 0)) DESC', '(e.statements - IFNULL(s.statements, 0)) > 0', NULL, 'user'), ('user_summary_by_file_io'            , '%{TABLE}.io_latency DESC', '(e.io_latency-IFNULL(s.io_latency, 0)) DESC', '(e.ios - IFNULL(s.ios, 0)) > 0', NULL, 'user'), ('user_summary_by_file_io_type'       , '%{TABLE}.user, %{TABLE}.latency DESC', 'e.user, (e.latency-IFNULL(s.latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'user,event_name'), ('user_summary_by_stages'             , '%{TABLE}.user, %{TABLE}.total_latency DESC', 'e.user, (e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'user,event_name'), ('user_summary_by_statement_latency'  , '%{TABLE}.total_latency DESC', '(e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'user'), ('user_summary_by_statement_type'     , '%{TABLE}.user, %{TABLE}.total_latency DESC', 'e.user, (e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'user,statement'), ('wait_classes_global_by_avg_latency' , 'IFNULL(%{TABLE}.total_latency / NULLIF(%{TABLE}.total, 0), 0) DESC', 'IFNULL((e.total_latency-IFNULL(s.total_latency, 0)) / NULLIF((e.total - IFNULL(s.total, 0)), 0), 0) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'event_class'), ('wait_classes_global_by_latency'     , '%{TABLE}.total_latency DESC', '(e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'event_class'), ('waits_by_host_by_latency'           , '%{TABLE}.host, %{TABLE}.total_latency DESC', 'e.host, (e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'host,event'), ('waits_by_user_by_latency'           , '%{TABLE}.user, %{TABLE}.total_latency DESC', 'e.user, (e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'user,event'), ('waits_global_by_latency'            , '%{TABLE}.total_latency DESC', '(e.total_latency-IFNULL(s.total_latency, 0)) DESC', '(e.total - IFNULL(s.total, 0)) > 0', NULL, 'events') ; END IF;   SELECT '  =======================  Configuration  =======================  ' AS ''; SELECT 'GLOBAL VARIABLES' AS 'The following output is:'; SELECT LOWER(VARIABLE_NAME) AS Variable_name, VARIABLE_VALUE AS Variable_value FROM performance_schema.global_variables ORDER BY VARIABLE_NAME;  IF (v_has_ps = 'YES') THEN SELECT 'Performance Schema Setup - Actors' AS 'The following output is:'; SELECT * FROM performance_schema.setup_actors;  SELECT 'Performance Schema Setup - Consumers' AS 'The following output is:'; SELECT NAME AS Consumer, ENABLED, sys.ps_is_consumer_enabled(NAME) AS COLLECTS FROM performance_schema.setup_consumers;  SELECT 'Performance Schema Setup - Instruments' AS 'The following output is:'; SELECT SUBSTRING_INDEX(NAME, '/', 2) AS 'InstrumentClass', ROUND(100*SUM(IF(ENABLED = 'YES', 1, 0))/COUNT(*), 2) AS 'EnabledPct', ROUND(100*SUM(IF(TIMED = 'YES', 1, 0))/COUNT(*), 2) AS 'TimedPct' FROM performance_schema.setup_instruments GROUP BY SUBSTRING_INDEX(NAME, '/', 2) ORDER BY SUBSTRING_INDEX(NAME, '/', 2);  SELECT 'Performance Schema Setup - Objects' AS 'The following output is:'; SELECT * FROM performance_schema.setup_objects;  SELECT 'Performance Schema Setup - Threads' AS 'The following output is:'; SELECT `TYPE` AS ThreadType, COUNT(*) AS 'Total', ROUND(100*SUM(IF(INSTRUMENTED = 'YES', 1, 0))/COUNT(*), 2) AS 'InstrumentedPct' FROM performance_schema.threads GROUP BY TYPE; END IF;   IF (v_has_replication = 'NO') THEN SELECT 'No Replication Configured' AS 'Replication Status'; ELSE SELECT CONCAT('Replication Configured: ', v_has_replication, ' - Performance Schema Replication Tables: ', v_has_ps_replication) AS 'Replication Status';  IF (v_has_ps_replication = 'YES') THEN SELECT 'Replication - Connection Configuration' AS 'The following output is:'; SELECT * FROM performance_schema.replication_connection_configuration ORDER BY CHANNEL_NAME ; END IF;  IF (v_has_ps_replication = 'YES') THEN SELECT 'Replication - Applier Configuration' AS 'The following output is:'; SELECT * FROM performance_schema.replication_applier_configuration ORDER BY CHANNEL_NAME; END IF;  IF (@@master_info_repository = 'TABLE') THEN SELECT 'Replication - Master Info Repository Configuration' AS 'The following output is:'; SELECT  Channel_name, Host, User_name, Port, Connect_retry, Enabled_ssl, Ssl_ca, Ssl_capath, Ssl_cert, Ssl_cipher, Ssl_key, Ssl_verify_server_cert, Heartbeat, Bind, Ignored_server_ids, Uuid, Retry_count, Ssl_crl, Ssl_crlpath, Tls_version, Enabled_auto_position FROM mysql.slave_master_info ORDER BY Channel_name ; END IF;  IF (@@relay_log_info_repository = 'TABLE') THEN SELECT 'Replication - Relay Log Repository Configuration' AS 'The following output is:'; SELECT  Channel_name, Sql_delay, Number_of_workers, Id FROM mysql.slave_relay_log_info ORDER BY Channel_name ; END IF; END IF;   IF (v_has_ndb IN ('DEFAULT', 'YES')) THEN SELECT 'Cluster Thread Blocks' AS 'The following output is:'; SELECT * FROM ndbinfo.threadblocks; END IF;  IF (v_has_ps = 'YES') THEN IF (@sys.diagnostics.include_raw = 'ON') THEN SELECT '  ========================  Initial Status  ========================  ' AS ''; END IF;  DROP TEMPORARY TABLE IF EXISTS tmp_digests_start; CALL sys.statement_performance_analyzer('create_tmp', 'tmp_digests_start', NULL); CALL sys.statement_performance_analyzer('snapshot', NULL, NULL); CALL sys.statement_performance_analyzer('save', 'tmp_digests_start', NULL);  IF (@sys.diagnostics.include_raw = 'ON') THEN SET @sys.diagnostics.sql = REPLACE(@sys.diagnostics.sql_gen_query_template, '%{OUTPUT}', 'start'); IF (@sys.debug = 'ON') THEN SELECT 'The following query will be used to generate the query for each sys view' AS 'Debug'; SELECT @sys.diagnostics.sql AS 'Debug'; END IF; PREPARE stmt_gen_query FROM @sys.diagnostics.sql; END IF; SET v_done = FALSE; OPEN c_sysviews_w_delta; c_sysviews_w_delta_loop: LOOP FETCH c_sysviews_w_delta INTO v_table_name; IF v_done THEN LEAVE c_sysviews_w_delta_loop; END IF;  IF (@sys.debug = 'ON') THEN SELECT CONCAT('The following queries are for storing the initial content of ', v_table_name) AS 'Debug'; END IF;  CALL sys.execute_prepared_stmt(CONCAT('DROP TEMPORARY TABLE IF EXISTS `tmp_', v_table_name, '_start`')); CALL sys.execute_prepared_stmt(CONCAT('CREATE TEMPORARY TABLE `tmp_', v_table_name, '_start` SELECT * FROM `sys`.`x$', v_table_name, '`'));  IF (@sys.diagnostics.include_raw = 'ON') THEN SET @sys.diagnostics.table_name = CONCAT('x$', v_table_name); EXECUTE stmt_gen_query USING @sys.diagnostics.table_name; SELECT CONCAT(@sys.diagnostics.sql_select, IF(order_by IS NOT NULL, CONCAT('\n ORDER BY ', REPLACE(order_by, '%{TABLE}', CONCAT('tmp_', v_table_name, '_start'))), ''), IF(limit_rows IS NOT NULL, CONCAT('\n LIMIT ', limit_rows), '') ) INTO @sys.diagnostics.sql_select FROM tmp_sys_views_delta WHERE TABLE_NAME COLLATE utf8mb4_0900_as_ci = v_table_name; SELECT CONCAT('Initial ', v_table_name) AS 'The following output is:'; CALL sys.execute_prepared_stmt(@sys.diagnostics.sql_select); END IF; END LOOP; CLOSE c_sysviews_w_delta;  IF (@sys.diagnostics.include_raw = 'ON') THEN DEALLOCATE PREPARE stmt_gen_query; END IF; END IF;  SET v_sql_status_summary_select = 'SELECT Variable_name', v_sql_status_summary_delta  = '', v_sql_status_summary_from   = '';  REPEAT SET v_output_count = v_output_count + 1; IF (v_output_count > 1) THEN SET v_sleep = in_interval-(UNIX_TIMESTAMP(NOW(2))-v_iter_start); SELECT NOW() AS 'Time', CONCAT('Going to sleep for ', v_sleep, ' seconds. Please do not interrupt') AS 'The following output is:'; DO SLEEP(in_interval); END IF; SET v_iter_start = UNIX_TIMESTAMP(NOW(2));  SELECT NOW(), CONCAT('Iteration Number ', IFNULL(v_output_count, 'NULL')) AS 'The following output is:';  IF (@@log_bin = 1) THEN SELECT 'SHOW MASTER STATUS' AS 'The following output is:'; SHOW MASTER STATUS; END IF;  IF (v_has_replication <> 'NO') THEN SELECT 'SHOW SLAVE STATUS' AS 'The following output is:'; SHOW SLAVE STATUS;  IF (v_has_ps_replication = 'YES') THEN SELECT 'Replication Connection Status' AS 'The following output is:'; SELECT * FROM performance_schema.replication_connection_status;  SELECT 'Replication Applier Status' AS 'The following output is:'; SELECT * FROM performance_schema.replication_applier_status ORDER BY CHANNEL_NAME;  SELECT 'Replication Applier Status - Coordinator' AS 'The following output is:'; SELECT * FROM performance_schema.replication_applier_status_by_coordinator ORDER BY CHANNEL_NAME;  SELECT 'Replication Applier Status - Worker' AS 'The following output is:'; SELECT * FROM performance_schema.replication_applier_status_by_worker ORDER BY CHANNEL_NAME, WORKER_ID; END IF;  IF (@@master_info_repository = 'TABLE') THEN SELECT 'Replication - Master Log Status' AS 'The following output is:'; SELECT Master_log_name, Master_log_pos FROM mysql.slave_master_info; END IF;  IF (@@relay_log_info_repository = 'TABLE') THEN SELECT 'Replication - Relay Log Status' AS 'The following output is:'; SELECT sys.format_path(Relay_log_name) AS Relay_log_name, Relay_log_pos, Master_log_name, Master_log_pos FROM mysql.slave_relay_log_info;  SELECT 'Replication - Worker Status' AS 'The following output is:'; SELECT Id, sys.format_path(Relay_log_name) AS Relay_log_name, Relay_log_pos, Master_log_name, Master_log_pos, sys.format_path(Checkpoint_relay_log_name) AS Checkpoint_relay_log_name, Checkpoint_relay_log_pos, Checkpoint_master_log_name, Checkpoint_master_log_pos, Checkpoint_seqno, Checkpoint_group_size, HEX(Checkpoint_group_bitmap) AS Checkpoint_group_bitmap , Channel_name FROM mysql.slave_worker_info ORDER BY  Channel_name, Id; END IF; END IF;  SET v_table_name = CONCAT('tmp_metrics_', v_output_count); CALL sys.execute_prepared_stmt(CONCAT('DROP TEMPORARY TABLE IF EXISTS ', v_table_name));  CALL sys.execute_prepared_stmt(CONCAT('CREATE TEMPORARY TABLE ', v_table_name, ' ( Variable_name VARCHAR(193) NOT NULL, Variable_value VARCHAR(1024), Type VARCHAR(225) NOT NULL, Enabled ENUM(''YES'', ''NO'', ''PARTIAL'') NOT NULL, PRIMARY KEY (Type, Variable_name) ) ENGINE = InnoDB DEFAULT CHARSET=utf8mb4'));  IF (v_has_metrics) THEN SET @sys.diagnostics.sql = CONCAT( 'INSERT INTO ', v_table_name, ' SELECT Variable_name, REPLACE(Variable_value, ''\n'', ''\\\\n'') AS Variable_value, Type, Enabled FROM sys.metrics' ); ELSE SET @sys.diagnostics.sql = CONCAT( 'INSERT INTO ', v_table_name, '(SELECT LOWER(VARIABLE_NAME) AS Variable_name, REPLACE(VARIABLE_VALUE, ''\n'', ''\\\\n'') AS Variable_value, ''Global Status'' AS Type, ''YES'' AS Enabled FROM performance_schema.global_status ) UNION ALL ( SELECT NAME AS Variable_name, COUNT AS Variable_value, CONCAT(''InnoDB Metrics - '', SUBSYSTEM) AS Type, IF(STATUS = ''enabled'', ''YES'', ''NO'') AS Enabled FROM information_schema.INNODB_METRICS WHERE NAME NOT IN ( ''lock_row_lock_time'', ''lock_row_lock_time_avg'', ''lock_row_lock_time_max'', ''lock_row_lock_waits'', ''buffer_pool_reads'', ''buffer_pool_read_requests'', ''buffer_pool_write_requests'', ''buffer_pool_wait_free'', ''buffer_pool_read_ahead'', ''buffer_pool_read_ahead_evicted'', ''buffer_pool_pages_total'', ''buffer_pool_pages_misc'', ''buffer_pool_pages_data'', ''buffer_pool_bytes_data'', ''buffer_pool_pages_dirty'', ''buffer_pool_bytes_dirty'', ''buffer_pool_pages_free'', ''buffer_pages_created'', ''buffer_pages_written'', ''buffer_pages_read'', ''buffer_data_reads'', ''buffer_data_written'', ''file_num_open_files'', ''os_log_bytes_written'', ''os_log_fsyncs'', ''os_log_pending_fsyncs'', ''os_log_pending_writes'', ''log_waits'', ''log_write_requests'', ''log_writes'', ''innodb_dblwr_writes'', ''innodb_dblwr_pages_written'', ''innodb_page_size'') ) UNION ALL ( SELECT ''NOW()'' AS Variable_name, NOW(3) AS Variable_value, ''System Time'' AS Type, ''YES'' AS Enabled ) UNION ALL ( SELECT ''UNIX_TIMESTAMP()'' AS Variable_name, ROUND(UNIX_TIMESTAMP(NOW(3)), 3) AS Variable_value, ''System Time'' AS Type, ''YES'' AS Enabled ) ORDER BY Type, Variable_name;' ); END IF; CALL sys.execute_prepared_stmt(@sys.diagnostics.sql);  CALL sys.execute_prepared_stmt( CONCAT('(SELECT Variable_value INTO @sys.diagnostics.output_time FROM ', v_table_name, ' WHERE Type = ''System Time'' AND Variable_name = ''UNIX_TIMESTAMP()'')') ); SET v_output_time = @sys.diagnostics.output_time;  SET v_sql_status_summary_select = CONCAT(v_sql_status_summary_select, ', CONCAT( LEFT(s', v_output_count, '.Variable_value, ', v_status_summary_width, '), IF(', REPLACE(v_no_delta_names, '%{COUNT}', v_output_count), ' AND s', v_output_count, '.Variable_value REGEXP ''^[0-9]+(\\\\.[0-9]+)?$'', CONCAT('' ('', ROUND(s', v_output_count, '.Variable_value/', v_output_time, ', 2), ''/sec)''), '''') ) AS ''Output ', v_output_count, ''''), v_sql_status_summary_from   = CONCAT(v_sql_status_summary_from, ' ', IF(v_output_count = 1, '  FROM ', '       INNER JOIN '), v_table_name, ' s', v_output_count, IF (v_output_count = 1, '', ' USING (Type, Variable_name)')); IF (v_output_count > 1) THEN SET v_sql_status_summary_delta  = CONCAT(v_sql_status_summary_delta, ', IF(', REPLACE(v_no_delta_names, '%{COUNT}', v_output_count), ' AND s', (v_output_count-1), '.Variable_value REGEXP ''^[0-9]+(\\\\.[0-9]+)?$'' AND s', v_output_count, '.Variable_value REGEXP ''^[0-9]+(\\\\.[0-9]+)?$'', CONCAT(IF(s', (v_output_count-1), '.Variable_value REGEXP ''^[0-9]+\\\\.[0-9]+$'' OR s', v_output_count, '.Variable_value REGEXP ''^[0-9]+\\\\.[0-9]+$'', ROUND((s', v_output_count, '.Variable_value-s', (v_output_count-1), '.Variable_value), 2), (s', v_output_count, '.Variable_value-s', (v_output_count-1), '.Variable_value) ), '' ('', ROUND((s', v_output_count, '.Variable_value-s', (v_output_count-1), '.Variable_value)/(', v_output_time, '-', v_output_time_prev, '), 2), ''/sec)'' ), '''' ) AS ''Delta (', (v_output_count-1), ' -> ', v_output_count, ')'''); END IF;  SET v_output_time_prev = v_output_time;  IF (@sys.diagnostics.include_raw = 'ON') THEN IF (v_has_metrics) THEN SELECT 'SELECT * FROM sys.metrics' AS 'The following output is:'; ELSE SELECT 'sys.metrics equivalent' AS 'The following output is:'; END IF; CALL sys.execute_prepared_stmt(CONCAT('SELECT Type, Variable_name, Enabled, Variable_value FROM ', v_table_name, ' ORDER BY Type, Variable_name')); END IF;  IF (v_has_innodb IN ('DEFAULT', 'YES')) THEN SELECT 'SHOW ENGINE INNODB STATUS' AS 'The following output is:'; EXECUTE stmt_innodb_status; SELECT 'InnoDB - Transactions' AS 'The following output is:'; SELECT * FROM information_schema.INNODB_TRX; END IF;  IF (v_has_ndb IN ('DEFAULT', 'YES')) THEN SELECT 'SHOW ENGINE NDBCLUSTER STATUS' AS 'The following output is:'; EXECUTE stmt_ndbcluster_status;  SELECT 'ndbinfo.memoryusage' AS 'The following output is:'; SELECT node_id, memory_type, sys.format_bytes(used) AS used, used_pages, sys.format_bytes(total) AS total, total_pages, ROUND(100*(used/total), 2) AS 'Used %' FROM ndbinfo.memoryusage;  SET v_done = FALSE; OPEN c_ndbinfo; c_ndbinfo_loop: LOOP FETCH c_ndbinfo INTO v_table_name; IF v_done THEN LEAVE c_ndbinfo_loop; END IF;  SELECT CONCAT('SELECT * FROM ndbinfo.', v_table_name) AS 'The following output is:'; CALL sys.execute_prepared_stmt(CONCAT('SELECT * FROM `ndbinfo`.`', v_table_name, '`')); END LOOP; CLOSE c_ndbinfo;  SELECT * FROM information_schema.FILES; END IF;  SELECT 'SELECT * FROM sys.processlist' AS 'The following output is:'; SELECT processlist.* FROM sys.processlist;  IF (v_has_ps = 'YES') THEN IF (sys.ps_is_consumer_enabled('events_waits_history_long') = 'YES') THEN SELECT 'SELECT * FROM sys.latest_file_io' AS 'The following output is:'; SELECT * FROM sys.latest_file_io; END IF;  IF (EXISTS(SELECT 1 FROM performance_schema.setup_instruments WHERE NAME LIKE 'memory/%' AND ENABLED = 'YES')) THEN SELECT 'SELECT * FROM sys.memory_by_host_by_current_bytes' AS 'The following output is:'; SELECT * FROM sys.memory_by_host_by_current_bytes;  SELECT 'SELECT * FROM sys.memory_by_thread_by_current_bytes' AS 'The following output is:'; SELECT * FROM sys.memory_by_thread_by_current_bytes;  SELECT 'SELECT * FROM sys.memory_by_user_by_current_bytes' AS 'The following output is:'; SELECT * FROM sys.memory_by_user_by_current_bytes;  SELECT 'SELECT * FROM sys.memory_global_by_current_bytes' AS 'The following output is:'; SELECT * FROM sys.memory_global_by_current_bytes; END IF; END IF;  SET v_runtime = (UNIX_TIMESTAMP(NOW(2)) - v_start); UNTIL (v_runtime + in_interval >= in_max_runtime) END REPEAT;  IF (v_has_ps = 'YES') THEN SELECT 'SHOW ENGINE PERFORMANCE_SCHEMA STATUS' AS 'The following output is:'; EXECUTE stmt_ps_status; END IF;  IF (v_has_innodb IN ('DEFAULT', 'YES')) THEN DEALLOCATE PREPARE stmt_innodb_status; END IF; IF (v_has_ps = 'YES') THEN DEALLOCATE PREPARE stmt_ps_status; END IF; IF (v_has_ndb IN ('DEFAULT', 'YES')) THEN DEALLOCATE PREPARE stmt_ndbcluster_status; END IF;   SELECT '  ============================  Schema Information  ============================  ' AS '';  SELECT COUNT(*) AS 'Total Number of Tables' FROM information_schema.TABLES;  IF (@sys.diagnostics.allow_i_s_tables = 'ON') THEN SELECT 'Storage Engine Usage' AS 'The following output is:'; SELECT ENGINE, COUNT(*) AS NUM_TABLES, sys.format_bytes(SUM(DATA_LENGTH)) AS DATA_LENGTH, sys.format_bytes(SUM(INDEX_LENGTH)) AS INDEX_LENGTH, sys.format_bytes(SUM(DATA_LENGTH+INDEX_LENGTH)) AS TOTAL FROM information_schema.TABLES GROUP BY ENGINE;  SELECT 'Schema Object Overview' AS 'The following output is:'; SELECT * FROM sys.schema_object_overview;  SELECT 'Tables without a PRIMARY KEY' AS 'The following output is:'; SELECT TABLES.TABLE_SCHEMA, ENGINE, COUNT(*) AS NumTables FROM information_schema.TABLES LEFT OUTER JOIN information_schema.STATISTICS ON STATISTICS.TABLE_SCHEMA = TABLES.TABLE_SCHEMA AND STATISTICS.TABLE_NAME = TABLES.TABLE_NAME AND STATISTICS.INDEX_NAME = 'PRIMARY' WHERE STATISTICS.TABLE_NAME IS NULL AND TABLES.TABLE_SCHEMA NOT IN ('mysql', 'information_schema', 'performance_schema', 'sys') AND TABLES.TABLE_TYPE = 'BASE TABLE' GROUP BY TABLES.TABLE_SCHEMA, ENGINE; END IF;  IF (v_has_ps = 'YES') THEN SELECT 'Unused Indexes' AS 'The following output is:'; SELECT object_schema, COUNT(*) AS NumUnusedIndexes FROM performance_schema.table_io_waits_summary_by_index_usage WHERE index_name IS NOT NULL AND count_star = 0 AND object_schema NOT IN ('mysql', 'sys') AND index_name != 'PRIMARY' GROUP BY object_schema; END IF;  IF (v_has_ps = 'YES') THEN SELECT '  =========================  Overall Status  =========================  ' AS '';  SELECT 'CALL sys.ps_statement_avg_latency_histogram()' AS 'The following output is:'; CALL sys.ps_statement_avg_latency_histogram();  CALL sys.statement_performance_analyzer('snapshot', NULL, NULL); CALL sys.statement_performance_analyzer('overall', NULL, 'with_runtimes_in_95th_percentile');  SET @sys.diagnostics.sql = REPLACE(@sys.diagnostics.sql_gen_query_template, '%{OUTPUT}', 'end'); IF (@sys.debug = 'ON') THEN SELECT 'The following query will be used to generate the query for each sys view' AS 'Debug'; SELECT @sys.diagnostics.sql AS 'Debug'; END IF; PREPARE stmt_gen_query FROM @sys.diagnostics.sql;  SET v_done = FALSE; OPEN c_sysviews_w_delta; c_sysviews_w_delta_loop: LOOP FETCH c_sysviews_w_delta INTO v_table_name; IF v_done THEN LEAVE c_sysviews_w_delta_loop; END IF;  IF (@sys.debug = 'ON') THEN SELECT CONCAT('The following queries are for storing the final content of ', v_table_name) AS 'Debug'; END IF;  CALL sys.execute_prepared_stmt(CONCAT('DROP TEMPORARY TABLE IF EXISTS `tmp_', v_table_name, '_end`')); CALL sys.execute_prepared_stmt(CONCAT('CREATE TEMPORARY TABLE `tmp_', v_table_name, '_end` SELECT * FROM `sys`.`x$', v_table_name, '`'));  SET @sys.diagnostics.table_name = CONCAT('x$', v_table_name); EXECUTE stmt_gen_query USING @sys.diagnostics.table_name; SELECT CONCAT(@sys.diagnostics.sql_select, IF(order_by IS NOT NULL, CONCAT('\n ORDER BY ', REPLACE(order_by, '%{TABLE}', CONCAT('tmp_', v_table_name, '_end'))), ''), IF(limit_rows IS NOT NULL, CONCAT('\n LIMIT ', limit_rows), '') ) INTO @sys.diagnostics.sql_select FROM tmp_sys_views_delta WHERE TABLE_NAME COLLATE utf8mb4_0900_as_ci = v_table_name; SELECT CONCAT('Overall ', v_table_name) AS 'The following output is:'; CALL sys.execute_prepared_stmt(@sys.diagnostics.sql_select); END LOOP; CLOSE c_sysviews_w_delta;  DEALLOCATE PREPARE stmt_gen_query;   SELECT '  ======================  Delta Status  ======================  ' AS '';  CALL sys.statement_performance_analyzer('delta', 'tmp_digests_start', 'with_runtimes_in_95th_percentile'); CALL sys.statement_performance_analyzer('cleanup', NULL, NULL);  DROP TEMPORARY TABLE tmp_digests_start;  IF (@sys.debug = 'ON') THEN SELECT 'The following query will be used to generate the query for each sys view delta' AS 'Debug'; SELECT @sys.diagnostics.sql_gen_query_delta AS 'Debug'; END IF; PREPARE stmt_gen_query_delta FROM @sys.diagnostics.sql_gen_query_delta;  SET v_old_group_concat_max_len = @@session.group_concat_max_len; SET @@session.group_concat_max_len = 2048; SET v_done = FALSE; OPEN c_sysviews_w_delta; c_sysviews_w_delta_loop: LOOP FETCH c_sysviews_w_delta INTO v_table_name; IF v_done THEN LEAVE c_sysviews_w_delta_loop; END IF;  SET @sys.diagnostics.table_name = v_table_name; EXECUTE stmt_gen_query_delta USING @sys.diagnostics.table_name; SELECT CONCAT(@sys.diagnostics.sql_select, IF(where_delta IS NOT NULL, CONCAT('\n WHERE ', where_delta), ''), IF(order_by_delta IS NOT NULL, CONCAT('\n ORDER BY ', order_by_delta), ''), IF(limit_rows IS NOT NULL, CONCAT('\n LIMIT ', limit_rows), '') ) INTO @sys.diagnostics.sql_select FROM tmp_sys_views_delta WHERE TABLE_NAME COLLATE utf8mb4_0900_as_ci = v_table_name;  SELECT CONCAT('Delta ', v_table_name) AS 'The following output is:'; CALL sys.execute_prepared_stmt(@sys.diagnostics.sql_select);  CALL sys.execute_prepared_stmt(CONCAT('DROP TEMPORARY TABLE `tmp_', v_table_name, '_end`')); CALL sys.execute_prepared_stmt(CONCAT('DROP TEMPORARY TABLE `tmp_', v_table_name, '_start`')); END LOOP; CLOSE c_sysviews_w_delta; SET @@session.group_concat_max_len = v_old_group_concat_max_len;  DEALLOCATE PREPARE stmt_gen_query_delta; DROP TEMPORARY TABLE tmp_sys_views_delta; END IF;  IF (v_has_metrics) THEN SELECT 'SELECT * FROM sys.metrics' AS 'The following output is:'; ELSE SELECT 'sys.metrics equivalent' AS 'The following output is:'; END IF; CALL sys.execute_prepared_stmt( CONCAT(v_sql_status_summary_select, v_sql_status_summary_delta, ', Type, s1.Enabled', v_sql_status_summary_from, ' ORDER BY Type, Variable_name' ) );  SET v_count = 0; WHILE (v_count < v_output_count) DO SET v_count = v_count + 1; SET v_table_name = CONCAT('tmp_metrics_', v_count); CALL sys.execute_prepared_stmt(CONCAT('DROP TEMPORARY TABLE IF EXISTS ', v_table_name)); END WHILE;  IF (in_auto_config <> 'current') THEN CALL sys.ps_setup_reload_saved(); SET sql_log_bin = @log_bin; END IF;  SET @sys.diagnostics.output_time            = NULL, @sys.diagnostics.sql                    = NULL, @sys.diagnostics.sql_gen_query_delta    = NULL, @sys.diagnostics.sql_gen_query_template = NULL, @sys.diagnostics.sql_select             = NULL, @sys.diagnostics.table_name             = NULL;  IF (v_this_thread_enabled = 'YES') THEN CALL sys.ps_setup_enable_thread(CONNECTION_ID()); END IF;  IF (@log_bin = 1) THEN SET sql_log_bin = @log_bin; END IF; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for execute_prepared_stmt
-- ----------------------------
DROP PROCEDURE IF EXISTS `execute_prepared_stmt`;
delimiter ;;
CREATE PROCEDURE `execute_prepared_stmt`(IN in_query longtext CHARACTER SET UTF8MB4)
  READS SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes the query in the argument and executes it using a prepared statement. The prepared statement is deallocated,\r\n so the procedure is mainly useful for executing one off dynamically created queries.\r\n \r\n The sys_execute_prepared_stmt prepared statement name is used for the query and is required not to exist.\r\n \r\n \r\n Parameters\r\n \r\n in_query (longtext CHARACTER SET UTF8MB4):\r\n The query to execute.\r\n \r\n \r\n Configuration Options\r\n \r\n sys.debug\r\n Whether to provide debugging output.\r\n Default is \'OFF\'. Set to \'ON\' to include.\r\n \r\n \r\n Example\r\n \r\n mysql> CALL sys.execute_prepared_stmt(\'SELECT * FROM sys.sys_config\');\r\n +------------------------+-------+---------------------+--------+\r\n | variable               | value | set_time            | set_by |\r\n +------------------------+-------+---------------------+--------+\r\n | statement_truncate_len | 64    | 2015-06-30 13:06:00 | NULL   |\r\n +------------------------+-------+---------------------+--------+\r\n 1 row in set (0.00 sec)\r\n \r\n Query OK, 0 rows affected (0.00 sec)\r\n '
BEGIN IF (@sys.debug IS NULL) THEN SET @sys.debug = sys.sys_get_config('debug', 'OFF'); END IF;  IF (in_query IS NULL OR LENGTH(in_query) < 4) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = "The @sys.execute_prepared_stmt.sql must contain a query"; END IF;  SET @sys.execute_prepared_stmt.sql = in_query;  IF (@sys.debug = 'ON') THEN SELECT @sys.execute_prepared_stmt.sql AS 'Debug'; END IF; PREPARE sys_execute_prepared_stmt FROM @sys.execute_prepared_stmt.sql; EXECUTE sys_execute_prepared_stmt; DEALLOCATE PREPARE sys_execute_prepared_stmt;  SET @sys.execute_prepared_stmt.sql = NULL; END
;;
delimiter ;

-- ----------------------------
-- Function structure for extract_schema_from_file_name
-- ----------------------------
DROP FUNCTION IF EXISTS `extract_schema_from_file_name`;
delimiter ;;
CREATE FUNCTION `extract_schema_from_file_name`(path VARCHAR(512))
 RETURNS varchar(64) CHARSET utf8mb4
  NO SQL 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes a raw file path, and attempts to extract the schema name from it.\r\n \r\n Useful for when interacting with Performance Schema data \r\n concerning IO statistics, for example.\r\n \r\n Currently relies on the fact that a table data file will be within a \r\n specified database directory (will not work with partitions or tables\r\n that specify an individual DATA_DIRECTORY).\r\n \r\n Parameters\r\n \r\n path (VARCHAR(512)):\r\n The full file path to a data file to extract the schema name from.\r\n \r\n Returns\r\n \r\n VARCHAR(64)\r\n \r\n Example\r\n \r\n mysql> SELECT sys.extract_schema_from_file_name(\'/var/lib/mysql/employees/employee.ibd\');\r\n +----------------------------------------------------------------------------+\r\n | sys.extract_schema_from_file_name(\'/var/lib/mysql/employees/employee.ibd\') |\r\n +----------------------------------------------------------------------------+\r\n | employees                                                                  |\r\n +----------------------------------------------------------------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN RETURN LEFT(SUBSTRING_INDEX(SUBSTRING_INDEX(REPLACE(path, '\\', '/'), '/', -2), '/', 1), 64); END
;;
delimiter ;

-- ----------------------------
-- Function structure for extract_table_from_file_name
-- ----------------------------
DROP FUNCTION IF EXISTS `extract_table_from_file_name`;
delimiter ;;
CREATE FUNCTION `extract_table_from_file_name`(path VARCHAR(512))
 RETURNS varchar(64) CHARSET utf8mb4
  NO SQL 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes a raw file path, and extracts the table name from it.\r\n \r\n Useful for when interacting with Performance Schema data \r\n concerning IO statistics, for example.\r\n \r\n Parameters\r\n \r\n path (VARCHAR(512)):\r\n The full file path to a data file to extract the table name from.\r\n \r\n Returns\r\n \r\n VARCHAR(64)\r\n \r\n Example\r\n \r\n mysql> SELECT sys.extract_table_from_file_name(\'/var/lib/mysql/employees/employee.ibd\');\r\n +---------------------------------------------------------------------------+\r\n | sys.extract_table_from_file_name(\'/var/lib/mysql/employees/employee.ibd\') |\r\n +---------------------------------------------------------------------------+\r\n | employee                                                                  |\r\n +---------------------------------------------------------------------------+\r\n 1 row in set (0.02 sec)\r\n '
BEGIN RETURN LEFT(SUBSTRING_INDEX(REPLACE(SUBSTRING_INDEX(REPLACE(path, '\\', '/'), '/', -1), '@0024', '$'), '.', 1), 64); END
;;
delimiter ;

-- ----------------------------
-- Function structure for format_bytes
-- ----------------------------
DROP FUNCTION IF EXISTS `format_bytes`;
delimiter ;;
CREATE FUNCTION `format_bytes`(bytes TEXT)
 RETURNS text CHARSET utf8mb4
  NO SQL 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes a raw bytes value, and converts it to a human readable format.\r\n \r\n Parameters\r\n \r\n bytes (TEXT):\r\n A raw bytes value.\r\n \r\n Returns\r\n \r\n TEXT\r\n \r\n Example\r\n \r\n mysql> SELECT sys.format_bytes(2348723492723746) AS size;\r\n +----------+\r\n | size     |\r\n +----------+\r\n | 2.09 PiB |\r\n +----------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> SELECT sys.format_bytes(2348723492723) AS size;\r\n +----------+\r\n | size     |\r\n +----------+\r\n | 2.14 TiB |\r\n +----------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> SELECT sys.format_bytes(23487234) AS size;\r\n +-----------+\r\n | size      |\r\n +-----------+\r\n | 22.40 MiB |\r\n +-----------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN IF bytes IS NULL THEN RETURN NULL; ELSEIF bytes >= 1125899906842624 THEN RETURN CONCAT(ROUND(bytes / 1125899906842624, 2), ' PiB'); ELSEIF bytes >= 1099511627776 THEN RETURN CONCAT(ROUND(bytes / 1099511627776, 2), ' TiB'); ELSEIF bytes >= 1073741824 THEN RETURN CONCAT(ROUND(bytes / 1073741824, 2), ' GiB'); ELSEIF bytes >= 1048576 THEN RETURN CONCAT(ROUND(bytes / 1048576, 2), ' MiB'); ELSEIF bytes >= 1024 THEN RETURN CONCAT(ROUND(bytes / 1024, 2), ' KiB'); ELSE RETURN CONCAT(ROUND(bytes, 0), ' bytes'); END IF; END
;;
delimiter ;

-- ----------------------------
-- Function structure for format_path
-- ----------------------------
DROP FUNCTION IF EXISTS `format_path`;
delimiter ;;
CREATE FUNCTION `format_path`(in_path VARCHAR(512))
 RETURNS varchar(512) CHARSET utf8mb4
  NO SQL 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes a raw path value, and strips out the datadir or tmpdir\r\n replacing with @@datadir and @@tmpdir respectively.\r\n \r\n Also normalizes the paths across operating systems, so backslashes\r\n on Windows are converted to forward slashes\r\n \r\n Parameters\r\n \r\n path (VARCHAR(512)):\r\n The raw file path value to format.\r\n \r\n Returns\r\n \r\n VARCHAR(512) CHARSET UTF8MB4\r\n \r\n Example\r\n \r\n mysql> select @@datadir;\r\n +-----------------------------------------------+\r\n | @@datadir                                     |\r\n +-----------------------------------------------+\r\n | /Users/mark/sandboxes/SmallTree/AMaster/data/ |\r\n +-----------------------------------------------+\r\n 1 row in set (0.06 sec)\r\n \r\n mysql> select format_path(\'/Users/mark/sandboxes/SmallTree/AMaster/data/mysql/proc.MYD\') AS path;\r\n +--------------------------+\r\n | path                     |\r\n +--------------------------+\r\n | @@datadir/mysql/proc.MYD |\r\n +--------------------------+\r\n 1 row in set (0.03 sec)\r\n '
BEGIN DECLARE v_path VARCHAR(512); DECLARE v_undo_dir VARCHAR(1024);  DECLARE path_separator CHAR(1) DEFAULT '/';  IF @@global.version_compile_os LIKE 'win%' THEN SET path_separator = '\\'; END IF;  IF in_path LIKE '/private/%' THEN SET v_path = REPLACE(in_path, '/private', ''); ELSE SET v_path = in_path; END IF;  SET v_undo_dir = IFNULL((SELECT VARIABLE_VALUE FROM performance_schema.global_variables WHERE VARIABLE_NAME = 'innodb_undo_directory'), '');  IF v_path IS NULL THEN RETURN NULL; ELSEIF v_path LIKE CONCAT(@@global.datadir, IF(SUBSTRING(@@global.datadir, -1) = path_separator, '%', CONCAT(path_separator, '%'))) ESCAPE '|' THEN SET v_path = REPLACE(v_path, @@global.datadir, CONCAT('@@datadir', IF(SUBSTRING(@@global.datadir, -1) = path_separator, path_separator, ''))); ELSEIF v_path LIKE CONCAT(@@global.tmpdir, IF(SUBSTRING(@@global.tmpdir, -1) = path_separator, '%', CONCAT(path_separator, '%'))) ESCAPE '|' THEN SET v_path = REPLACE(v_path, @@global.tmpdir, CONCAT('@@tmpdir', IF(SUBSTRING(@@global.tmpdir, -1) = path_separator, path_separator, ''))); ELSEIF v_path LIKE CONCAT(@@global.slave_load_tmpdir, IF(SUBSTRING(@@global.slave_load_tmpdir, -1) = path_separator, '%', CONCAT(path_separator, '%'))) ESCAPE '|' THEN SET v_path = REPLACE(v_path, @@global.slave_load_tmpdir, CONCAT('@@slave_load_tmpdir', IF(SUBSTRING(@@global.slave_load_tmpdir, -1) = path_separator, path_separator, ''))); ELSEIF v_path LIKE CONCAT(@@global.innodb_data_home_dir, IF(SUBSTRING(@@global.innodb_data_home_dir, -1) = path_separator, '%', CONCAT(path_separator, '%'))) ESCAPE '|' THEN SET v_path = REPLACE(v_path, @@global.innodb_data_home_dir, CONCAT('@@innodb_data_home_dir', IF(SUBSTRING(@@global.innodb_data_home_dir, -1) = path_separator, path_separator, ''))); ELSEIF v_path LIKE CONCAT(@@global.innodb_log_group_home_dir, IF(SUBSTRING(@@global.innodb_log_group_home_dir, -1) = path_separator, '%', CONCAT(path_separator, '%'))) ESCAPE '|' THEN SET v_path = REPLACE(v_path, @@global.innodb_log_group_home_dir, CONCAT('@@innodb_log_group_home_dir', IF(SUBSTRING(@@global.innodb_log_group_home_dir, -1) = path_separator, path_separator, ''))); ELSEIF v_path LIKE CONCAT(v_undo_dir, IF(SUBSTRING(v_undo_dir, -1) = path_separator, '%', CONCAT(path_separator, '%'))) ESCAPE '|' THEN SET v_path = REPLACE(v_path, v_undo_dir, CONCAT('@@innodb_undo_directory', IF(SUBSTRING(v_undo_dir, -1) = path_separator, path_separator, ''))); ELSEIF v_path LIKE CONCAT(@@global.basedir, IF(SUBSTRING(@@global.basedir, -1) = path_separator, '%', CONCAT(path_separator, '%'))) ESCAPE '|' THEN SET v_path = REPLACE(v_path, @@global.basedir, CONCAT('@@basedir', IF(SUBSTRING(@@global.basedir, -1) = path_separator, path_separator, ''))); END IF;  RETURN v_path; END
;;
delimiter ;

-- ----------------------------
-- Function structure for format_statement
-- ----------------------------
DROP FUNCTION IF EXISTS `format_statement`;
delimiter ;;
CREATE FUNCTION `format_statement`(statement LONGTEXT)
 RETURNS longtext CHARSET utf8mb4
  NO SQL 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Formats a normalized statement, truncating it if it is > 64 characters long by default.\r\n \r\n To configure the length to truncate the statement to by default, update the `statement_truncate_len`\r\n variable with `sys_config` table to a different value. Alternatively, to change it just for just \r\n your particular session, use `SET @sys.statement_truncate_len := <some new value>`.\r\n \r\n Useful for printing statement related data from Performance Schema from \r\n the command line.\r\n \r\n Parameters\r\n \r\n statement (LONGTEXT): \r\n The statement to format.\r\n \r\n Returns\r\n \r\n LONGTEXT\r\n \r\n Example\r\n \r\n mysql> SELECT sys.format_statement(digest_text)\r\n ->   FROM performance_schema.events_statements_summary_by_digest\r\n ->  ORDER by sum_timer_wait DESC limit 5;\r\n +-------------------------------------------------------------------+\r\n | sys.format_statement(digest_text)                                 |\r\n +-------------------------------------------------------------------+\r\n | CREATE SQL SECURITY INVOKER VI ... KE ? AND `variable_value` > ?  |\r\n | CREATE SQL SECURITY INVOKER VI ... ait` IS NOT NULL , `esc` . ... |\r\n | CREATE SQL SECURITY INVOKER VI ... ait` IS NOT NULL , `sys` . ... |\r\n | CREATE SQL SECURITY INVOKER VI ...  , `compressed_size` ) ) DESC  |\r\n | CREATE SQL SECURITY INVOKER VI ... LIKE ? ORDER BY `timer_start`  |\r\n +-------------------------------------------------------------------+\r\n 5 rows in set (0.00 sec)\r\n '
BEGIN IF @sys.statement_truncate_len IS NULL THEN SET @sys.statement_truncate_len = sys_get_config('statement_truncate_len', 64); END IF;  IF CHAR_LENGTH(statement) > @sys.statement_truncate_len THEN RETURN REPLACE(CONCAT(LEFT(statement, (@sys.statement_truncate_len/2)-2), ' ... ', RIGHT(statement, (@sys.statement_truncate_len/2)-2)), '\n', ' '); ELSE  RETURN REPLACE(statement, '\n', ' '); END IF; END
;;
delimiter ;

-- ----------------------------
-- Function structure for format_time
-- ----------------------------
DROP FUNCTION IF EXISTS `format_time`;
delimiter ;;
CREATE FUNCTION `format_time`(picoseconds TEXT)
 RETURNS text CHARSET utf8mb4
  NO SQL 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes a raw picoseconds value, and converts it to a human readable form.\r\n \r\n Picoseconds are the precision that all latency values are printed in\r\n within Performance Schema, however are not user friendly when wanting\r\n to scan output from the command line.\r\n \r\n Parameters\r\n \r\n picoseconds (TEXT):\r\n The raw picoseconds value to convert.\r\n \r\n Returns\r\n \r\n TEXT CHARSET UTF8MB4\r\n \r\n Example\r\n \r\n mysql> select format_time(342342342342345);\r\n +------------------------------+\r\n | format_time(342342342342345) |\r\n +------------------------------+\r\n | 00:05:42                     |\r\n +------------------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> select format_time(342342342);\r\n +------------------------+\r\n | format_time(342342342) |\r\n +------------------------+\r\n | 342.34 us              |\r\n +------------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> select format_time(34234);\r\n +--------------------+\r\n | format_time(34234) |\r\n +--------------------+\r\n | 34.23 ns           |\r\n +--------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN IF picoseconds IS NULL THEN RETURN NULL; ELSEIF picoseconds >= 604800000000000000 THEN RETURN CONCAT(ROUND(picoseconds / 604800000000000000, 2), ' w'); ELSEIF picoseconds >= 86400000000000000 THEN RETURN CONCAT(ROUND(picoseconds / 86400000000000000, 2), ' d'); ELSEIF picoseconds >= 3600000000000000 THEN RETURN CONCAT(ROUND(picoseconds / 3600000000000000, 2), ' h'); ELSEIF picoseconds >= 60000000000000 THEN RETURN CONCAT(ROUND(picoseconds / 60000000000000, 2), ' m'); ELSEIF picoseconds >= 1000000000000 THEN RETURN CONCAT(ROUND(picoseconds / 1000000000000, 2), ' s'); ELSEIF picoseconds >= 1000000000 THEN RETURN CONCAT(ROUND(picoseconds / 1000000000, 2), ' ms'); ELSEIF picoseconds >= 1000000 THEN RETURN CONCAT(ROUND(picoseconds / 1000000, 2), ' us'); ELSEIF picoseconds >= 1000 THEN RETURN CONCAT(ROUND(picoseconds / 1000, 2), ' ns'); ELSE RETURN CONCAT(picoseconds, ' ps'); END IF; END
;;
delimiter ;

-- ----------------------------
-- Function structure for list_add
-- ----------------------------
DROP FUNCTION IF EXISTS `list_add`;
delimiter ;;
CREATE FUNCTION `list_add`(in_list TEXT, in_add_value TEXT)
 RETURNS text CHARSET utf8mb4
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes a list, and a value to add to the list, and returns the resulting list.\r\n \r\n Useful for altering certain session variables, like sql_mode or optimizer_switch for instance.\r\n \r\n Parameters\r\n \r\n in_list (TEXT):\r\n The comma separated list to add a value to\r\n \r\n in_add_value (TEXT):\r\n The value to add to the input list\r\n \r\n Returns\r\n \r\n TEXT\r\n \r\n Example\r\n \r\n mysql> select @@sql_mode;\r\n +-----------------------------------------------------------------------------------+\r\n | @@sql_mode                                                                        |\r\n +-----------------------------------------------------------------------------------+\r\n | ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |\r\n +-----------------------------------------------------------------------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> set sql_mode = sys.list_add(@@sql_mode, \'ANSI_QUOTES\');\r\n Query OK, 0 rows affected (0.06 sec)\r\n \r\n mysql> select @@sql_mode;\r\n +-----------------------------------------------------------------------------------------------+\r\n | @@sql_mode                                                                                    |\r\n +-----------------------------------------------------------------------------------------------+\r\n | ANSI_QUOTES,ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |\r\n +-----------------------------------------------------------------------------------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n '
BEGIN  IF (in_add_value IS NULL) THEN SIGNAL SQLSTATE '02200' SET MESSAGE_TEXT = 'Function sys.list_add: in_add_value input variable should not be NULL', MYSQL_ERRNO = 1138; END IF;  IF (in_list IS NULL OR LENGTH(in_list) = 0) THEN RETURN in_add_value; END IF;  RETURN (SELECT CONCAT(TRIM(BOTH ',' FROM TRIM(in_list)), ',', in_add_value));  END
;;
delimiter ;

-- ----------------------------
-- Function structure for list_drop
-- ----------------------------
DROP FUNCTION IF EXISTS `list_drop`;
delimiter ;;
CREATE FUNCTION `list_drop`(in_list TEXT, in_drop_value TEXT)
 RETURNS text CHARSET utf8mb4
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes a list, and a value to attempt to remove from the list, and returns the resulting list.\r\n \r\n Useful for altering certain session variables, like sql_mode or optimizer_switch for instance.\r\n \r\n Parameters\r\n \r\n in_list (TEXT):\r\n The comma separated list to drop a value from\r\n \r\n in_drop_value (TEXT):\r\n The value to drop from the input list\r\n \r\n Returns\r\n \r\n TEXT\r\n \r\n Example\r\n \r\n mysql> select @@sql_mode;\r\n +-----------------------------------------------------------------------------------------------+\r\n | @@sql_mode                                                                                    |\r\n +-----------------------------------------------------------------------------------------------+\r\n | ANSI_QUOTES,ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |\r\n +-----------------------------------------------------------------------------------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> set sql_mode = sys.list_drop(@@sql_mode, \'ONLY_FULL_GROUP_BY\');\r\n Query OK, 0 rows affected (0.03 sec)\r\n \r\n mysql> select @@sql_mode;\r\n +----------------------------------------------------------------------------+\r\n | @@sql_mode                                                                 |\r\n +----------------------------------------------------------------------------+\r\n | ANSI_QUOTES,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |\r\n +----------------------------------------------------------------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n '
BEGIN  IF (in_drop_value IS NULL) THEN SIGNAL SQLSTATE '02200' SET MESSAGE_TEXT = 'Function sys.list_drop: in_drop_value input variable should not be NULL', MYSQL_ERRNO = 1138; END IF;  IF (in_list IS NULL OR LENGTH(in_list) = 0) THEN RETURN in_list; END IF;  RETURN (SELECT TRIM(BOTH ',' FROM REPLACE(REPLACE(CONCAT(',', in_list), CONCAT(',', in_drop_value), ''), CONCAT(', ', in_drop_value), '')));  END
;;
delimiter ;

-- ----------------------------
-- Function structure for ps_is_account_enabled
-- ----------------------------
DROP FUNCTION IF EXISTS `ps_is_account_enabled`;
delimiter ;;
CREATE FUNCTION `ps_is_account_enabled`(in_host VARCHAR(60),  in_user VARCHAR(32))
 RETURNS enum('YES','NO') CHARSET utf8mb4
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Determines whether instrumentation of an account is enabled \r\n within Performance Schema.\r\n \r\n Parameters\r\n \r\n in_host VARCHAR(60): \r\n The hostname of the account to check.\r\n in_user VARCHAR(32):\r\n The username of the account to check.\r\n \r\n Returns\r\n \r\n ENUM(\'YES\', \'NO\', \'PARTIAL\')\r\n \r\n Example\r\n \r\n mysql> SELECT sys.ps_is_account_enabled(\'localhost\', \'root\');\r\n +------------------------------------------------+\r\n | sys.ps_is_account_enabled(\'localhost\', \'root\') |\r\n +------------------------------------------------+\r\n | YES                                            |\r\n +------------------------------------------------+\r\n 1 row in set (0.01 sec)\r\n '
BEGIN RETURN IF(EXISTS(SELECT 1 FROM performance_schema.setup_actors WHERE (`HOST` = '%' OR in_host LIKE `HOST`) AND (`USER` = '%' OR `USER` = in_user) AND (`ENABLED` = 'YES') ), 'YES', 'NO' ); END
;;
delimiter ;

-- ----------------------------
-- Function structure for ps_is_consumer_enabled
-- ----------------------------
DROP FUNCTION IF EXISTS `ps_is_consumer_enabled`;
delimiter ;;
CREATE FUNCTION `ps_is_consumer_enabled`(in_consumer varchar(64))
 RETURNS enum('YES','NO') CHARSET utf8mb4
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Determines whether a consumer is enabled (taking the consumer hierarchy into consideration)\r\n within the Performance Schema.\r\n \r\n An exception with errno 3047 is thrown if an unknown consumer name is passed to the function.\r\n A consumer name of NULL returns NULL.\r\n \r\n Parameters\r\n \r\n in_consumer VARCHAR(64): \r\n The name of the consumer to check.\r\n \r\n Returns\r\n \r\n ENUM(\'YES\', \'NO\')\r\n \r\n Example\r\n \r\n mysql> SELECT sys.ps_is_consumer_enabled(\'events_stages_history\');\r\n +-----------------------------------------------------+\r\n | sys.ps_is_consumer_enabled(\'events_stages_history\') |\r\n +-----------------------------------------------------+\r\n | NO                                                  |\r\n +-----------------------------------------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN DECLARE v_is_enabled ENUM('YES', 'NO') DEFAULT NULL; DECLARE v_error_msg VARCHAR(128);  IF (in_consumer IS NULL) THEN RETURN NULL; END IF;  SET v_is_enabled = ( SELECT (CASE WHEN c.NAME = 'global_instrumentation' THEN c.ENABLED WHEN c.NAME = 'thread_instrumentation' THEN IF(cg.ENABLED = 'YES' AND c.ENABLED = 'YES', 'YES', 'NO') WHEN c.NAME LIKE '%\_digest'           THEN IF(cg.ENABLED = 'YES' AND c.ENABLED = 'YES', 'YES', 'NO') WHEN c.NAME LIKE '%\_current'          THEN IF(cg.ENABLED = 'YES' AND ct.ENABLED = 'YES' AND c.ENABLED = 'YES', 'YES', 'NO') ELSE IF(cg.ENABLED = 'YES' AND ct.ENABLED = 'YES' AND c.ENABLED = 'YES' AND ( SELECT cc.ENABLED FROM performance_schema.setup_consumers cc WHERE NAME = CONCAT(SUBSTRING_INDEX(c.NAME, '_', 2), '_current') ) = 'YES', 'YES', 'NO') END) AS IsEnabled FROM performance_schema.setup_consumers c INNER JOIN performance_schema.setup_consumers cg INNER JOIN performance_schema.setup_consumers ct WHERE cg.NAME       = 'global_instrumentation' AND ct.NAME   = 'thread_instrumentation' AND c.NAME    = in_consumer );  IF (v_is_enabled IS NOT NULL) THEN RETURN v_is_enabled; ELSE SET v_error_msg = CONCAT('Invalid argument error: ', in_consumer, ' in function sys.ps_is_consumer_enabled.'); SIGNAL SQLSTATE 'HY000' SET MESSAGE_TEXT = v_error_msg, MYSQL_ERRNO  = 3047; END IF; END
;;
delimiter ;

-- ----------------------------
-- Function structure for ps_is_instrument_default_enabled
-- ----------------------------
DROP FUNCTION IF EXISTS `ps_is_instrument_default_enabled`;
delimiter ;;
CREATE FUNCTION `ps_is_instrument_default_enabled`(in_instrument VARCHAR(128))
 RETURNS enum('YES','NO') CHARSET utf8mb4
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Returns whether an instrument is enabled by default in this version of MySQL.\r\n \r\n Parameters\r\n \r\n in_instrument VARCHAR(128): \r\n The instrument to check.\r\n \r\n Returns\r\n \r\n ENUM(\'YES\', \'NO\')\r\n \r\n Example\r\n \r\n mysql> SELECT sys.ps_is_instrument_default_enabled(\'statement/sql/select\');\r\n +--------------------------------------------------------------+\r\n | sys.ps_is_instrument_default_enabled(\'statement/sql/select\') |\r\n +--------------------------------------------------------------+\r\n | YES                                                          |\r\n +--------------------------------------------------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN DECLARE v_enabled ENUM('YES', 'NO');  SET v_enabled = IF(in_instrument LIKE 'wait/io/file/%' OR in_instrument LIKE 'wait/io/table/%' OR in_instrument LIKE 'statement/%' OR in_instrument LIKE 'memory/performance_schema/%' OR in_instrument IN ('wait/lock/table/sql/handler', 'idle')  OR in_instrument LIKE 'stage/innodb/%' OR in_instrument = 'stage/sql/copy to tmp table'  , 'YES', 'NO' );  RETURN v_enabled; END
;;
delimiter ;

-- ----------------------------
-- Function structure for ps_is_instrument_default_timed
-- ----------------------------
DROP FUNCTION IF EXISTS `ps_is_instrument_default_timed`;
delimiter ;;
CREATE FUNCTION `ps_is_instrument_default_timed`(in_instrument VARCHAR(128))
 RETURNS enum('YES','NO') CHARSET utf8mb4
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Returns whether an instrument is timed by default in this version of MySQL.\r\n \r\n Parameters\r\n \r\n in_instrument VARCHAR(128): \r\n The instrument to check.\r\n \r\n Returns\r\n \r\n ENUM(\'YES\', \'NO\')\r\n \r\n Example\r\n \r\n mysql> SELECT sys.ps_is_instrument_default_timed(\'statement/sql/select\');\r\n +------------------------------------------------------------+\r\n | sys.ps_is_instrument_default_timed(\'statement/sql/select\') |\r\n +------------------------------------------------------------+\r\n | YES                                                        |\r\n +------------------------------------------------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN DECLARE v_timed ENUM('YES', 'NO');  SET v_timed = IF(in_instrument LIKE 'wait/io/file/%' OR in_instrument LIKE 'wait/io/table/%' OR in_instrument LIKE 'statement/%' OR in_instrument IN ('wait/lock/table/sql/handler', 'idle')  OR in_instrument LIKE 'stage/innodb/%' OR in_instrument = 'stage/sql/copy to tmp table'  , 'YES', 'NO' );  RETURN v_timed; END
;;
delimiter ;

-- ----------------------------
-- Function structure for ps_is_thread_instrumented
-- ----------------------------
DROP FUNCTION IF EXISTS `ps_is_thread_instrumented`;
delimiter ;;
CREATE FUNCTION `ps_is_thread_instrumented`(in_connection_id BIGINT UNSIGNED)
 RETURNS enum('YES','NO','UNKNOWN') CHARSET utf8mb4
  READS SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Checks whether the provided connection id is instrumented within Performance Schema.\r\n \r\n Parameters\r\n \r\n in_connection_id (BIGINT UNSIGNED):\r\n The id of the connection to check.\r\n \r\n Returns\r\n \r\n ENUM(\'YES\', \'NO\', \'UNKNOWN\')\r\n \r\n Example\r\n \r\n mysql> SELECT sys.ps_is_thread_instrumented(CONNECTION_ID());\r\n +------------------------------------------------+\r\n | sys.ps_is_thread_instrumented(CONNECTION_ID()) |\r\n +------------------------------------------------+\r\n | YES                                            |\r\n +------------------------------------------------+\r\n '
BEGIN DECLARE v_enabled ENUM('YES', 'NO', 'UNKNOWN');  IF (in_connection_id IS NULL) THEN RETURN NULL; END IF;  SELECT INSTRUMENTED INTO v_enabled FROM performance_schema.threads  WHERE PROCESSLIST_ID = in_connection_id;  IF (v_enabled IS NULL) THEN RETURN 'UNKNOWN'; ELSE RETURN v_enabled; END IF; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_disable_background_threads
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_disable_background_threads`;
delimiter ;;
CREATE PROCEDURE `ps_setup_disable_background_threads`()
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Disable all background thread instrumentation within Performance Schema.\r\n \r\n Parameters\r\n \r\n None.\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_disable_background_threads();\r\n +--------------------------------+\r\n | summary                        |\r\n +--------------------------------+\r\n | Disabled 18 background threads |\r\n +--------------------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN UPDATE performance_schema.threads SET instrumented = 'NO' WHERE type = 'BACKGROUND';  SELECT CONCAT('Disabled ', @rows := ROW_COUNT(), ' background thread', IF(@rows != 1, 's', '')) AS summary; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_disable_consumer
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_disable_consumer`;
delimiter ;;
CREATE PROCEDURE `ps_setup_disable_consumer`(IN consumer VARCHAR(128))
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Disables consumers within Performance Schema \r\n matching the input pattern.\r\n \r\n Parameters\r\n \r\n consumer (VARCHAR(128)):\r\n A LIKE pattern match (using \"%consumer%\") of consumers to disable\r\n \r\n Example\r\n \r\n To disable all consumers:\r\n \r\n mysql> CALL sys.ps_setup_disable_consumer(\'\');\r\n +--------------------------+\r\n | summary                  |\r\n +--------------------------+\r\n | Disabled 15 consumers    |\r\n +--------------------------+\r\n 1 row in set (0.02 sec)\r\n \r\n To disable just the event_stage consumers:\r\n \r\n mysql> CALL sys.ps_setup_disable_comsumers(\'stage\');\r\n +------------------------+\r\n | summary                |\r\n +------------------------+\r\n | Disabled 3 consumers   |\r\n +------------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN UPDATE performance_schema.setup_consumers SET enabled = 'NO' WHERE name LIKE CONCAT('%', consumer, '%');  SELECT CONCAT('Disabled ', @rows := ROW_COUNT(), ' consumer', IF(@rows != 1, 's', '')) AS summary; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_disable_instrument
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_disable_instrument`;
delimiter ;;
CREATE PROCEDURE `ps_setup_disable_instrument`(IN in_pattern VARCHAR(128))
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Disables instruments within Performance Schema \r\n matching the input pattern.\r\n \r\n Parameters\r\n \r\n in_pattern (VARCHAR(128)):\r\n A LIKE pattern match (using \"%in_pattern%\") of events to disable\r\n \r\n Example\r\n \r\n To disable all mutex instruments:\r\n \r\n mysql> CALL sys.ps_setup_disable_instrument(\'wait/synch/mutex\');\r\n +--------------------------+\r\n | summary                  |\r\n +--------------------------+\r\n | Disabled 155 instruments |\r\n +--------------------------+\r\n 1 row in set (0.02 sec)\r\n \r\n To disable just a specific TCP/IP based network IO instrument:\r\n \r\n mysql> CALL sys.ps_setup_disable_instrument(\'wait/io/socket/sql/server_tcpip_socket\');\r\n +------------------------+\r\n | summary                |\r\n +------------------------+\r\n | Disabled 1 instruments |\r\n +------------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n To disable all instruments:\r\n \r\n mysql> CALL sys.ps_setup_disable_instrument(\'\');\r\n +--------------------------+\r\n | summary                  |\r\n +--------------------------+\r\n | Disabled 547 instruments |\r\n +--------------------------+\r\n 1 row in set (0.01 sec)\r\n '
BEGIN UPDATE performance_schema.setup_instruments SET enabled = 'NO', timed = 'NO' WHERE name LIKE CONCAT('%', in_pattern, '%');  SELECT CONCAT('Disabled ', @rows := ROW_COUNT(), ' instrument', IF(@rows != 1, 's', '')) AS summary; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_disable_thread
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_disable_thread`;
delimiter ;;
CREATE PROCEDURE `ps_setup_disable_thread`(IN in_connection_id BIGINT)
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Disable the given connection/thread in Performance Schema.\r\n \r\n Parameters\r\n \r\n in_connection_id (BIGINT):\r\n The connection ID (PROCESSLIST_ID from performance_schema.threads\r\n or the ID shown within SHOW PROCESSLIST)\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_disable_thread(3);\r\n +-------------------+\r\n | summary           |\r\n +-------------------+\r\n | Disabled 1 thread |\r\n +-------------------+\r\n 1 row in set (0.01 sec)\r\n \r\n To disable the current connection:\r\n \r\n mysql> CALL sys.ps_setup_disable_thread(CONNECTION_ID());\r\n +-------------------+\r\n | summary           |\r\n +-------------------+\r\n | Disabled 1 thread |\r\n +-------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN UPDATE performance_schema.threads SET instrumented = 'NO' WHERE processlist_id = in_connection_id;  SELECT CONCAT('Disabled ', @rows := ROW_COUNT(), ' thread', IF(@rows != 1, 's', '')) AS summary; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_enable_background_threads
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_enable_background_threads`;
delimiter ;;
CREATE PROCEDURE `ps_setup_enable_background_threads`()
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Enable all background thread instrumentation within Performance Schema.\r\n \r\n Parameters\r\n \r\n None.\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_enable_background_threads();\r\n +-------------------------------+\r\n | summary                       |\r\n +-------------------------------+\r\n | Enabled 18 background threads |\r\n +-------------------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN UPDATE performance_schema.threads SET instrumented = 'YES' WHERE type = 'BACKGROUND';  SELECT CONCAT('Enabled ', @rows := ROW_COUNT(), ' background thread', IF(@rows != 1, 's', '')) AS summary; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_enable_consumer
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_enable_consumer`;
delimiter ;;
CREATE PROCEDURE `ps_setup_enable_consumer`(IN consumer VARCHAR(128))
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Enables consumers within Performance Schema \r\n matching the input pattern.\r\n \r\n Parameters\r\n \r\n consumer (VARCHAR(128)):\r\n A LIKE pattern match (using \"%consumer%\") of consumers to enable\r\n \r\n Example\r\n \r\n To enable all consumers:\r\n \r\n mysql> CALL sys.ps_setup_enable_consumer(\'\');\r\n +-------------------------+\r\n | summary                 |\r\n +-------------------------+\r\n | Enabled 10 consumers    |\r\n +-------------------------+\r\n 1 row in set (0.02 sec)\r\n \r\n Query OK, 0 rows affected (0.02 sec)\r\n \r\n To enable just \"waits\" consumers:\r\n \r\n mysql> CALL sys.ps_setup_enable_consumer(\'waits\');\r\n +-----------------------+\r\n | summary               |\r\n +-----------------------+\r\n | Enabled 3 consumers   |\r\n +-----------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n Query OK, 0 rows affected (0.00 sec)\r\n '
BEGIN UPDATE performance_schema.setup_consumers SET enabled = 'YES' WHERE name LIKE CONCAT('%', consumer, '%');  SELECT CONCAT('Enabled ', @rows := ROW_COUNT(), ' consumer', IF(@rows != 1, 's', '')) AS summary; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_enable_instrument
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_enable_instrument`;
delimiter ;;
CREATE PROCEDURE `ps_setup_enable_instrument`(IN in_pattern VARCHAR(128))
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Enables instruments within Performance Schema \r\n matching the input pattern.\r\n \r\n Parameters\r\n \r\n in_pattern (VARCHAR(128)):\r\n A LIKE pattern match (using \"%in_pattern%\") of events to enable\r\n \r\n Example\r\n \r\n To enable all mutex instruments:\r\n \r\n mysql> CALL sys.ps_setup_enable_instrument(\'wait/synch/mutex\');\r\n +-------------------------+\r\n | summary                 |\r\n +-------------------------+\r\n | Enabled 155 instruments |\r\n +-------------------------+\r\n 1 row in set (0.02 sec)\r\n \r\n Query OK, 0 rows affected (0.02 sec)\r\n \r\n To enable just a specific TCP/IP based network IO instrument:\r\n \r\n mysql> CALL sys.ps_setup_enable_instrument(\'wait/io/socket/sql/server_tcpip_socket\');\r\n +-----------------------+\r\n | summary               |\r\n +-----------------------+\r\n | Enabled 1 instruments |\r\n +-----------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n Query OK, 0 rows affected (0.00 sec)\r\n \r\n To enable all instruments:\r\n \r\n mysql> CALL sys.ps_setup_enable_instrument(\'\');\r\n +-------------------------+\r\n | summary                 |\r\n +-------------------------+\r\n | Enabled 547 instruments |\r\n +-------------------------+\r\n 1 row in set (0.01 sec)\r\n \r\n Query OK, 0 rows affected (0.01 sec)\r\n '
BEGIN UPDATE performance_schema.setup_instruments SET enabled = 'YES', timed = 'YES' WHERE name LIKE CONCAT('%', in_pattern, '%');  SELECT CONCAT('Enabled ', @rows := ROW_COUNT(), ' instrument', IF(@rows != 1, 's', '')) AS summary; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_enable_thread
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_enable_thread`;
delimiter ;;
CREATE PROCEDURE `ps_setup_enable_thread`(IN in_connection_id BIGINT)
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Enable the given connection/thread in Performance Schema.\r\n \r\n Parameters\r\n \r\n in_connection_id (BIGINT):\r\n The connection ID (PROCESSLIST_ID from performance_schema.threads\r\n or the ID shown within SHOW PROCESSLIST)\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_enable_thread(3);\r\n +------------------+\r\n | summary          |\r\n +------------------+\r\n | Enabled 1 thread |\r\n +------------------+\r\n 1 row in set (0.01 sec)\r\n \r\n To enable the current connection:\r\n \r\n mysql> CALL sys.ps_setup_enable_thread(CONNECTION_ID());\r\n +------------------+\r\n | summary          |\r\n +------------------+\r\n | Enabled 1 thread |\r\n +------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN UPDATE performance_schema.threads SET instrumented = 'YES' WHERE processlist_id = in_connection_id;  SELECT CONCAT('Enabled ', @rows := ROW_COUNT(), ' thread', IF(@rows != 1, 's', '')) AS summary; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_reload_saved
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_reload_saved`;
delimiter ;;
CREATE PROCEDURE `ps_setup_reload_saved`()
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Reloads a saved Performance Schema configuration,\r\n so that you can alter the setup for debugging purposes, \r\n but restore it to a previous state.\r\n \r\n Use the companion procedure - ps_setup_save(), to \r\n save a configuration.\r\n \r\n Requires the SUPER privilege for \"SET sql_log_bin = 0;\".\r\n \r\n Parameters\r\n \r\n None.\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_save();\r\n Query OK, 0 rows affected (0.08 sec)\r\n \r\n mysql> UPDATE performance_schema.setup_instruments SET enabled = \'YES\', timed = \'YES\';\r\n Query OK, 547 rows affected (0.40 sec)\r\n Rows matched: 784  Changed: 547  Warnings: 0\r\n \r\n /* Run some tests that need more detailed instrumentation here */\r\n \r\n mysql> CALL sys.ps_setup_reload_saved();\r\n Query OK, 0 rows affected (0.32 sec)\r\n '
BEGIN DECLARE v_done bool DEFAULT FALSE; DECLARE v_lock_result INT; DECLARE v_lock_used_by BIGINT; DECLARE v_signal_message TEXT; DECLARE EXIT HANDLER FOR SQLEXCEPTION BEGIN SIGNAL SQLSTATE VALUE '90001' SET MESSAGE_TEXT = 'An error occurred, was sys.ps_setup_save() run before this procedure?'; END;  SET @log_bin := @@sql_log_bin; SET sql_log_bin = 0;  SELECT IS_USED_LOCK('sys.ps_setup_save') INTO v_lock_used_by;  IF (v_lock_used_by != CONNECTION_ID()) THEN SET v_signal_message = CONCAT('The sys.ps_setup_save lock is currently owned by ', v_lock_used_by); SIGNAL SQLSTATE VALUE '90002' SET MESSAGE_TEXT = v_signal_message; END IF;  DELETE FROM performance_schema.setup_actors; INSERT INTO performance_schema.setup_actors SELECT * FROM tmp_setup_actors;  BEGIN DECLARE v_name varchar(64); DECLARE v_enabled enum('YES', 'NO'); DECLARE c_consumers CURSOR FOR SELECT NAME, ENABLED FROM tmp_setup_consumers; DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_done = TRUE;  SET v_done = FALSE; OPEN c_consumers; c_consumers_loop: LOOP FETCH c_consumers INTO v_name, v_enabled; IF v_done THEN LEAVE c_consumers_loop; END IF;  UPDATE performance_schema.setup_consumers SET ENABLED = v_enabled WHERE NAME = v_name; END LOOP; CLOSE c_consumers; END;  UPDATE performance_schema.setup_instruments INNER JOIN tmp_setup_instruments USING (NAME) SET performance_schema.setup_instruments.ENABLED = tmp_setup_instruments.ENABLED, performance_schema.setup_instruments.TIMED   = tmp_setup_instruments.TIMED; BEGIN DECLARE v_thread_id bigint unsigned; DECLARE v_instrumented enum('YES', 'NO'); DECLARE c_threads CURSOR FOR SELECT THREAD_ID, INSTRUMENTED FROM tmp_threads; DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_done = TRUE;  SET v_done = FALSE; OPEN c_threads; c_threads_loop: LOOP FETCH c_threads INTO v_thread_id, v_instrumented; IF v_done THEN LEAVE c_threads_loop; END IF;  UPDATE performance_schema.threads SET INSTRUMENTED = v_instrumented WHERE THREAD_ID = v_thread_id; END LOOP; CLOSE c_threads; END;  UPDATE performance_schema.threads SET INSTRUMENTED = IF(PROCESSLIST_USER IS NOT NULL, sys.ps_is_account_enabled(PROCESSLIST_HOST, PROCESSLIST_USER), 'YES') WHERE THREAD_ID NOT IN (SELECT THREAD_ID FROM tmp_threads);  DROP TEMPORARY TABLE tmp_setup_actors; DROP TEMPORARY TABLE tmp_setup_consumers; DROP TEMPORARY TABLE tmp_setup_instruments; DROP TEMPORARY TABLE tmp_threads;  SELECT RELEASE_LOCK('sys.ps_setup_save') INTO v_lock_result;  SET sql_log_bin = @log_bin;  END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_reset_to_default
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_reset_to_default`;
delimiter ;;
CREATE PROCEDURE `ps_setup_reset_to_default`(IN in_verbose BOOLEAN)
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Resets the Performance Schema setup to the default settings.\r\n \r\n Parameters\r\n \r\n in_verbose (BOOLEAN):\r\n Whether to print each setup stage (including the SQL) whilst running.\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_reset_to_default(true)\\G\r\n *************************** 1. row ***************************\r\n status: Resetting: setup_actors\r\n DELETE\r\n FROM performance_schema.setup_actors\r\n WHERE NOT (HOST = \'%\' AND USER = \'%\' AND `ROLE` = \'%\')\r\n 1 row in set (0.00 sec)\r\n \r\n *************************** 1. row ***************************\r\n status: Resetting: setup_actors\r\n INSERT IGNORE INTO performance_schema.setup_actors\r\n VALUES (\'%\', \'%\', \'%\')\r\n 1 row in set (0.00 sec)\r\n ...\r\n \r\n mysql> CALL sys.ps_setup_reset_to_default(false)\\G\r\n Query OK, 0 rows affected (0.00 sec)\r\n '
BEGIN SET @query = 'DELETE FROM performance_schema.setup_actors WHERE NOT (HOST = ''%'' AND USER = ''%'' AND `ROLE` = ''%'')';  IF (in_verbose) THEN SELECT CONCAT('Resetting: setup_actors\n', REPLACE(@query, '  ', '')) AS status; END IF;  PREPARE reset_stmt FROM @query; EXECUTE reset_stmt; DEALLOCATE PREPARE reset_stmt;  SET @query = 'INSERT IGNORE INTO performance_schema.setup_actors VALUES (''%'', ''%'', ''%'', ''YES'', ''YES'')';  IF (in_verbose) THEN SELECT CONCAT('Resetting: setup_actors\n', REPLACE(@query, '  ', '')) AS status; END IF;  PREPARE reset_stmt FROM @query; EXECUTE reset_stmt; DEALLOCATE PREPARE reset_stmt;  SET @query = 'UPDATE performance_schema.setup_instruments SET ENABLED = sys.ps_is_instrument_default_enabled(NAME), TIMED   = sys.ps_is_instrument_default_timed(NAME)';  IF (in_verbose) THEN SELECT CONCAT('Resetting: setup_instruments\n', REPLACE(@query, '  ', '')) AS status; END IF;  PREPARE reset_stmt FROM @query; EXECUTE reset_stmt; DEALLOCATE PREPARE reset_stmt;  SET @query = 'UPDATE performance_schema.setup_consumers SET ENABLED = IF(NAME IN (''events_statements_current'', ''events_transactions_current'', ''global_instrumentation'', ''thread_instrumentation'', ''statements_digest''), ''YES'', ''NO'')';  IF (in_verbose) THEN SELECT CONCAT('Resetting: setup_consumers\n', REPLACE(@query, '  ', '')) AS status; END IF;  PREPARE reset_stmt FROM @query; EXECUTE reset_stmt; DEALLOCATE PREPARE reset_stmt;  SET @query = 'DELETE FROM performance_schema.setup_objects WHERE NOT (OBJECT_TYPE IN (''EVENT'', ''FUNCTION'', ''PROCEDURE'', ''TABLE'', ''TRIGGER'') AND OBJECT_NAME = ''%''  AND (OBJECT_SCHEMA = ''mysql''              AND ENABLED = ''NO''  AND TIMED = ''NO'' ) OR (OBJECT_SCHEMA = ''performance_schema'' AND ENABLED = ''NO''  AND TIMED = ''NO'' ) OR (OBJECT_SCHEMA = ''information_schema'' AND ENABLED = ''NO''  AND TIMED = ''NO'' ) OR (OBJECT_SCHEMA = ''%''                  AND ENABLED = ''YES'' AND TIMED = ''YES''))';  IF (in_verbose) THEN SELECT CONCAT('Resetting: setup_objects\n', REPLACE(@query, '  ', '')) AS status; END IF;  PREPARE reset_stmt FROM @query; EXECUTE reset_stmt; DEALLOCATE PREPARE reset_stmt;  SET @query = 'INSERT IGNORE INTO performance_schema.setup_objects VALUES (''EVENT''    , ''mysql''             , ''%'', ''NO'' , ''NO'' ), (''EVENT''    , ''performance_schema'', ''%'', ''NO'' , ''NO'' ), (''EVENT''    , ''information_schema'', ''%'', ''NO'' , ''NO'' ), (''EVENT''    , ''%''                 , ''%'', ''YES'', ''YES''), (''FUNCTION'' , ''mysql''             , ''%'', ''NO'' , ''NO'' ), (''FUNCTION'' , ''performance_schema'', ''%'', ''NO'' , ''NO'' ), (''FUNCTION'' , ''information_schema'', ''%'', ''NO'' , ''NO'' ), (''FUNCTION'' , ''%''                 , ''%'', ''YES'', ''YES''), (''PROCEDURE'', ''mysql''             , ''%'', ''NO'' , ''NO'' ), (''PROCEDURE'', ''performance_schema'', ''%'', ''NO'' , ''NO'' ), (''PROCEDURE'', ''information_schema'', ''%'', ''NO'' , ''NO'' ), (''PROCEDURE'', ''%''                 , ''%'', ''YES'', ''YES''), (''TABLE''    , ''mysql''             , ''%'', ''NO'' , ''NO'' ), (''TABLE''    , ''performance_schema'', ''%'', ''NO'' , ''NO'' ), (''TABLE''    , ''information_schema'', ''%'', ''NO'' , ''NO'' ), (''TABLE''    , ''%''                 , ''%'', ''YES'', ''YES''), (''TRIGGER''  , ''mysql''             , ''%'', ''NO'' , ''NO'' ), (''TRIGGER''  , ''performance_schema'', ''%'', ''NO'' , ''NO'' ), (''TRIGGER''  , ''information_schema'', ''%'', ''NO'' , ''NO'' ), (''TRIGGER''  , ''%''                 , ''%'', ''YES'', ''YES'')';  IF (in_verbose) THEN SELECT CONCAT('Resetting: setup_objects\n', REPLACE(@query, '  ', '')) AS status; END IF;  PREPARE reset_stmt FROM @query; EXECUTE reset_stmt; DEALLOCATE PREPARE reset_stmt;  SET @query = 'UPDATE performance_schema.threads SET INSTRUMENTED = ''YES''';  IF (in_verbose) THEN SELECT CONCAT('Resetting: threads\n', REPLACE(@query, '  ', '')) AS status; END IF;  PREPARE reset_stmt FROM @query; EXECUTE reset_stmt; DEALLOCATE PREPARE reset_stmt; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_save
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_save`;
delimiter ;;
CREATE PROCEDURE `ps_setup_save`(IN in_timeout INT)
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Saves the current configuration of Performance Schema, \r\n so that you can alter the setup for debugging purposes, \r\n but restore it to a previous state.\r\n \r\n Use the companion procedure - ps_setup_reload_saved(), to \r\n restore the saved config.\r\n \r\n The named lock \"sys.ps_setup_save\" is taken before the\r\n current configuration is saved. If the attempt to get the named\r\n lock times out, an error occurs.\r\n \r\n The lock is released after the settings have been restored by\r\n calling ps_setup_reload_saved().\r\n \r\n Requires the SUPER privilege for \"SET sql_log_bin = 0;\".\r\n \r\n Parameters\r\n \r\n in_timeout INT\r\n The timeout in seconds used when trying to obtain the lock.\r\n A negative timeout means infinite timeout.\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_save(-1);\r\n Query OK, 0 rows affected (0.08 sec)\r\n \r\n mysql> UPDATE performance_schema.setup_instruments \r\n ->    SET enabled = \'YES\', timed = \'YES\';\r\n Query OK, 547 rows affected (0.40 sec)\r\n Rows matched: 784  Changed: 547  Warnings: 0\r\n \r\n /* Run some tests that need more detailed instrumentation here */\r\n \r\n mysql> CALL sys.ps_setup_reload_saved();\r\n Query OK, 0 rows affected (0.32 sec)\r\n '
BEGIN DECLARE v_lock_result INT;  SET @log_bin := @@sql_log_bin; SET sql_log_bin = 0;  SELECT GET_LOCK('sys.ps_setup_save', in_timeout) INTO v_lock_result;  IF v_lock_result THEN DROP TEMPORARY TABLE IF EXISTS tmp_setup_actors; DROP TEMPORARY TABLE IF EXISTS tmp_setup_consumers; DROP TEMPORARY TABLE IF EXISTS tmp_setup_instruments; DROP TEMPORARY TABLE IF EXISTS tmp_threads;  CREATE TEMPORARY TABLE tmp_setup_actors LIKE performance_schema.setup_actors; CREATE TEMPORARY TABLE tmp_setup_consumers LIKE performance_schema.setup_consumers; CREATE TEMPORARY TABLE tmp_setup_instruments LIKE performance_schema.setup_instruments; CREATE TEMPORARY TABLE tmp_threads (THREAD_ID bigint unsigned NOT NULL PRIMARY KEY, INSTRUMENTED enum('YES','NO') NOT NULL);  INSERT INTO tmp_setup_actors SELECT * FROM performance_schema.setup_actors; INSERT INTO tmp_setup_consumers SELECT * FROM performance_schema.setup_consumers; INSERT INTO tmp_setup_instruments SELECT * FROM performance_schema.setup_instruments; INSERT INTO tmp_threads SELECT THREAD_ID, INSTRUMENTED FROM performance_schema.threads; ELSE SIGNAL SQLSTATE VALUE '90000' SET MESSAGE_TEXT = 'Could not lock the sys.ps_setup_save user lock, another thread has a saved configuration'; END IF;  SET sql_log_bin = @log_bin; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_show_disabled
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_show_disabled`;
delimiter ;;
CREATE PROCEDURE `ps_setup_show_disabled`(IN in_show_instruments BOOLEAN, IN in_show_threads BOOLEAN)
  READS SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Shows all currently disable Performance Schema configuration.\r\n \r\n Disabled users is only available for MySQL 5.7.6 and later.\r\n In earlier versions it was only possible to enable users.\r\n \r\n Parameters\r\n \r\n in_show_instruments (BOOLEAN):\r\n Whether to print disabled instruments (can print many items)\r\n \r\n in_show_threads (BOOLEAN):\r\n Whether to print disabled threads\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_show_disabled(TRUE, TRUE);\r\n +----------------------------+\r\n | performance_schema_enabled |\r\n +----------------------------+\r\n |                          1 |\r\n +----------------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n +--------------------+\r\n | disabled_users     |\r\n +--------------------+\r\n | \'mark\'@\'localhost\' |\r\n +--------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n +-------------+----------------------+---------+-------+\r\n | object_type | objects              | enabled | timed |\r\n +-------------+----------------------+---------+-------+\r\n | EVENT       | mysql.%              | NO      | NO    |\r\n | EVENT       | performance_schema.% | NO      | NO    |\r\n | EVENT       | information_schema.% | NO      | NO    |\r\n | FUNCTION    | mysql.%              | NO      | NO    |\r\n | FUNCTION    | performance_schema.% | NO      | NO    |\r\n | FUNCTION    | information_schema.% | NO      | NO    |\r\n | PROCEDURE   | mysql.%              | NO      | NO    |\r\n | PROCEDURE   | performance_schema.% | NO      | NO    |\r\n | PROCEDURE   | information_schema.% | NO      | NO    |\r\n | TABLE       | mysql.%              | NO      | NO    |\r\n | TABLE       | performance_schema.% | NO      | NO    |\r\n | TABLE       | information_schema.% | NO      | NO    |\r\n | TRIGGER     | mysql.%              | NO      | NO    |\r\n | TRIGGER     | performance_schema.% | NO      | NO    |\r\n | TRIGGER     | information_schema.% | NO      | NO    |\r\n +-------------+----------------------+---------+-------+\r\n 15 rows in set (0.00 sec)\r\n \r\n +----------------------------------+\r\n | disabled_consumers               |\r\n +----------------------------------+\r\n | events_stages_current            |\r\n | events_stages_history            |\r\n | events_stages_history_long       |\r\n | events_statements_history        |\r\n | events_statements_history_long   |\r\n | events_transactions_history      |\r\n | events_transactions_history_long |\r\n | events_waits_current             |\r\n | events_waits_history             |\r\n | events_waits_history_long        |\r\n +----------------------------------+\r\n 10 rows in set (0.00 sec)\r\n \r\n Empty set (0.00 sec)\r\n \r\n +---------------------------------------------------------------------------------------+-------+\r\n | disabled_instruments                                                                  | timed |\r\n +---------------------------------------------------------------------------------------+-------+\r\n | wait/synch/mutex/sql/TC_LOG_MMAP::LOCK_tc                                             | NO    |\r\n | wait/synch/mutex/sql/LOCK_des_key_file                                                | NO    |\r\n | wait/synch/mutex/sql/MYSQL_BIN_LOG::LOCK_commit                                       | NO    |\r\n ...\r\n | memory/sql/servers_cache                                                              | NO    |\r\n | memory/sql/udf_mem                                                                    | NO    |\r\n | wait/lock/metadata/sql/mdl                                                            | NO    |\r\n +---------------------------------------------------------------------------------------+-------+\r\n 547 rows in set (0.00 sec)\r\n \r\n Query OK, 0 rows affected (0.01 sec)\r\n '
BEGIN SELECT @@performance_schema AS performance_schema_enabled;   SELECT CONCAT('\'', user, '\'@\'', host, '\'') AS disabled_users FROM performance_schema.setup_actors WHERE enabled = 'NO' ORDER BY disabled_users;   SELECT object_type, CONCAT(object_schema, '.', object_name) AS objects, enabled, timed FROM performance_schema.setup_objects WHERE enabled = 'NO' ORDER BY object_type, objects;  SELECT name AS disabled_consumers FROM performance_schema.setup_consumers WHERE enabled = 'NO' ORDER BY disabled_consumers;  IF (in_show_threads) THEN SELECT IF(name = 'thread/sql/one_connection',  CONCAT(processlist_user, '@', processlist_host),  REPLACE(name, 'thread/', '')) AS disabled_threads, TYPE AS thread_type FROM performance_schema.threads WHERE INSTRUMENTED = 'NO' ORDER BY disabled_threads; END IF;  IF (in_show_instruments) THEN SELECT name AS disabled_instruments, timed FROM performance_schema.setup_instruments WHERE enabled = 'NO' ORDER BY disabled_instruments; END IF; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_show_disabled_consumers
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_show_disabled_consumers`;
delimiter ;;
CREATE PROCEDURE `ps_setup_show_disabled_consumers`()
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Shows all currently disabled consumers.\r\n \r\n Parameters\r\n \r\n None\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_show_disabled_consumers();\r\n \r\n +---------------------------+\r\n | disabled_consumers        |\r\n +---------------------------+\r\n | events_statements_current |\r\n | global_instrumentation    |\r\n | thread_instrumentation    |\r\n | statements_digest         |\r\n +---------------------------+\r\n 4 rows in set (0.05 sec)\r\n '
BEGIN SELECT name AS disabled_consumers FROM performance_schema.setup_consumers WHERE enabled = 'NO' ORDER BY disabled_consumers; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_show_disabled_instruments
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_show_disabled_instruments`;
delimiter ;;
CREATE PROCEDURE `ps_setup_show_disabled_instruments`()
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Shows all currently disabled instruments.\r\n \r\n Parameters\r\n \r\n None\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_show_disabled_instruments();\r\n '
BEGIN SELECT name AS disabled_instruments, timed FROM performance_schema.setup_instruments WHERE enabled = 'NO' ORDER BY disabled_instruments; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_show_enabled
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_show_enabled`;
delimiter ;;
CREATE PROCEDURE `ps_setup_show_enabled`(IN in_show_instruments BOOLEAN, IN in_show_threads BOOLEAN)
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Shows all currently enabled Performance Schema configuration.\r\n \r\n Parameters\r\n \r\n in_show_instruments (BOOLEAN):\r\n Whether to print enabled instruments (can print many items)\r\n \r\n in_show_threads (BOOLEAN):\r\n Whether to print enabled threads\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_show_enabled(TRUE, TRUE);\r\n +----------------------------+\r\n | performance_schema_enabled |\r\n +----------------------------+\r\n |                          1 |\r\n +----------------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n +---------------+\r\n | enabled_users |\r\n +---------------+\r\n | \'%\'@\'%\'       |\r\n +---------------+\r\n 1 row in set (0.01 sec)\r\n \r\n +-------------+---------+---------+-------+\r\n | object_type | objects | enabled | timed |\r\n +-------------+---------+---------+-------+\r\n | EVENT       | %.%     | YES     | YES   |\r\n | FUNCTION    | %.%     | YES     | YES   |\r\n | PROCEDURE   | %.%     | YES     | YES   |\r\n | TABLE       | %.%     | YES     | YES   |\r\n | TRIGGER     | %.%     | YES     | YES   |\r\n +-------------+---------+---------+-------+\r\n 5 rows in set (0.01 sec)\r\n \r\n +---------------------------+\r\n | enabled_consumers         |\r\n +---------------------------+\r\n | events_statements_current |\r\n | global_instrumentation    |\r\n | thread_instrumentation    |\r\n | statements_digest         |\r\n +---------------------------+\r\n 4 rows in set (0.05 sec)\r\n \r\n +---------------------------------+-------------+\r\n | enabled_threads                 | thread_type |\r\n +---------------------------------+-------------+\r\n | sql/main                        | BACKGROUND  |\r\n | sql/thread_timer_notifier       | BACKGROUND  |\r\n | innodb/io_ibuf_thread           | BACKGROUND  |\r\n | innodb/io_log_thread            | BACKGROUND  |\r\n | innodb/io_read_thread           | BACKGROUND  |\r\n | innodb/io_read_thread           | BACKGROUND  |\r\n | innodb/io_write_thread          | BACKGROUND  |\r\n | innodb/io_write_thread          | BACKGROUND  |\r\n | innodb/page_cleaner_thread      | BACKGROUND  |\r\n | innodb/srv_lock_timeout_thread  | BACKGROUND  |\r\n | innodb/srv_error_monitor_thread | BACKGROUND  |\r\n | innodb/srv_monitor_thread       | BACKGROUND  |\r\n | innodb/srv_master_thread        | BACKGROUND  |\r\n | innodb/srv_purge_thread         | BACKGROUND  |\r\n | innodb/srv_worker_thread        | BACKGROUND  |\r\n | innodb/srv_worker_thread        | BACKGROUND  |\r\n | innodb/srv_worker_thread        | BACKGROUND  |\r\n | innodb/buf_dump_thread          | BACKGROUND  |\r\n | innodb/dict_stats_thread        | BACKGROUND  |\r\n | sql/signal_handler              | BACKGROUND  |\r\n | sql/compress_gtid_table         | FOREGROUND  |\r\n | root@localhost                  | FOREGROUND  |\r\n +---------------------------------+-------------+\r\n 22 rows in set (0.01 sec)\r\n \r\n +-------------------------------------+-------+\r\n | enabled_instruments                 | timed |\r\n +-------------------------------------+-------+\r\n | wait/io/file/sql/map                | YES   |\r\n | wait/io/file/sql/binlog             | YES   |\r\n ...\r\n | statement/com/Error                 | YES   |\r\n | statement/com/                      | YES   |\r\n | idle                                | YES   |\r\n +-------------------------------------+-------+\r\n 210 rows in set (0.08 sec)\r\n \r\n Query OK, 0 rows affected (0.89 sec)\r\n '
BEGIN SELECT @@performance_schema AS performance_schema_enabled;  SELECT CONCAT('\'', user, '\'@\'', host, '\'') AS enabled_users FROM performance_schema.setup_actors  WHERE enabled = 'YES'  ORDER BY enabled_users;  SELECT object_type, CONCAT(object_schema, '.', object_name) AS objects, enabled, timed FROM performance_schema.setup_objects WHERE enabled = 'YES' ORDER BY object_type, objects;  SELECT name AS enabled_consumers FROM performance_schema.setup_consumers WHERE enabled = 'YES' ORDER BY enabled_consumers;  IF (in_show_threads) THEN SELECT IF(name = 'thread/sql/one_connection',  CONCAT(processlist_user, '@', processlist_host),  REPLACE(name, 'thread/', '')) AS enabled_threads, TYPE AS thread_type FROM performance_schema.threads WHERE INSTRUMENTED = 'YES' ORDER BY enabled_threads; END IF;  IF (in_show_instruments) THEN SELECT name AS enabled_instruments, timed FROM performance_schema.setup_instruments WHERE enabled = 'YES' ORDER BY enabled_instruments; END IF; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_show_enabled_consumers
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_show_enabled_consumers`;
delimiter ;;
CREATE PROCEDURE `ps_setup_show_enabled_consumers`()
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Shows all currently enabled consumers.\r\n \r\n Parameters\r\n \r\n None\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_show_enabled_consumers();\r\n \r\n +---------------------------+\r\n | enabled_consumers         |\r\n +---------------------------+\r\n | events_statements_current |\r\n | global_instrumentation    |\r\n | thread_instrumentation    |\r\n | statements_digest         |\r\n +---------------------------+\r\n 4 rows in set (0.05 sec)\r\n '
BEGIN SELECT name AS enabled_consumers FROM performance_schema.setup_consumers WHERE enabled = 'YES' ORDER BY enabled_consumers; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_setup_show_enabled_instruments
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_setup_show_enabled_instruments`;
delimiter ;;
CREATE PROCEDURE `ps_setup_show_enabled_instruments`()
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Shows all currently enabled instruments.\r\n \r\n Parameters\r\n \r\n None\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_setup_show_enabled_instruments();\r\n '
BEGIN SELECT name AS enabled_instruments, timed FROM performance_schema.setup_instruments WHERE enabled = 'YES' ORDER BY enabled_instruments; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_statement_avg_latency_histogram
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_statement_avg_latency_histogram`;
delimiter ;;
CREATE PROCEDURE `ps_statement_avg_latency_histogram`()
  READS SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Outputs a textual histogram graph of the average latency values\r\n across all normalized queries tracked within the Performance Schema\r\n events_statements_summary_by_digest table.\r\n \r\n Can be used to show a very high level picture of what kind of \r\n latency distribution statements running within this instance have.\r\n \r\n Parameters\r\n \r\n None.\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_statement_avg_latency_histogram()\\G\r\n *************************** 1. row ***************************\r\n Performance Schema Statement Digest Average Latency Histogram:\r\n \r\n . = 1 unit\r\n * = 2 units\r\n # = 3 units\r\n \r\n (0 - 38ms)     240 | ################################################################################\r\n (38 - 77ms)    38  | ......................................\r\n (77 - 115ms)   3   | ...\r\n (115 - 154ms)  62  | *******************************\r\n (154 - 192ms)  3   | ...\r\n (192 - 231ms)  0   |\r\n (231 - 269ms)  0   |\r\n (269 - 307ms)  0   |\r\n (307 - 346ms)  0   |\r\n (346 - 384ms)  1   | .\r\n (384 - 423ms)  1   | .\r\n (423 - 461ms)  0   |\r\n (461 - 499ms)  0   |\r\n (499 - 538ms)  0   |\r\n (538 - 576ms)  0   |\r\n (576 - 615ms)  1   | .\r\n \r\n Total Statements: 350; Buckets: 16; Bucket Size: 38 ms;\r\n '
BEGIN SELECT CONCAT('\n', '\n  . = 1 unit', '\n  * = 2 units', '\n  # = 3 units\n', @label := CONCAT(@label_inner := CONCAT('\n(0 - ', ROUND((@bucket_size := (SELECT ROUND((MAX(avg_us) - MIN(avg_us)) / (@buckets := 16)) AS size FROM sys.x$ps_digest_avg_latency_distribution)) / (@unit_div := 1000)), (@unit := 'ms'), ')'), REPEAT(' ', (@max_label_size := ((1 + LENGTH(ROUND((@bucket_size * 15) / @unit_div)) + 3 + LENGTH(ROUND(@bucket_size * 16) / @unit_div)) + 1)) - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us <= @bucket_size), 0)), REPEAT(' ', (@max_label_len := (@max_label_size + LENGTH((@total_queries := (SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution)))) + 1) - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < (@one_unit := 40), '.', IF(@count_in_bucket < (@two_unit := 80), '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''),  @label := CONCAT(@label_inner := CONCAT('\n(', ROUND(@bucket_size / @unit_div), ' - ', ROUND((@bucket_size * 2) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size AND b1.avg_us <= @bucket_size * 2), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 2) / @unit_div), ' - ', ROUND((@bucket_size * 3) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 2 AND b1.avg_us <= @bucket_size * 3), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 3) / @unit_div), ' - ', ROUND((@bucket_size * 4) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 3 AND b1.avg_us <= @bucket_size * 4), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 4) / @unit_div), ' - ', ROUND((@bucket_size * 5) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 4 AND b1.avg_us <= @bucket_size * 5), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 5) / @unit_div), ' - ', ROUND((@bucket_size * 6) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 5 AND b1.avg_us <= @bucket_size * 6), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 6) / @unit_div), ' - ', ROUND((@bucket_size * 7) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 6 AND b1.avg_us <= @bucket_size * 7), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 7) / @unit_div), ' - ', ROUND((@bucket_size * 8) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 7 AND b1.avg_us <= @bucket_size * 8), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 8) / @unit_div), ' - ', ROUND((@bucket_size * 9) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 8 AND b1.avg_us <= @bucket_size * 9), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 9) / @unit_div), ' - ', ROUND((@bucket_size * 10) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 9 AND b1.avg_us <= @bucket_size * 10), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 10) / @unit_div), ' - ', ROUND((@bucket_size * 11) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 10 AND b1.avg_us <= @bucket_size * 11), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 11) / @unit_div), ' - ', ROUND((@bucket_size * 12) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 11 AND b1.avg_us <= @bucket_size * 12), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 12) / @unit_div), ' - ', ROUND((@bucket_size * 13) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 12 AND b1.avg_us <= @bucket_size * 13), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 13) / @unit_div), ' - ', ROUND((@bucket_size * 14) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 13 AND b1.avg_us <= @bucket_size * 14), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 14) / @unit_div), ' - ', ROUND((@bucket_size * 15) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 14 AND b1.avg_us <= @bucket_size * 15), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''), @label := CONCAT(@label_inner := CONCAT('\n(', ROUND((@bucket_size * 15) / @unit_div), ' - ', ROUND((@bucket_size * 16) / @unit_div), @unit, ')'), REPEAT(' ', @max_label_size - LENGTH(@label_inner)), @count_in_bucket := IFNULL((SELECT SUM(cnt) FROM sys.x$ps_digest_avg_latency_distribution AS b1  WHERE b1.avg_us > @bucket_size * 15 AND b1.avg_us <= @bucket_size * 16), 0)), REPEAT(' ', @max_label_len - LENGTH(@label)), '| ', IFNULL(REPEAT(IF(@count_in_bucket < @one_unit, '.', IF(@count_in_bucket < @two_unit, '*', '#')),  	             IF(@count_in_bucket < @one_unit, @count_in_bucket, 	             	IF(@count_in_bucket < @two_unit, @count_in_bucket / 2, @count_in_bucket / 3))), ''),  '\n\n  Total Statements: ', @total_queries, '; Buckets: ', @buckets , '; Bucket Size: ', ROUND(@bucket_size / @unit_div) , ' ', @unit, ';\n'  ) AS `Performance Schema Statement Digest Average Latency Histogram`;  END
;;
delimiter ;

-- ----------------------------
-- Function structure for ps_thread_account
-- ----------------------------
DROP FUNCTION IF EXISTS `ps_thread_account`;
delimiter ;;
CREATE FUNCTION `ps_thread_account`(in_thread_id BIGINT UNSIGNED)
 RETURNS text CHARSET utf8mb4
  READS SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Return the user@host account for the given Performance Schema thread id.\r\n \r\n Parameters\r\n \r\n in_thread_id (BIGINT UNSIGNED):\r\n The id of the thread to return the account for.\r\n \r\n Example\r\n \r\n mysql> select thread_id, processlist_user, processlist_host from performance_schema.threads where type = \'foreground\';\r\n +-----------+------------------+------------------+\r\n | thread_id | processlist_user | processlist_host |\r\n +-----------+------------------+------------------+\r\n |        23 | NULL             | NULL             |\r\n |        30 | root             | localhost        |\r\n |        31 | msandbox         | localhost        |\r\n |        32 | msandbox         | localhost        |\r\n +-----------+------------------+------------------+\r\n 4 rows in set (0.00 sec)\r\n \r\n mysql> select sys.ps_thread_account(31);\r\n +---------------------------+\r\n | sys.ps_thread_account(31) |\r\n +---------------------------+\r\n | msandbox@localhost        |\r\n +---------------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN RETURN (SELECT IF( type = 'FOREGROUND', CONCAT(processlist_user, '@', processlist_host), type ) AS account FROM `performance_schema`.`threads` WHERE thread_id = in_thread_id); END
;;
delimiter ;

-- ----------------------------
-- Function structure for ps_thread_id
-- ----------------------------
DROP FUNCTION IF EXISTS `ps_thread_id`;
delimiter ;;
CREATE FUNCTION `ps_thread_id`(in_connection_id BIGINT UNSIGNED)
 RETURNS bigint(20) unsigned
  READS SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Return the Performance Schema THREAD_ID for the specified connection ID.\r\n \r\n Parameters\r\n \r\n in_connection_id (BIGINT UNSIGNED):\r\n The id of the connection to return the thread id for. If NULL, the current\r\n connection thread id is returned.\r\n \r\n Example\r\n \r\n mysql> SELECT sys.ps_thread_id(79);\r\n +----------------------+\r\n | sys.ps_thread_id(79) |\r\n +----------------------+\r\n |                   98 |\r\n +----------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> SELECT sys.ps_thread_id(CONNECTION_ID());\r\n +-----------------------------------+\r\n | sys.ps_thread_id(CONNECTION_ID()) |\r\n +-----------------------------------+\r\n |                                98 |\r\n +-----------------------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN RETURN (SELECT THREAD_ID FROM `performance_schema`.`threads` WHERE PROCESSLIST_ID = IFNULL(in_connection_id, CONNECTION_ID()) ); END
;;
delimiter ;

-- ----------------------------
-- Function structure for ps_thread_stack
-- ----------------------------
DROP FUNCTION IF EXISTS `ps_thread_stack`;
delimiter ;;
CREATE FUNCTION `ps_thread_stack`(thd_id BIGINT UNSIGNED, debug BOOLEAN)
 RETURNS longtext CHARSET latin1
  READS SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Outputs a JSON formatted stack of all statements, stages and events\r\n within Performance Schema for the specified thread.\r\n \r\n Parameters\r\n \r\n thd_id (BIGINT UNSIGNED):\r\n The id of the thread to trace. This should match the thread_id\r\n column from the performance_schema.threads table.\r\n in_verbose (BOOLEAN):\r\n Include file:lineno information in the events.\r\n \r\n Example\r\n \r\n (line separation added for output)\r\n \r\n mysql> SELECT sys.ps_thread_stack(37, FALSE) AS thread_stack\\G\r\n *************************** 1. row ***************************\r\n thread_stack: {\"rankdir\": \"LR\",\"nodesep\": \"0.10\",\"stack_created\": \"2014-02-19 13:39:03\",\r\n \"mysql_version\": \"5.7.3-m13\",\"mysql_user\": \"root@localhost\",\"events\": \r\n [{\"nesting_event_id\": \"0\", \"event_id\": \"10\", \"timer_wait\": 256.35, \"event_info\": \r\n \"sql/select\", \"wait_info\": \"select @@version_comment limit 1\\nerrors: 0\\nwarnings: 0\\nlock time:\r\n ...\r\n '
BEGIN  DECLARE json_objects LONGTEXT;   UPDATE performance_schema.threads SET instrumented = 'NO' WHERE processlist_id = CONNECTION_ID();   SET SESSION group_concat_max_len=@@global.max_allowed_packet;  SELECT GROUP_CONCAT(CONCAT( '{' , CONCAT_WS( ', ' , CONCAT('"nesting_event_id": "', IF(nesting_event_id IS NULL, '0', nesting_event_id), '"') , CONCAT('"event_id": "', event_id, '"') , CONCAT( '"timer_wait": ', ROUND(timer_wait/1000000, 2))   , CONCAT( '"event_info": "' , CASE WHEN event_name NOT LIKE 'wait/io%' THEN REPLACE(SUBSTRING_INDEX(event_name, '/', -2), '\\', '\\\\') WHEN event_name NOT LIKE 'wait/io/file%' OR event_name NOT LIKE 'wait/io/socket%' THEN REPLACE(SUBSTRING_INDEX(event_name, '/', -4), '\\', '\\\\') ELSE event_name END , '"' ) , CONCAT( '"wait_info": "', IFNULL(wait_info, ''), '"') , CONCAT( '"source": "', IF(true AND event_name LIKE 'wait%', IFNULL(wait_info, ''), ''), '"') , CASE  WHEN event_name LIKE 'wait/io/file%'      THEN '"event_type": "io/file"' WHEN event_name LIKE 'wait/io/table%'     THEN '"event_type": "io/table"' WHEN event_name LIKE 'wait/io/socket%'    THEN '"event_type": "io/socket"' WHEN event_name LIKE 'wait/synch/mutex%'  THEN '"event_type": "synch/mutex"' WHEN event_name LIKE 'wait/synch/cond%'   THEN '"event_type": "synch/cond"' WHEN event_name LIKE 'wait/synch/rwlock%' THEN '"event_type": "synch/rwlock"' WHEN event_name LIKE 'wait/lock%'         THEN '"event_type": "lock"' WHEN event_name LIKE 'statement/%'        THEN '"event_type": "stmt"' WHEN event_name LIKE 'stage/%'            THEN '"event_type": "stage"' WHEN event_name LIKE '%idle%'             THEN '"event_type": "idle"' ELSE ''  END                    ) , '}' ) ORDER BY event_id ASC SEPARATOR ',') event INTO json_objects FROM (  (SELECT thread_id, event_id, event_name, timer_wait, timer_start, nesting_event_id,  CONCAT(sql_text, '\\n', 'errors: ', errors, '\\n', 'warnings: ', warnings, '\\n', 'lock time: ', ROUND(lock_time/1000000, 2),'us\\n', 'rows affected: ', rows_affected, '\\n', 'rows sent: ', rows_sent, '\\n', 'rows examined: ', rows_examined, '\\n', 'tmp tables: ', created_tmp_tables, '\\n', 'tmp disk tables: ', created_tmp_disk_tables, '\\n', 'select scan: ', select_scan, '\\n', 'select full join: ', select_full_join, '\\n', 'select full range join: ', select_full_range_join, '\\n', 'select range: ', select_range, '\\n', 'select range check: ', select_range_check, '\\n',  'sort merge passes: ', sort_merge_passes, '\\n', 'sort rows: ', sort_rows, '\\n', 'sort range: ', sort_range, '\\n', 'sort scan: ', sort_scan, '\\n', 'no index used: ', IF(no_index_used, 'TRUE', 'FALSE'), '\\n', 'no good index used: ', IF(no_good_index_used, 'TRUE', 'FALSE'), '\\n' ) AS wait_info FROM performance_schema.events_statements_history_long WHERE thread_id = thd_id) UNION  (SELECT thread_id, event_id, event_name, timer_wait, timer_start, nesting_event_id, null AS wait_info FROM performance_schema.events_stages_history_long WHERE thread_id = thd_id)  UNION  (SELECT thread_id, event_id,  CONCAT(event_name ,  IF(event_name NOT LIKE 'wait/synch/mutex%', IFNULL(CONCAT(' - ', operation), ''), ''),  IF(number_of_bytes IS NOT NULL, CONCAT(' ', number_of_bytes, ' bytes'), ''), IF(event_name LIKE 'wait/io/file%', '\\n', ''), IF(object_schema IS NOT NULL, CONCAT('\\nObject: ', object_schema, '.'), ''),  IF(object_name IS NOT NULL,  IF (event_name LIKE 'wait/io/socket%', CONCAT(IF (object_name LIKE ':0%', @@socket, object_name)), object_name), ''),  IF(index_name IS NOT NULL, CONCAT(' Index: ', index_name), ''), '\\n' ) AS event_name, timer_wait, timer_start, nesting_event_id, source AS wait_info FROM performance_schema.events_waits_history_long WHERE thread_id = thd_id)) events  ORDER BY event_id;  RETURN CONCAT('{',  CONCAT_WS(',',  '"rankdir": "LR"', '"nodesep": "0.10"', CONCAT('"stack_created": "', NOW(), '"'), CONCAT('"mysql_version": "', VERSION(), '"'), CONCAT('"mysql_user": "', CURRENT_USER(), '"'), CONCAT('"events": [', IFNULL(json_objects,''), ']') ), '}');  END
;;
delimiter ;

-- ----------------------------
-- Function structure for ps_thread_trx_info
-- ----------------------------
DROP FUNCTION IF EXISTS `ps_thread_trx_info`;
delimiter ;;
CREATE FUNCTION `ps_thread_trx_info`(in_thread_id BIGINT UNSIGNED)
 RETURNS longtext CHARSET utf8mb4
  READS SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Returns a JSON object with info on the given threads current transaction, \r\n and the statements it has already executed, derived from the\r\n performance_schema.events_transactions_current and\r\n performance_schema.events_statements_history tables (so the consumers \r\n for these also have to be enabled within Performance Schema to get full\r\n data in the object).\r\n \r\n When the output exceeds the default truncation length (65535), a JSON error\r\n object is returned, such as:\r\n \r\n { \"error\": \"Trx info truncated: Row 6 was cut by GROUP_CONCAT()\" }\r\n \r\n Similar error objects are returned for other warnings/and exceptions raised\r\n when calling the function.\r\n \r\n The max length of the output of this function can be controlled with the\r\n ps_thread_trx_info.max_length variable set via sys_config, or the\r\n @sys.ps_thread_trx_info.max_length user variable, as appropriate.\r\n \r\n Parameters\r\n \r\n in_thread_id (BIGINT UNSIGNED):\r\n The id of the thread to return the transaction info for.\r\n \r\n Example\r\n \r\n SELECT sys.ps_thread_trx_info(48)\\G\r\n *************************** 1. row ***************************\r\n sys.ps_thread_trx_info(48): [\r\n {\r\n \"time\": \"790.70 us\",\r\n \"state\": \"COMMITTED\",\r\n \"mode\": \"READ WRITE\",\r\n \"autocommitted\": \"NO\",\r\n \"gtid\": \"AUTOMATIC\",\r\n \"isolation\": \"REPEATABLE READ\",\r\n \"statements_executed\": [\r\n {\r\n \"sql_text\": \"INSERT INTO info VALUES (1, \'foo\')\",\r\n \"time\": \"471.02 us\",\r\n \"schema\": \"trx\",\r\n \"rows_examined\": 0,\r\n \"rows_affected\": 1,\r\n \"rows_sent\": 0,\r\n \"tmp_tables\": 0,\r\n \"tmp_disk_tables\": 0,\r\n \"sort_rows\": 0,\r\n \"sort_merge_passes\": 0\r\n },\r\n {\r\n \"sql_text\": \"COMMIT\",\r\n \"time\": \"254.42 us\",\r\n \"schema\": \"trx\",\r\n \"rows_examined\": 0,\r\n \"rows_affected\": 0,\r\n \"rows_sent\": 0,\r\n \"tmp_tables\": 0,\r\n \"tmp_disk_tables\": 0,\r\n \"sort_rows\": 0,\r\n \"sort_merge_passes\": 0\r\n }\r\n ]\r\n },\r\n {\r\n \"time\": \"426.20 us\",\r\n \"state\": \"COMMITTED\",\r\n \"mode\": \"READ WRITE\",\r\n \"autocommitted\": \"NO\",\r\n \"gtid\": \"AUTOMATIC\",\r\n \"isolation\": \"REPEATABLE READ\",\r\n \"statements_executed\": [\r\n {\r\n \"sql_text\": \"INSERT INTO info VALUES (2, \'bar\')\",\r\n \"time\": \"107.33 us\",\r\n \"schema\": \"trx\",\r\n \"rows_examined\": 0,\r\n \"rows_affected\": 1,\r\n \"rows_sent\": 0,\r\n \"tmp_tables\": 0,\r\n \"tmp_disk_tables\": 0,\r\n \"sort_rows\": 0,\r\n \"sort_merge_passes\": 0\r\n },\r\n {\r\n \"sql_text\": \"COMMIT\",\r\n \"time\": \"213.23 us\",\r\n \"schema\": \"trx\",\r\n \"rows_examined\": 0,\r\n \"rows_affected\": 0,\r\n \"rows_sent\": 0,\r\n \"tmp_tables\": 0,\r\n \"tmp_disk_tables\": 0,\r\n \"sort_rows\": 0,\r\n \"sort_merge_passes\": 0\r\n }\r\n ]\r\n }\r\n ]\r\n 1 row in set (0.03 sec)\r\n '
BEGIN DECLARE v_output LONGTEXT DEFAULT '{}'; DECLARE v_msg_text TEXT DEFAULT ''; DECLARE v_signal_msg TEXT DEFAULT ''; DECLARE v_mysql_errno INT; DECLARE v_max_output_len BIGINT; DECLARE EXIT HANDLER FOR SQLWARNING, SQLEXCEPTION BEGIN GET DIAGNOSTICS CONDITION 1 v_msg_text = MESSAGE_TEXT, v_mysql_errno = MYSQL_ERRNO;  IF v_mysql_errno = 1260 THEN SET v_signal_msg = CONCAT('{ "error": "Trx info truncated: ', v_msg_text, '" }'); ELSE SET v_signal_msg = CONCAT('{ "error": "', v_msg_text, '" }'); END IF;  RETURN v_signal_msg; END;  IF (@sys.ps_thread_trx_info.max_length IS NULL) THEN SET @sys.ps_thread_trx_info.max_length = sys.sys_get_config('ps_thread_trx_info.max_length', 65535); END IF;  IF (@sys.ps_thread_trx_info.max_length != @@session.group_concat_max_len) THEN SET @old_group_concat_max_len = @@session.group_concat_max_len; SET v_max_output_len = (@sys.ps_thread_trx_info.max_length - 5); SET SESSION group_concat_max_len = v_max_output_len; END IF;  SET v_output = ( SELECT CONCAT('[', IFNULL(GROUP_CONCAT(trx_info ORDER BY event_id), ''), '\n]') AS trx_info FROM (SELECT trxi.thread_id,  trxi.event_id, GROUP_CONCAT( IFNULL( CONCAT('\n  {\n', '    "time": "', IFNULL(sys.format_time(trxi.timer_wait), ''), '",\n', '    "state": "', IFNULL(trxi.state, ''), '",\n', '    "mode": "', IFNULL(trxi.access_mode, ''), '",\n', '    "autocommitted": "', IFNULL(trxi.autocommit, ''), '",\n', '    "gtid": "', IFNULL(trxi.gtid, ''), '",\n', '    "isolation": "', IFNULL(trxi.isolation_level, ''), '",\n', '    "statements_executed": [', IFNULL(s.stmts, ''), IF(s.stmts IS NULL, ' ]\n', '\n    ]\n'), '  }' ),  '')  ORDER BY event_id) AS trx_info  FROM ( (SELECT thread_id, event_id, timer_wait, state,access_mode, autocommit, gtid, isolation_level FROM performance_schema.events_transactions_current WHERE thread_id = in_thread_id AND end_event_id IS NULL) UNION (SELECT thread_id, event_id, timer_wait, state,access_mode, autocommit, gtid, isolation_level FROM performance_schema.events_transactions_history WHERE thread_id = in_thread_id) ) AS trxi LEFT JOIN (SELECT thread_id, nesting_event_id, GROUP_CONCAT( IFNULL( CONCAT('\n      {\n', '        "sql_text": "', IFNULL(sys.format_statement(REPLACE(sql_text, '\\', '\\\\')), ''), '",\n', '        "time": "', IFNULL(sys.format_time(timer_wait), ''), '",\n', '        "schema": "', IFNULL(current_schema, ''), '",\n', '        "rows_examined": ', IFNULL(rows_examined, ''), ',\n', '        "rows_affected": ', IFNULL(rows_affected, ''), ',\n', '        "rows_sent": ', IFNULL(rows_sent, ''), ',\n', '        "tmp_tables": ', IFNULL(created_tmp_tables, ''), ',\n', '        "tmp_disk_tables": ', IFNULL(created_tmp_disk_tables, ''), ',\n', '        "sort_rows": ', IFNULL(sort_rows, ''), ',\n', '        "sort_merge_passes": ', IFNULL(sort_merge_passes, ''), '\n', '      }'), '') ORDER BY event_id) AS stmts FROM performance_schema.events_statements_history WHERE sql_text IS NOT NULL AND thread_id = in_thread_id GROUP BY thread_id, nesting_event_id ) AS s  ON trxi.thread_id = s.thread_id  AND trxi.event_id = s.nesting_event_id WHERE trxi.thread_id = in_thread_id GROUP BY trxi.thread_id, trxi.event_id ) trxs GROUP BY thread_id );  IF (@old_group_concat_max_len IS NOT NULL) THEN SET SESSION group_concat_max_len = @old_group_concat_max_len; END IF;  RETURN v_output; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_trace_statement_digest
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_trace_statement_digest`;
delimiter ;;
CREATE PROCEDURE `ps_trace_statement_digest`(IN in_digest VARCHAR(64), IN in_runtime INT, IN in_interval DECIMAL(2,2), IN in_start_fresh BOOLEAN, IN in_auto_enable BOOLEAN)
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Traces all instrumentation within Performance Schema for a specific\r\n Statement Digest.\r\n \r\n When finding a statement of interest within the\r\n performance_schema.events_statements_summary_by_digest table, feed\r\n the DIGEST value in to this procedure, set how long to poll for,\r\n and at what interval to poll, and it will generate a report of all\r\n statistics tracked within Performance Schema for that digest for the\r\n interval.\r\n \r\n It will also attempt to generate an EXPLAIN for the longest running\r\n example of the digest during the interval. Note this may fail, as:\r\n \r\n * Performance Schema truncates long SQL_TEXT values (and hence the\r\n EXPLAIN will fail due to parse errors)\r\n * the default schema is sys (so tables that are not fully qualified\r\n in the query may not be found)\r\n * some queries such as SHOW are not supported in EXPLAIN.\r\n \r\n When the EXPLAIN fails, the error will be ignored and no EXPLAIN\r\n output generated.\r\n \r\n Requires the SUPER privilege for \"SET sql_log_bin = 0;\".\r\n \r\n Parameters\r\n \r\n in_digest (VARCHAR(64)):\r\n The statement digest identifier you would like to analyze\r\n in_runtime (INT):\r\n The number of seconds to run analysis for\r\n in_interval (DECIMAL(2,2)):\r\n The interval (in seconds, may be fractional) at which to try\r\n and take snapshots\r\n in_start_fresh (BOOLEAN):\r\n Whether to TRUNCATE the events_statements_history_long and\r\n events_stages_history_long tables before starting\r\n in_auto_enable (BOOLEAN):\r\n Whether to automatically turn on required consumers\r\n \r\n Example\r\n \r\n mysql> call ps_trace_statement_digest(\'891ec6860f98ba46d89dd20b0c03652c\', 10, 0.1, true, true);\r\n +--------------------+\r\n | SUMMARY STATISTICS |\r\n +--------------------+\r\n | SUMMARY STATISTICS |\r\n +--------------------+\r\n 1 row in set (9.11 sec)\r\n \r\n +------------+-----------+-----------+-----------+---------------+------------+------------+\r\n | executions | exec_time | lock_time | rows_sent | rows_examined | tmp_tables | full_scans |\r\n +------------+-----------+-----------+-----------+---------------+------------+------------+\r\n |         21 | 4.11 ms   | 2.00 ms   |         0 |            21 |          0 |          0 |\r\n +------------+-----------+-----------+-----------+---------------+------------+------------+\r\n 1 row in set (9.11 sec)\r\n \r\n +------------------------------------------+-------+-----------+\r\n | event_name                               | count | latency   |\r\n +------------------------------------------+-------+-----------+\r\n | stage/sql/checking query cache for query |    16 | 724.37 us |\r\n | stage/sql/statistics                     |    16 | 546.92 us |\r\n | stage/sql/freeing items                  |    18 | 520.11 us |\r\n | stage/sql/init                           |    51 | 466.80 us |\r\n ...\r\n | stage/sql/cleaning up                    |    18 | 11.92 us  |\r\n | stage/sql/executing                      |    16 | 6.95 us   |\r\n +------------------------------------------+-------+-----------+\r\n 17 rows in set (9.12 sec)\r\n \r\n +---------------------------+\r\n | LONGEST RUNNING STATEMENT |\r\n +---------------------------+\r\n | LONGEST RUNNING STATEMENT |\r\n +---------------------------+\r\n 1 row in set (9.16 sec)\r\n \r\n +-----------+-----------+-----------+-----------+---------------+------------+-----------+\r\n | thread_id | exec_time | lock_time | rows_sent | rows_examined | tmp_tables | full_scan |\r\n +-----------+-----------+-----------+-----------+---------------+------------+-----------+\r\n |    166646 | 618.43 us | 1.00 ms   |         0 |             1 |          0 |         0 |\r\n +-----------+-----------+-----------+-----------+---------------+------------+-----------+\r\n 1 row in set (9.16 sec)\r\n \r\n // Truncated for clarity...\r\n +-----------------------------------------------------------------+\r\n | sql_text                                                        |\r\n +-----------------------------------------------------------------+\r\n | select hibeventhe0_.id as id1382_, hibeventhe0_.createdTime ... |\r\n +-----------------------------------------------------------------+\r\n 1 row in set (9.17 sec)\r\n \r\n +------------------------------------------+-----------+\r\n | event_name                               | latency   |\r\n +------------------------------------------+-----------+\r\n | stage/sql/init                           | 8.61 us   |\r\n | stage/sql/Waiting for query cache lock   | 453.23 us |\r\n | stage/sql/init                           | 331.07 ns |\r\n | stage/sql/checking query cache for query | 43.04 us  |\r\n ...\r\n | stage/sql/freeing items                  | 30.46 us  |\r\n | stage/sql/cleaning up                    | 662.13 ns |\r\n +------------------------------------------+-----------+\r\n 18 rows in set (9.23 sec)\r\n \r\n +----+-------------+--------------+-------+---------------+-----------+---------+-------------+------+-------+\r\n | id | select_type | table        | type  | possible_keys | key       | key_len | ref         | rows | Extra |\r\n +----+-------------+--------------+-------+---------------+-----------+---------+-------------+------+-------+\r\n |  1 | SIMPLE      | hibeventhe0_ | const | fixedTime     | fixedTime | 775     | const,const |    1 | NULL  |\r\n +----+-------------+--------------+-------+---------------+-----------+---------+-------------+------+-------+\r\n 1 row in set (9.27 sec)\r\n \r\n Query OK, 0 rows affected (9.28 sec)\r\n '
BEGIN  DECLARE v_start_fresh BOOLEAN DEFAULT false; DECLARE v_auto_enable BOOLEAN DEFAULT false; DECLARE v_explain     BOOLEAN DEFAULT true; DECLARE v_this_thread_enabed ENUM('YES', 'NO'); DECLARE v_runtime INT DEFAULT 0; DECLARE v_start INT DEFAULT 0; DECLARE v_found_stmts INT;  SET @log_bin := @@sql_log_bin; SET sql_log_bin = 0;  SELECT INSTRUMENTED INTO v_this_thread_enabed FROM performance_schema.threads WHERE PROCESSLIST_ID = CONNECTION_ID(); CALL sys.ps_setup_disable_thread(CONNECTION_ID());  DROP TEMPORARY TABLE IF EXISTS stmt_trace; CREATE TEMPORARY TABLE stmt_trace ( thread_id BIGINT UNSIGNED, timer_start BIGINT UNSIGNED, event_id BIGINT UNSIGNED, sql_text longtext, timer_wait BIGINT UNSIGNED, lock_time BIGINT UNSIGNED, errors BIGINT UNSIGNED, mysql_errno INT, rows_sent BIGINT UNSIGNED, rows_affected BIGINT UNSIGNED, rows_examined BIGINT UNSIGNED, created_tmp_tables BIGINT UNSIGNED, created_tmp_disk_tables BIGINT UNSIGNED, no_index_used BIGINT UNSIGNED, PRIMARY KEY (thread_id, timer_start) );  DROP TEMPORARY TABLE IF EXISTS stmt_stages; CREATE TEMPORARY TABLE stmt_stages ( event_id BIGINT UNSIGNED, stmt_id BIGINT UNSIGNED, event_name VARCHAR(128), timer_wait BIGINT UNSIGNED, PRIMARY KEY (event_id) );  SET v_start_fresh = in_start_fresh; IF v_start_fresh THEN TRUNCATE TABLE performance_schema.events_statements_history_long; TRUNCATE TABLE performance_schema.events_stages_history_long; END IF;  SET v_auto_enable = in_auto_enable; IF v_auto_enable THEN CALL sys.ps_setup_save(0);  UPDATE performance_schema.threads SET INSTRUMENTED = IF(PROCESSLIST_ID IS NOT NULL, 'YES', 'NO');  UPDATE performance_schema.setup_consumers SET ENABLED = 'YES' WHERE NAME NOT LIKE '%\_history' AND NAME NOT LIKE 'events_wait%' AND NAME NOT LIKE 'events_transactions%' AND NAME <> 'statements_digest';  UPDATE performance_schema.setup_instruments SET ENABLED = 'YES', TIMED   = 'YES' WHERE NAME LIKE 'statement/%' OR NAME LIKE 'stage/%'; END IF;  WHILE v_runtime < in_runtime DO SELECT UNIX_TIMESTAMP() INTO v_start;  INSERT IGNORE INTO stmt_trace SELECT thread_id, timer_start, event_id, sql_text, timer_wait, lock_time, errors, mysql_errno,  rows_sent, rows_affected, rows_examined, created_tmp_tables, created_tmp_disk_tables, no_index_used FROM performance_schema.events_statements_history_long WHERE digest = in_digest;  INSERT IGNORE INTO stmt_stages SELECT stages.event_id, stmt_trace.event_id, stages.event_name, stages.timer_wait FROM performance_schema.events_stages_history_long AS stages JOIN stmt_trace ON stages.nesting_event_id = stmt_trace.event_id;  SELECT SLEEP(in_interval) INTO @sleep; SET v_runtime = v_runtime + (UNIX_TIMESTAMP() - v_start); END WHILE;  SELECT "SUMMARY STATISTICS";  SELECT COUNT(*) executions, sys.format_time(SUM(timer_wait)) AS exec_time, sys.format_time(SUM(lock_time)) AS lock_time, SUM(rows_sent) AS rows_sent, SUM(rows_affected) AS rows_affected, SUM(rows_examined) AS rows_examined, SUM(created_tmp_tables) AS tmp_tables, SUM(no_index_used) AS full_scans FROM stmt_trace;  SELECT event_name, COUNT(*) as count, sys.format_time(SUM(timer_wait)) as latency FROM stmt_stages GROUP BY event_name ORDER BY SUM(timer_wait) DESC;  SELECT "LONGEST RUNNING STATEMENT";  SELECT thread_id, sys.format_time(timer_wait) AS exec_time, sys.format_time(lock_time) AS lock_time, rows_sent, rows_affected, rows_examined, created_tmp_tables AS tmp_tables, no_index_used AS full_scan FROM stmt_trace ORDER BY timer_wait DESC LIMIT 1;  SELECT sql_text FROM stmt_trace ORDER BY timer_wait DESC LIMIT 1;  SELECT sql_text, event_id INTO @sql, @sql_id FROM stmt_trace ORDER BY timer_wait DESC LIMIT 1;  IF (@sql_id IS NOT NULL) THEN SELECT event_name, sys.format_time(timer_wait) as latency FROM stmt_stages WHERE stmt_id = @sql_id ORDER BY event_id; END IF;  DROP TEMPORARY TABLE stmt_trace; DROP TEMPORARY TABLE stmt_stages;  IF (@sql IS NOT NULL) THEN SET @stmt := CONCAT("EXPLAIN FORMAT=JSON ", @sql); BEGIN DECLARE CONTINUE HANDLER FOR 1064, 1146 SET v_explain = false;  PREPARE explain_stmt FROM @stmt; END;  IF (v_explain) THEN EXECUTE explain_stmt; DEALLOCATE PREPARE explain_stmt; END IF; END IF;  IF v_auto_enable THEN CALL sys.ps_setup_reload_saved(); END IF; IF (v_this_thread_enabed = 'YES') THEN CALL sys.ps_setup_enable_thread(CONNECTION_ID()); END IF;  SET sql_log_bin = @log_bin; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_trace_thread
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_trace_thread`;
delimiter ;;
CREATE PROCEDURE `ps_trace_thread`(IN in_thread_id BIGINT UNSIGNED, IN in_outfile VARCHAR(255), IN in_max_runtime DECIMAL(20,2), IN in_interval DECIMAL(20,2), IN in_start_fresh BOOLEAN, IN in_auto_setup BOOLEAN, IN in_debug BOOLEAN)
  MODIFIES SQL DATA 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Dumps all data within Performance Schema for an instrumented thread,\r\n to create a DOT formatted graph file. \r\n \r\n Each resultset returned from the procedure should be used for a complete graph\r\n \r\n Requires the SUPER privilege for \"SET sql_log_bin = 0;\".\r\n \r\n Parameters\r\n \r\n in_thread_id (BIGINT UNSIGNED):\r\n The thread that you would like a stack trace for\r\n in_outfile  (VARCHAR(255)):\r\n The filename the dot file will be written to\r\n in_max_runtime (DECIMAL(20,2)):\r\n The maximum time to keep collecting data.\r\n Use NULL to get the default which is 60 seconds.\r\n in_interval (DECIMAL(20,2)): \r\n How long to sleep between data collections. \r\n Use NULL to get the default which is 1 second.\r\n in_start_fresh (BOOLEAN):\r\n Whether to reset all Performance Schema data before tracing.\r\n in_auto_setup (BOOLEAN):\r\n Whether to disable all other threads and enable all consumers/instruments. \r\n This will also reset the settings at the end of the run.\r\n in_debug (BOOLEAN):\r\n Whether you would like to include file:lineno in the graph\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_trace_thread(25, CONCAT(\'/tmp/stack-\', REPLACE(NOW(), \' \', \'-\'), \'.dot\'), NULL, NULL, TRUE, TRUE, TRUE);\r\n +-------------------+\r\n | summary           |\r\n +-------------------+\r\n | Disabled 1 thread |\r\n +-------------------+\r\n 1 row in set (0.00 sec)\r\n \r\n +---------------------------------------------+\r\n | Info                                        |\r\n +---------------------------------------------+\r\n | Data collection starting for THREAD_ID = 25 |\r\n +---------------------------------------------+\r\n 1 row in set (0.03 sec)\r\n \r\n +-----------------------------------------------------------+\r\n | Info                                                      |\r\n +-----------------------------------------------------------+\r\n | Stack trace written to /tmp/stack-2014-02-16-21:18:41.dot |\r\n +-----------------------------------------------------------+\r\n 1 row in set (60.07 sec)\r\n \r\n +-------------------------------------------------------------------+\r\n | Convert to PDF                                                    |\r\n +-------------------------------------------------------------------+\r\n | dot -Tpdf -o /tmp/stack_25.pdf /tmp/stack-2014-02-16-21:18:41.dot |\r\n +-------------------------------------------------------------------+\r\n 1 row in set (60.07 sec)\r\n \r\n +-------------------------------------------------------------------+\r\n | Convert to PNG                                                    |\r\n +-------------------------------------------------------------------+\r\n | dot -Tpng -o /tmp/stack_25.png /tmp/stack-2014-02-16-21:18:41.dot |\r\n +-------------------------------------------------------------------+\r\n 1 row in set (60.07 sec)\r\n \r\n +------------------+\r\n | summary          |\r\n +------------------+\r\n | Enabled 1 thread |\r\n +------------------+\r\n 1 row in set (60.32 sec)\r\n '
BEGIN DECLARE v_done bool DEFAULT FALSE; DECLARE v_start, v_runtime DECIMAL(20,2) DEFAULT 0.0; DECLARE v_min_event_id bigint unsigned DEFAULT 0; DECLARE v_this_thread_enabed ENUM('YES', 'NO'); DECLARE v_event longtext; DECLARE c_stack CURSOR FOR SELECT CONCAT(IF(nesting_event_id IS NOT NULL, CONCAT(nesting_event_id, ' -> '), ''),  event_id, '; ', event_id, ' [label="', '(', sys.format_time(timer_wait), ') ', IF (event_name NOT LIKE 'wait/io%',  SUBSTRING_INDEX(event_name, '/', -2),  IF (event_name NOT LIKE 'wait/io/file%' OR event_name NOT LIKE 'wait/io/socket%', SUBSTRING_INDEX(event_name, '/', -4), event_name) ), IF (event_name LIKE 'transaction', IFNULL(CONCAT('\\n', wait_info), ''), ''), IF (event_name LIKE 'statement/%', IFNULL(CONCAT('\\n', wait_info), ''), ''), IF (in_debug AND event_name LIKE 'wait%', wait_info, ''), '", ',  CASE WHEN event_name LIKE 'wait/io/file%' THEN  'shape=box, style=filled, color=red' WHEN event_name LIKE 'wait/io/table%' THEN  'shape=box, style=filled, color=green' WHEN event_name LIKE 'wait/io/socket%' THEN 'shape=box, style=filled, color=yellow' WHEN event_name LIKE 'wait/synch/mutex%' THEN 'style=filled, color=lightskyblue' WHEN event_name LIKE 'wait/synch/cond%' THEN 'style=filled, color=darkseagreen3' WHEN event_name LIKE 'wait/synch/rwlock%' THEN 'style=filled, color=orchid' WHEN event_name LIKE 'wait/synch/sxlock%' THEN 'style=filled, color=palevioletred'  WHEN event_name LIKE 'wait/lock%' THEN 'shape=box, style=filled, color=tan' WHEN event_name LIKE 'statement/%' THEN CONCAT('shape=box, style=bold', CASE WHEN event_name LIKE 'statement/com/%' THEN ' style=filled, color=darkseagreen' ELSE IF((timer_wait/1000000000000) > @@long_query_time,  ' style=filled, color=red',  ' style=filled, color=lightblue') END ) WHEN event_name LIKE 'transaction' THEN 'shape=box, style=filled, color=lightblue3' WHEN event_name LIKE 'stage/%' THEN 'style=filled, color=slategray3' WHEN event_name LIKE '%idle%' THEN 'shape=box, style=filled, color=firebrick3' ELSE '' END, '];\n' ) event, event_id FROM ( (SELECT thread_id, event_id, event_name, timer_wait, timer_start, nesting_event_id, CONCAT('trx_id: ',  IFNULL(trx_id, ''), '\\n', 'gtid: ', IFNULL(gtid, ''), '\\n', 'state: ', state, '\\n', 'mode: ', access_mode, '\\n', 'isolation: ', isolation_level, '\\n', 'autocommit: ', autocommit, '\\n', 'savepoints: ', number_of_savepoints, '\\n' ) AS wait_info FROM performance_schema.events_transactions_history_long WHERE thread_id = in_thread_id AND event_id > v_min_event_id) UNION (SELECT thread_id, event_id, event_name, timer_wait, timer_start, nesting_event_id,  CONCAT('statement: ', sql_text, '\\n', 'errors: ', errors, '\\n', 'warnings: ', warnings, '\\n', 'lock time: ', sys.format_time(lock_time),'\\n', 'rows affected: ', rows_affected, '\\n', 'rows sent: ', rows_sent, '\\n', 'rows examined: ', rows_examined, '\\n', 'tmp tables: ', created_tmp_tables, '\\n', 'tmp disk tables: ', created_tmp_disk_tables, '\\n' 'select scan: ', select_scan, '\\n', 'select full join: ', select_full_join, '\\n', 'select full range join: ', select_full_range_join, '\\n', 'select range: ', select_range, '\\n', 'select range check: ', select_range_check, '\\n',  'sort merge passes: ', sort_merge_passes, '\\n', 'sort rows: ', sort_rows, '\\n', 'sort range: ', sort_range, '\\n', 'sort scan: ', sort_scan, '\\n', 'no index used: ', IF(no_index_used, 'TRUE', 'FALSE'), '\\n', 'no good index used: ', IF(no_good_index_used, 'TRUE', 'FALSE'), '\\n' ) AS wait_info FROM performance_schema.events_statements_history_long WHERE thread_id = in_thread_id AND event_id > v_min_event_id) UNION (SELECT thread_id, event_id, event_name, timer_wait, timer_start, nesting_event_id, null AS wait_info FROM performance_schema.events_stages_history_long  WHERE thread_id = in_thread_id AND event_id > v_min_event_id) UNION  (SELECT thread_id, event_id,  CONCAT(event_name,  IF(event_name NOT LIKE 'wait/synch/mutex%', IFNULL(CONCAT(' - ', operation), ''), ''),  IF(number_of_bytes IS NOT NULL, CONCAT(' ', number_of_bytes, ' bytes'), ''), IF(event_name LIKE 'wait/io/file%', '\\n', ''), IF(object_schema IS NOT NULL, CONCAT('\\nObject: ', object_schema, '.'), ''),  IF(object_name IS NOT NULL,  IF (event_name LIKE 'wait/io/socket%', CONCAT('\\n', IF (object_name LIKE ':0%', @@socket, object_name)), object_name), '' ), IF(index_name IS NOT NULL, CONCAT(' Index: ', index_name), ''), '\\n' ) AS event_name, timer_wait, timer_start, nesting_event_id, source AS wait_info FROM performance_schema.events_waits_history_long WHERE thread_id = in_thread_id AND event_id > v_min_event_id) ) events  ORDER BY event_id; DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_done = TRUE;  SET @log_bin := @@sql_log_bin; SET sql_log_bin = 0;  SELECT INSTRUMENTED INTO v_this_thread_enabed FROM performance_schema.threads WHERE PROCESSLIST_ID = CONNECTION_ID(); CALL sys.ps_setup_disable_thread(CONNECTION_ID());  IF (in_auto_setup) THEN CALL sys.ps_setup_save(0);  DELETE FROM performance_schema.setup_actors;  UPDATE performance_schema.threads SET INSTRUMENTED = IF(THREAD_ID = in_thread_id, 'YES', 'NO');  UPDATE performance_schema.setup_consumers SET ENABLED = 'YES' WHERE NAME NOT LIKE '%\_history';  UPDATE performance_schema.setup_instruments SET ENABLED = 'YES', TIMED   = 'YES'; END IF;  IF (in_start_fresh) THEN TRUNCATE performance_schema.events_transactions_history_long; TRUNCATE performance_schema.events_statements_history_long; TRUNCATE performance_schema.events_stages_history_long; TRUNCATE performance_schema.events_waits_history_long; END IF;  DROP TEMPORARY TABLE IF EXISTS tmp_events; CREATE TEMPORARY TABLE tmp_events ( event_id bigint unsigned NOT NULL, event longblob, PRIMARY KEY (event_id) );  INSERT INTO tmp_events VALUES (0, CONCAT('digraph events { rankdir=LR; nodesep=0.10;\n', '// Stack created .....: ', NOW(), '\n', '// MySQL version .....: ', VERSION(), '\n', '// MySQL hostname ....: ', @@hostname, '\n', '// MySQL port ........: ', @@port, '\n', '// MySQL socket ......: ', @@socket, '\n', '// MySQL user ........: ', CURRENT_USER(), '\n'));  SELECT CONCAT('Data collection starting for THREAD_ID = ', in_thread_id) AS 'Info';  SET v_min_event_id = 0, v_start        = UNIX_TIMESTAMP(), in_interval    = IFNULL(in_interval, 1.00), in_max_runtime = IFNULL(in_max_runtime, 60.00);  WHILE (v_runtime < in_max_runtime AND (SELECT INSTRUMENTED FROM performance_schema.threads WHERE THREAD_ID = in_thread_id) = 'YES') DO SET v_done = FALSE; OPEN c_stack; c_stack_loop: LOOP FETCH c_stack INTO v_event, v_min_event_id; IF v_done THEN LEAVE c_stack_loop; END IF;  IF (LENGTH(v_event) > 0) THEN INSERT INTO tmp_events VALUES (v_min_event_id, v_event); END IF; END LOOP; CLOSE c_stack;  SELECT SLEEP(in_interval) INTO @sleep; SET v_runtime = (UNIX_TIMESTAMP() - v_start); END WHILE;  INSERT INTO tmp_events VALUES (v_min_event_id+1, '}');  SET @query = CONCAT('SELECT event FROM tmp_events ORDER BY event_id INTO OUTFILE ''', in_outfile, ''' FIELDS ESCAPED BY '''' LINES TERMINATED BY '''''); PREPARE stmt_output FROM @query; EXECUTE stmt_output; DEALLOCATE PREPARE stmt_output;  SELECT CONCAT('Stack trace written to ', in_outfile) AS 'Info'; SELECT CONCAT('dot -Tpdf -o /tmp/stack_', in_thread_id, '.pdf ', in_outfile) AS 'Convert to PDF'; SELECT CONCAT('dot -Tpng -o /tmp/stack_', in_thread_id, '.png ', in_outfile) AS 'Convert to PNG'; DROP TEMPORARY TABLE tmp_events;  IF (in_auto_setup) THEN CALL sys.ps_setup_reload_saved(); END IF; IF (v_this_thread_enabed = 'YES') THEN CALL sys.ps_setup_enable_thread(CONNECTION_ID()); END IF;  SET sql_log_bin = @log_bin; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for ps_truncate_all_tables
-- ----------------------------
DROP PROCEDURE IF EXISTS `ps_truncate_all_tables`;
delimiter ;;
CREATE PROCEDURE `ps_truncate_all_tables`(IN in_verbose BOOLEAN)
  MODIFIES SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Truncates all summary tables within Performance Schema, \r\n resetting all aggregated instrumentation as a snapshot.\r\n \r\n Parameters\r\n \r\n in_verbose (BOOLEAN):\r\n Whether to print each TRUNCATE statement before running\r\n \r\n Example\r\n \r\n mysql> CALL sys.ps_truncate_all_tables(false);\r\n +---------------------+\r\n | summary             |\r\n +---------------------+\r\n | Truncated 44 tables |\r\n +---------------------+\r\n 1 row in set (0.10 sec)\r\n \r\n Query OK, 0 rows affected (0.10 sec)\r\n '
BEGIN DECLARE v_done INT DEFAULT FALSE; DECLARE v_total_tables INT DEFAULT 0; DECLARE v_ps_table VARCHAR(64); DECLARE ps_tables CURSOR FOR SELECT table_name  FROM INFORMATION_SCHEMA.TABLES  WHERE table_schema = 'performance_schema'  AND (table_name LIKE '%summary%'  OR table_name LIKE '%history%'); DECLARE CONTINUE HANDLER FOR NOT FOUND SET v_done = TRUE;  OPEN ps_tables;  ps_tables_loop: LOOP FETCH ps_tables INTO v_ps_table; IF v_done THEN LEAVE ps_tables_loop; END IF;  SET @truncate_stmt := CONCAT('TRUNCATE TABLE performance_schema.', v_ps_table); IF in_verbose THEN SELECT CONCAT('Running: ', @truncate_stmt) AS status; END IF;  PREPARE truncate_stmt FROM @truncate_stmt; EXECUTE truncate_stmt; DEALLOCATE PREPARE truncate_stmt;  SET v_total_tables = v_total_tables + 1; END LOOP;  CLOSE ps_tables;  SELECT CONCAT('Truncated ', v_total_tables, ' tables') AS summary;  END
;;
delimiter ;

-- ----------------------------
-- Function structure for quote_identifier
-- ----------------------------
DROP FUNCTION IF EXISTS `quote_identifier`;
delimiter ;;
CREATE FUNCTION `quote_identifier`(in_identifier TEXT)
 RETURNS text CHARSET utf8mb4
  NO SQL 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Takes an unquoted identifier (schema name, table name, etc.) and\r\n returns the identifier quoted with backticks.\r\n \r\n Parameters\r\n \r\n in_identifier (TEXT):\r\n The identifier to quote.\r\n \r\n Returns\r\n \r\n TEXT CHARSET UTF8MB4\r\n \r\n Example\r\n \r\n mysql> SELECT sys.quote_identifier(\'my_identifier\') AS Identifier;\r\n +-----------------+\r\n | Identifier      |\r\n +-----------------+\r\n | `my_identifier` |\r\n +-----------------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> SELECT sys.quote_identifier(\'my`idenfier\') AS Identifier;\r\n +----------------+\r\n | Identifier     |\r\n +----------------+\r\n | `my``idenfier` |\r\n +----------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN RETURN CONCAT('`', REPLACE(in_identifier, '`', '``'), '`'); END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for seequery100
-- ----------------------------
DROP PROCEDURE IF EXISTS `seequery100`;
delimiter ;;
CREATE PROCEDURE `seequery100`(IN `p_query` varchar(20))
BEGIN
select * from activity where activityTitle like concat('%',拙政园,'%') ;

END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for seequery2
-- ----------------------------
DROP PROCEDURE IF EXISTS `seequery2`;
delimiter ;;
CREATE PROCEDURE `seequery2`(IN `p_query` varchar(20))
BEGIN
select * from activity where activityTitle like concat('%',p_query,'%') ;

END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for showCollRoute
-- ----------------------------
DROP PROCEDURE IF EXISTS `showCollRoute`;
delimiter ;;
CREATE PROCEDURE `showCollRoute`(IN `p_userId` int)
BEGIN
	select routeImage,routeId,routeName,routeIntroduction from route where routeId in (SELECT route_routeId FROM collection where user_userId=p_userId);
END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for showCollScenic
-- ----------------------------
DROP PROCEDURE IF EXISTS `showCollScenic`;
delimiter ;;
CREATE PROCEDURE `showCollScenic`(IN `p_userId` int)
BEGIN
	select scenicImage,scenicId,scenicName,scenicintroduce from scenic where scenicId in (SELECT scenic_scenicId FROM collection where user_userId=p_userId);
END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for statement_performance_analyzer
-- ----------------------------
DROP PROCEDURE IF EXISTS `statement_performance_analyzer`;
delimiter ;;
CREATE PROCEDURE `statement_performance_analyzer`(IN in_action ENUM('snapshot', 'overall', 'delta', 'create_table', 'create_tmp', 'save', 'cleanup'), IN in_table VARCHAR(129), IN in_views SET ('with_runtimes_in_95th_percentile', 'analysis', 'with_errors_or_warnings', 'with_full_table_scans', 'with_sorting', 'with_temp_tables', 'custom'))
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Create a report of the statements running on the server.\r\n \r\n The views are calculated based on the overall and/or delta activity.\r\n \r\n Requires the SUPER privilege for \"SET sql_log_bin = 0;\".\r\n \r\n Parameters\r\n \r\n in_action (ENUM(\'snapshot\', \'overall\', \'delta\', \'create_tmp\', \'create_table\', \'save\', \'cleanup\')):\r\n The action to take. Supported actions are:\r\n * snapshot      Store a snapshot. The default is to make a snapshot of the current content of\r\n performance_schema.events_statements_summary_by_digest, but by setting in_table\r\n this can be overwritten to copy the content of the specified table.\r\n The snapshot is stored in the sys.tmp_digests temporary table.\r\n * overall       Generate analyzis based on the content specified by in_table. For the overall analyzis,\r\n in_table can be NOW() to use a fresh snapshot. This will overwrite an existing snapshot.\r\n Use NULL for in_table to use the existing snapshot. If in_table IS NULL and no snapshot\r\n exists, a new will be created.\r\n See also in_views and @sys.statement_performance_analyzer.limit.\r\n * delta         Generate a delta analysis. The delta will be calculated between the reference table in\r\n in_table and the snapshot. An existing snapshot must exist.\r\n The action uses the sys.tmp_digests_delta temporary table.\r\n See also in_views and @sys.statement_performance_analyzer.limit.\r\n * create_table  Create a regular table suitable for storing the snapshot for later use, e.g. for\r\n calculating deltas.\r\n * create_tmp    Create a temporary table suitable for storing the snapshot for later use, e.g. for\r\n calculating deltas.\r\n * save          Save the snapshot in the table specified by in_table. The table must exists and have\r\n the correct structure.\r\n If no snapshot exists, a new is created.\r\n * cleanup       Remove the temporary tables used for the snapshot and delta.\r\n \r\n in_table (VARCHAR(129)):\r\n The table argument used for some actions. Use the format \'db1.t1\' or \'t1\' without using any backticks (`)\r\n for quoting. Periods (.) are not supported in the database and table names.\r\n \r\n The meaning of the table for each action supporting the argument is:\r\n \r\n * snapshot      The snapshot is created based on the specified table. Set to NULL or NOW() to use\r\n the current content of performance_schema.events_statements_summary_by_digest.\r\n * overall       The table with the content to create the overall analyzis for. The following values\r\n can be used:\r\n - A table name - use the content of that table.\r\n - NOW()        - create a fresh snapshot and overwrite the existing snapshot.\r\n - NULL         - use the last stored snapshot.\r\n * delta         The table name is mandatory and specified the reference view to compare the currently\r\n stored snapshot against. If no snapshot exists, a new will be created.\r\n * create_table  The name of the regular table to create.\r\n * create_tmp    The name of the temporary table to create.\r\n * save          The name of the table to save the currently stored snapshot into.\r\n \r\n in_views (SET (\'with_runtimes_in_95th_percentile\', \'analysis\', \'with_errors_or_warnings\',\r\n \'with_full_table_scans\', \'with_sorting\', \'with_temp_tables\', \'custom\'))\r\n Which views to include:  * with_runtimes_in_95th_percentile  Based on the sys.statements_with_runtimes_in_95th_percentile view * analysis                          Based on the sys.statement_analysis view * with_errors_or_warnings           Based on the sys.statements_with_errors_or_warnings view * with_full_table_scans             Based on the sys.statements_with_full_table_scans view * with_sorting                      Based on the sys.statements_with_sorting view * with_temp_tables                  Based on the sys.statements_with_temp_tables view * custom                            Use a custom view. This view must be specified in @sys.statement_performance_analyzer.view to an existing view or a query  Default is to include all except \'custom\'.   Configuration Options  sys.statement_performance_analyzer.limit The maximum number of rows to include for the views that does not have a built-in limit (e.g. the 95th percentile view). If not set the limit is 100.  sys.statement_performance_analyzer.view Used together with the \'custom\' view. If the value contains a space, it is considered a query, otherwise it must be an existing view querying the performance_schema.events_statements_summary_by_digest table. There cannot be any limit clause including in the query or view definition if @sys.statement_performance_analyzer.limit > 0. If specifying a view, use the same format as for in_table.  sys.debug Whether to provide debugging output. Default is \'OFF\'. Set to \'ON\' to include.   Example  To create a report with the queries in the 95th percentile since last truncate of performance_schema.events_statements_summary_by_digest and the delta for a 1 minute period:  1. Create a temporary table to store the initial snapshot. 2. Create the initial snapshot. 3. Save the initial snapshot in the temporary table. 4. Wait one minute. 5. Create a new snapshot. 6. Perform analyzis based on the new snapshot. 7. Perform analyzis based on the delta between the initial and new snapshots.  mysql> CALL sys.statement_performance_analyzer(\'create_tmp\', \'mydb.tmp_digests_ini\', NULL); Query OK, 0 rows affected (0.08 sec)  mysql> CALL sys.statement_performance_analyzer(\'snapshot\', NULL, NULL); Query OK, 0 rows affected (0.02 sec)  mysql> CALL sys.statement_performance_analyzer(\'save\', \'mydb.tmp_digests_ini\', NULL); Query OK, 0 rows affected (0.00 sec)  mysql> DO SLEEP(60); Query OK, 0 rows affected (1 min 0.00 sec)  mysql> CALL sys.statement_performance_analyzer(\'snapshot\', NULL, NULL); Query OK, 0 rows affected (0.02 sec)  mysql> CALL sys.statement_performance_analyzer(\'overall\', NULL, \'with_runtimes_in_95th_percentile\'); +-----------------------------------------+ | Next Output                             | +-----------------------------------------+ | Queries with Runtime in 95th Percentile | +-----------------------------------------+ 1 row in set (0.05 sec)  ...  mysql> CALL sys.statement_performance_analyzer(\'delta\', \'mydb.tmp_digests_ini\', \'with_runtimes_in_95th_percentile\'); +-----------------------------------------+ | Next Output                             | +-----------------------------------------+ | Queries with Runtime in 95th Percentile | +-----------------------------------------+ 1 row in set (0.03 sec)  ...   To create an overall report of the 95th percentile queries and the top 10 queries with full table scans:  mysql> CALL sys.statement_performance_analyzer(\'snapshot\', NULL, NULL); Query OK, 0 rows affected (0.01 sec)  mysql> SET @sys.statement_performance_analyzer.limit = 10; Query OK, 0 rows affected (0.00 sec)  mysql> CALL sys.statement_performance_analyzer(\'overall\', NULL, \'with_runtimes_in_95th_percentile,with_full_table_scans\'); +-----------------------------------------+ | Next Output                             | +-----------------------------------------+ | Queries with Runtime in 95th Percentile | +-----------------------------------------+ 1 row in set (0.01 sec)  ...  +-------------------------------------+ | Next Output                         | +-------------------------------------+ | Top 10 Queries with Full Table Scan | +-------------------------------------+ 1 row in set (0.09 sec)  ...   Use a custom view showing the top 10 query sorted by total execution time refreshing the view every minute using the watch command in Linux.  mysql> CREATE OR REPLACE VIEW mydb.my_statements AS -> SELECT sys.format_statement(DIGEST_TEXT) AS query, ->        SCHEMA_NAME AS db, ->        COUNT_STAR AS exec_count, ->        sys.format_time(SUM_TIMER_WAIT) AS total_latency, ->        sys.format_time(AVG_TIMER_WAIT) AS avg_latency, ->        ROUND(IFNULL(SUM_ROWS_SENT / NULLIF(COUNT_STAR, 0), 0)) AS rows_sent_avg, ->        ROUND(IFNULL(SUM_ROWS_EXAMINED / NULLIF(COUNT_STAR, 0), 0)) AS rows_examined_avg, ->        ROUND(IFNULL(SUM_ROWS_AFFECTED / NULLIF(COUNT_STAR, 0), 0)) AS rows_affected_avg, ->        DIGEST AS digest ->   FROM performance_schema.events_statements_summary_by_digest -> ORDER BY SUM_TIMER_WAIT DESC; Query OK, 0 rows affected (0.01 sec)  mysql> CALL sys.statement_performance_analyzer(\'create_table\', \'mydb.digests_prev\', NULL); Query OK, 0 rows affected (0.10 sec)  shell$ watch -n 60 \"mysql sys --table -e \" > SET @sys.statement_performance_analyzer.view = \'mydb.my_statements\'; > SET @sys.statement_performance_analyzer.limit = 10; > CALL statement_performance_analyzer(\'snapshot\', NULL, NULL); > CALL statement_performance_analyzer(\'delta\', \'mydb.digests_prev\', \'custom\'); > CALL statement_performance_analyzer(\'save\', \'mydb.digests_prev\', NULL); > \"\"  Every 60.0s: mysql sys --table -e \"                                                                                                   ...  Mon Dec 22 10:58:51 2014  +----------------------------------+ | Next Output                      | +----------------------------------+ | Top 10 Queries Using Custom View | +----------------------------------+ +-------------------+-------+------------+---------------+-------------+---------------+-------------------+-------------------+----------------------------------+ | query             | db    | exec_count | total_latency | avg_latency | rows_sent_avg | rows_examined_avg | rows_affected_avg | digest                           | +-------------------+-------+------------+---------------+-------------+---------------+-------------------+-------------------+----------------------------------+ ... '
BEGIN DECLARE v_table_exists, v_tmp_digests_table_exists, v_custom_view_exists ENUM('', 'BASE TABLE', 'VIEW', 'TEMPORARY') DEFAULT ''; DECLARE v_this_thread_enabled ENUM('YES', 'NO'); DECLARE v_force_new_snapshot BOOLEAN DEFAULT FALSE; DECLARE v_digests_table VARCHAR(133); DECLARE v_quoted_table, v_quoted_custom_view VARCHAR(133) DEFAULT ''; DECLARE v_table_db, v_table_name, v_custom_db, v_custom_name VARCHAR(64); DECLARE v_digest_table_template, v_checksum_ref, v_checksum_table text; DECLARE v_sql longtext; DECLARE v_error_msg VARCHAR(128); DECLARE v_old_group_concat_max_len INT UNSIGNED DEFAULT 0;   SELECT INSTRUMENTED INTO v_this_thread_enabled FROM performance_schema.threads WHERE PROCESSLIST_ID = CONNECTION_ID(); IF (v_this_thread_enabled = 'YES') THEN CALL sys.ps_setup_disable_thread(CONNECTION_ID()); END IF;  SET @log_bin := @@sql_log_bin; IF (@log_bin = 1) THEN SET sql_log_bin = 0; END IF;   IF (@sys.statement_performance_analyzer.limit IS NULL) THEN SET @sys.statement_performance_analyzer.limit = sys.sys_get_config('statement_performance_analyzer.limit', '100'); END IF; IF (@sys.debug IS NULL) THEN SET @sys.debug                                = sys.sys_get_config('debug'                               , 'OFF'); END IF;   IF (in_table = 'NOW()') THEN SET v_force_new_snapshot = TRUE, in_table             = NULL; ELSEIF (in_table IS NOT NULL) THEN IF (NOT INSTR(in_table, '.')) THEN SET v_table_db   = DATABASE(), v_table_name = in_table; ELSE SET v_table_db   = SUBSTRING_INDEX(in_table, '.', 1); SET v_table_name = SUBSTRING(in_table, CHAR_LENGTH(v_table_db)+2); END IF;  SET v_quoted_table = CONCAT('`', v_table_db, '`.`', v_table_name, '`');  IF (@sys.debug = 'ON') THEN SELECT CONCAT('in_table is: db = ''', v_table_db, ''', table = ''', v_table_name, '''') AS 'Debug'; END IF;  IF (v_table_db = DATABASE() AND (v_table_name = 'tmp_digests' OR v_table_name = 'tmp_digests_delta')) THEN SET v_error_msg = CONCAT('Invalid value for in_table: ', v_quoted_table, ' is reserved table name.'); SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = v_error_msg; END IF;  CALL sys.table_exists(v_table_db, v_table_name, v_table_exists); IF (@sys.debug = 'ON') THEN SELECT CONCAT('v_table_exists = ', v_table_exists) AS 'Debug'; END IF;  IF (v_table_exists = 'BASE TABLE') THEN SET v_old_group_concat_max_len = @@session.group_concat_max_len; SET @@session.group_concat_max_len = 2048; SET v_checksum_ref = ( SELECT GROUP_CONCAT(CONCAT(COLUMN_NAME, COLUMN_TYPE) ORDER BY ORDINAL_POSITION) AS Checksum FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'performance_schema' AND TABLE_NAME = 'events_statements_summary_by_digest' ), v_checksum_table = ( SELECT GROUP_CONCAT(CONCAT(COLUMN_NAME, COLUMN_TYPE) ORDER BY ORDINAL_POSITION) AS Checksum FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = v_table_db AND TABLE_NAME = v_table_name ); SET @@session.group_concat_max_len = v_old_group_concat_max_len; IF (v_checksum_ref <> v_checksum_table) THEN SET v_error_msg = CONCAT('The table ', IF(CHAR_LENGTH(v_quoted_table) > 93, CONCAT('...', SUBSTRING(v_quoted_table, -90)), v_quoted_table), ' has the wrong definition.'); SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = v_error_msg; END IF; END IF; END IF;   IF (in_views IS NULL OR in_views = '') THEN SET in_views = 'with_runtimes_in_95th_percentile,analysis,with_errors_or_warnings,with_full_table_scans,with_sorting,with_temp_tables'; END IF;   CALL sys.table_exists(DATABASE(), 'tmp_digests', v_tmp_digests_table_exists); IF (@sys.debug = 'ON') THEN SELECT CONCAT('v_tmp_digests_table_exists = ', v_tmp_digests_table_exists) AS 'Debug'; END IF;  CASE WHEN in_action IN ('snapshot', 'overall') THEN IF (in_table IS NOT NULL) THEN IF (NOT v_table_exists IN ('TEMPORARY', 'BASE TABLE')) THEN SET v_error_msg = CONCAT('The ', in_action, ' action requires in_table to be NULL, NOW() or specify an existing table.', ' The table ', IF(CHAR_LENGTH(v_quoted_table) > 16, CONCAT('...', SUBSTRING(v_quoted_table, -13)), v_quoted_table), ' does not exist.'); SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = v_error_msg; END IF; END IF;  WHEN in_action IN ('delta', 'save') THEN IF (v_table_exists NOT IN ('TEMPORARY', 'BASE TABLE')) THEN SET v_error_msg = CONCAT('The ', in_action, ' action requires in_table to be an existing table.', IF(in_table IS NOT NULL, CONCAT(' The table ', IF(CHAR_LENGTH(v_quoted_table) > 39, CONCAT('...', SUBSTRING(v_quoted_table, -36)), v_quoted_table), ' does not exist.'), '')); SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = v_error_msg; END IF;  IF (in_action = 'delta' AND v_tmp_digests_table_exists <> 'TEMPORARY') THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'An existing snapshot generated with the statement_performance_analyzer() must exist.'; END IF; WHEN in_action = 'create_tmp' THEN IF (v_table_exists = 'TEMPORARY') THEN SET v_error_msg = CONCAT('Cannot create the table ', IF(CHAR_LENGTH(v_quoted_table) > 72, CONCAT('...', SUBSTRING(v_quoted_table, -69)), v_quoted_table), ' as it already exists.'); SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = v_error_msg; END IF;  WHEN in_action = 'create_table' THEN IF (v_table_exists <> '') THEN SET v_error_msg = CONCAT('Cannot create the table ', IF(CHAR_LENGTH(v_quoted_table) > 52, CONCAT('...', SUBSTRING(v_quoted_table, -49)), v_quoted_table), ' as it already exists', IF(v_table_exists = 'TEMPORARY', ' as a temporary table.', '.')); SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = v_error_msg; END IF;  WHEN in_action = 'cleanup' THEN DO (SELECT 1); ELSE SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Unknown action. Supported actions are: cleanup, create_table, create_tmp, delta, overall, save, snapshot'; END CASE;  SET v_digest_table_template = 'CREATE %{TEMPORARY}TABLE %{TABLE_NAME} ( `SCHEMA_NAME` varchar(64) DEFAULT NULL, `DIGEST` varchar(64) DEFAULT NULL, `DIGEST_TEXT` longtext, `COUNT_STAR` bigint(20) unsigned NOT NULL, `SUM_TIMER_WAIT` bigint(20) unsigned NOT NULL, `MIN_TIMER_WAIT` bigint(20) unsigned NOT NULL, `AVG_TIMER_WAIT` bigint(20) unsigned NOT NULL, `MAX_TIMER_WAIT` bigint(20) unsigned NOT NULL, `SUM_LOCK_TIME` bigint(20) unsigned NOT NULL, `SUM_ERRORS` bigint(20) unsigned NOT NULL, `SUM_WARNINGS` bigint(20) unsigned NOT NULL, `SUM_ROWS_AFFECTED` bigint(20) unsigned NOT NULL, `SUM_ROWS_SENT` bigint(20) unsigned NOT NULL, `SUM_ROWS_EXAMINED` bigint(20) unsigned NOT NULL, `SUM_CREATED_TMP_DISK_TABLES` bigint(20) unsigned NOT NULL, `SUM_CREATED_TMP_TABLES` bigint(20) unsigned NOT NULL, `SUM_SELECT_FULL_JOIN` bigint(20) unsigned NOT NULL, `SUM_SELECT_FULL_RANGE_JOIN` bigint(20) unsigned NOT NULL, `SUM_SELECT_RANGE` bigint(20) unsigned NOT NULL, `SUM_SELECT_RANGE_CHECK` bigint(20) unsigned NOT NULL, `SUM_SELECT_SCAN` bigint(20) unsigned NOT NULL, `SUM_SORT_MERGE_PASSES` bigint(20) unsigned NOT NULL, `SUM_SORT_RANGE` bigint(20) unsigned NOT NULL, `SUM_SORT_ROWS` bigint(20) unsigned NOT NULL, `SUM_SORT_SCAN` bigint(20) unsigned NOT NULL, `SUM_NO_INDEX_USED` bigint(20) unsigned NOT NULL, `SUM_NO_GOOD_INDEX_USED` bigint(20) unsigned NOT NULL, `FIRST_SEEN` timestamp(6) NULL DEFAULT NULL, `LAST_SEEN` timestamp(6) NULL DEFAULT NULL, `QUANTILE_95` bigint(20) unsigned NOT NULL, `QUANTILE_99` bigint(20) unsigned NOT NULL, `QUANTILE_999` bigint(20) unsigned NOT NULL, `QUERY_SAMPLE_TEXT` longtext, `QUERY_SAMPLE_SEEN` timestamp(6) NULL DEFAULT NULL, `QUERY_SAMPLE_TIMER_WAIT` bigint(20) unsigned NOT NULL, INDEX (SCHEMA_NAME, DIGEST) ) DEFAULT CHARSET=utf8mb4';  IF (v_force_new_snapshot OR in_action = 'snapshot' OR (in_action = 'overall' AND in_table IS NULL) OR (in_action = 'save' AND v_tmp_digests_table_exists <> 'TEMPORARY') ) THEN IF (v_tmp_digests_table_exists = 'TEMPORARY') THEN IF (@sys.debug = 'ON') THEN SELECT 'DROP TEMPORARY TABLE IF EXISTS tmp_digests' AS 'Debug'; END IF; DROP TEMPORARY TABLE IF EXISTS tmp_digests; END IF; CALL sys.execute_prepared_stmt(REPLACE(REPLACE(v_digest_table_template, '%{TEMPORARY}', 'TEMPORARY '), '%{TABLE_NAME}', 'tmp_digests'));  SET v_sql = CONCAT('INSERT INTO tmp_digests SELECT * FROM ', IF(in_table IS NULL OR in_action = 'save', 'performance_schema.events_statements_summary_by_digest', v_quoted_table)); CALL sys.execute_prepared_stmt(v_sql); END IF;  IF (in_action IN ('create_table', 'create_tmp')) THEN IF (in_action = 'create_table') THEN CALL sys.execute_prepared_stmt(REPLACE(REPLACE(v_digest_table_template, '%{TEMPORARY}', ''), '%{TABLE_NAME}', v_quoted_table)); ELSE CALL sys.execute_prepared_stmt(REPLACE(REPLACE(v_digest_table_template, '%{TEMPORARY}', 'TEMPORARY '), '%{TABLE_NAME}', v_quoted_table)); END IF; ELSEIF (in_action = 'save') THEN CALL sys.execute_prepared_stmt(CONCAT('DELETE FROM ', v_quoted_table)); CALL sys.execute_prepared_stmt(CONCAT('INSERT INTO ', v_quoted_table, ' SELECT * FROM tmp_digests')); ELSEIF (in_action = 'cleanup') THEN DROP TEMPORARY TABLE IF EXISTS sys.tmp_digests; DROP TEMPORARY TABLE IF EXISTS sys.tmp_digests_delta; ELSEIF (in_action IN ('overall', 'delta')) THEN IF (in_action = 'overall') THEN IF (in_table IS NULL) THEN SET v_digests_table = 'tmp_digests'; ELSE SET v_digests_table = v_quoted_table; END IF; ELSE SET v_digests_table = 'tmp_digests_delta'; DROP TEMPORARY TABLE IF EXISTS tmp_digests_delta; CREATE TEMPORARY TABLE tmp_digests_delta LIKE tmp_digests; SET v_sql = CONCAT('INSERT INTO tmp_digests_delta SELECT `d_end`.`SCHEMA_NAME`, `d_end`.`DIGEST`, `d_end`.`DIGEST_TEXT`, `d_end`.`COUNT_STAR`-IFNULL(`d_start`.`COUNT_STAR`, 0) AS ''COUNT_STAR'', `d_end`.`SUM_TIMER_WAIT`-IFNULL(`d_start`.`SUM_TIMER_WAIT`, 0) AS ''SUM_TIMER_WAIT'', `d_end`.`MIN_TIMER_WAIT` AS ''MIN_TIMER_WAIT'', IFNULL((`d_end`.`SUM_TIMER_WAIT`-IFNULL(`d_start`.`SUM_TIMER_WAIT`, 0))/NULLIF(`d_end`.`COUNT_STAR`-IFNULL(`d_start`.`COUNT_STAR`, 0), 0), 0) AS ''AVG_TIMER_WAIT'', `d_end`.`MAX_TIMER_WAIT` AS ''MAX_TIMER_WAIT'', `d_end`.`SUM_LOCK_TIME`-IFNULL(`d_start`.`SUM_LOCK_TIME`, 0) AS ''SUM_LOCK_TIME'', `d_end`.`SUM_ERRORS`-IFNULL(`d_start`.`SUM_ERRORS`, 0) AS ''SUM_ERRORS'', `d_end`.`SUM_WARNINGS`-IFNULL(`d_start`.`SUM_WARNINGS`, 0) AS ''SUM_WARNINGS'', `d_end`.`SUM_ROWS_AFFECTED`-IFNULL(`d_start`.`SUM_ROWS_AFFECTED`, 0) AS ''SUM_ROWS_AFFECTED'', `d_end`.`SUM_ROWS_SENT`-IFNULL(`d_start`.`SUM_ROWS_SENT`, 0) AS ''SUM_ROWS_SENT'', `d_end`.`SUM_ROWS_EXAMINED`-IFNULL(`d_start`.`SUM_ROWS_EXAMINED`, 0) AS ''SUM_ROWS_EXAMINED'', `d_end`.`SUM_CREATED_TMP_DISK_TABLES`-IFNULL(`d_start`.`SUM_CREATED_TMP_DISK_TABLES`, 0) AS ''SUM_CREATED_TMP_DISK_TABLES'', `d_end`.`SUM_CREATED_TMP_TABLES`-IFNULL(`d_start`.`SUM_CREATED_TMP_TABLES`, 0) AS ''SUM_CREATED_TMP_TABLES'', `d_end`.`SUM_SELECT_FULL_JOIN`-IFNULL(`d_start`.`SUM_SELECT_FULL_JOIN`, 0) AS ''SUM_SELECT_FULL_JOIN'', `d_end`.`SUM_SELECT_FULL_RANGE_JOIN`-IFNULL(`d_start`.`SUM_SELECT_FULL_RANGE_JOIN`, 0) AS ''SUM_SELECT_FULL_RANGE_JOIN'', `d_end`.`SUM_SELECT_RANGE`-IFNULL(`d_start`.`SUM_SELECT_RANGE`, 0) AS ''SUM_SELECT_RANGE'', `d_end`.`SUM_SELECT_RANGE_CHECK`-IFNULL(`d_start`.`SUM_SELECT_RANGE_CHECK`, 0) AS ''SUM_SELECT_RANGE_CHECK'', `d_end`.`SUM_SELECT_SCAN`-IFNULL(`d_start`.`SUM_SELECT_SCAN`, 0) AS ''SUM_SELECT_SCAN'', `d_end`.`SUM_SORT_MERGE_PASSES`-IFNULL(`d_start`.`SUM_SORT_MERGE_PASSES`, 0) AS ''SUM_SORT_MERGE_PASSES'', `d_end`.`SUM_SORT_RANGE`-IFNULL(`d_start`.`SUM_SORT_RANGE`, 0) AS ''SUM_SORT_RANGE'', `d_end`.`SUM_SORT_ROWS`-IFNULL(`d_start`.`SUM_SORT_ROWS`, 0) AS ''SUM_SORT_ROWS'', `d_end`.`SUM_SORT_SCAN`-IFNULL(`d_start`.`SUM_SORT_SCAN`, 0) AS ''SUM_SORT_SCAN'', `d_end`.`SUM_NO_INDEX_USED`-IFNULL(`d_start`.`SUM_NO_INDEX_USED`, 0) AS ''SUM_NO_INDEX_USED'', `d_end`.`SUM_NO_GOOD_INDEX_USED`-IFNULL(`d_start`.`SUM_NO_GOOD_INDEX_USED`, 0) AS ''SUM_NO_GOOD_INDEX_USED'', `d_end`.`FIRST_SEEN`, `d_end`.`LAST_SEEN`, `d_end`.`QUANTILE_95`, `d_end`.`QUANTILE_99`, `d_end`.`QUANTILE_999`, `d_end`.`QUERY_SAMPLE_TEXT`, `d_end`.`QUERY_SAMPLE_SEEN`, `d_end`.`QUERY_SAMPLE_TIMER_WAIT` FROM tmp_digests d_end LEFT OUTER JOIN ', v_quoted_table, ' d_start ON `d_start`.`DIGEST` = `d_end`.`DIGEST` AND (`d_start`.`SCHEMA_NAME` = `d_end`.`SCHEMA_NAME` OR (`d_start`.`SCHEMA_NAME` IS NULL AND `d_end`.`SCHEMA_NAME` IS NULL) ) WHERE `d_end`.`COUNT_STAR`-IFNULL(`d_start`.`COUNT_STAR`, 0) > 0'); CALL sys.execute_prepared_stmt(v_sql); END IF;  IF (FIND_IN_SET('with_runtimes_in_95th_percentile', in_views)) THEN SELECT 'Queries with Runtime in 95th Percentile' AS 'Next Output';  DROP TEMPORARY TABLE IF EXISTS tmp_digest_avg_latency_distribution1; DROP TEMPORARY TABLE IF EXISTS tmp_digest_avg_latency_distribution2; DROP TEMPORARY TABLE IF EXISTS tmp_digest_95th_percentile_by_avg_us;  CREATE TEMPORARY TABLE tmp_digest_avg_latency_distribution1 ( cnt bigint unsigned NOT NULL, avg_us decimal(21,0) NOT NULL, PRIMARY KEY (avg_us) ) ENGINE=InnoDB;  SET v_sql = CONCAT('INSERT INTO tmp_digest_avg_latency_distribution1 SELECT COUNT(*) cnt, ROUND(avg_timer_wait/1000000) AS avg_us FROM ', v_digests_table, ' GROUP BY avg_us'); CALL sys.execute_prepared_stmt(v_sql);  CREATE TEMPORARY TABLE tmp_digest_avg_latency_distribution2 LIKE tmp_digest_avg_latency_distribution1; INSERT INTO tmp_digest_avg_latency_distribution2 SELECT * FROM tmp_digest_avg_latency_distribution1;  CREATE TEMPORARY TABLE tmp_digest_95th_percentile_by_avg_us ( avg_us decimal(21,0) NOT NULL, percentile decimal(46,4) NOT NULL, PRIMARY KEY (avg_us) ) ENGINE=InnoDB;  SET v_sql = CONCAT('INSERT INTO tmp_digest_95th_percentile_by_avg_us SELECT s2.avg_us avg_us, IFNULL(SUM(s1.cnt)/NULLIF((SELECT COUNT(*) FROM ', v_digests_table, '), 0), 0) percentile FROM tmp_digest_avg_latency_distribution1 AS s1 JOIN tmp_digest_avg_latency_distribution2 AS s2 ON s1.avg_us <= s2.avg_us GROUP BY s2.avg_us HAVING percentile > 0.95 ORDER BY percentile LIMIT 1'); CALL sys.execute_prepared_stmt(v_sql);  SET v_sql = REPLACE( REPLACE( (SELECT VIEW_DEFINITION FROM information_schema.VIEWS WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'statements_with_runtimes_in_95th_percentile' ), '`performance_schema`.`events_statements_summary_by_digest`', v_digests_table ), 'sys.x$ps_digest_95th_percentile_by_avg_us', '`sys`.`x$ps_digest_95th_percentile_by_avg_us`' ); CALL sys.execute_prepared_stmt(v_sql);  DROP TEMPORARY TABLE tmp_digest_avg_latency_distribution1; DROP TEMPORARY TABLE tmp_digest_avg_latency_distribution2; DROP TEMPORARY TABLE tmp_digest_95th_percentile_by_avg_us; END IF;  IF (FIND_IN_SET('analysis', in_views)) THEN SELECT CONCAT('Top ', @sys.statement_performance_analyzer.limit, ' Queries Ordered by Total Latency') AS 'Next Output'; SET v_sql = REPLACE( (SELECT VIEW_DEFINITION FROM information_schema.VIEWS WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'statement_analysis' ), '`performance_schema`.`events_statements_summary_by_digest`', v_digests_table ); IF (@sys.statement_performance_analyzer.limit > 0) THEN SET v_sql = CONCAT(v_sql, ' LIMIT ', @sys.statement_performance_analyzer.limit); END IF; CALL sys.execute_prepared_stmt(v_sql); END IF;  IF (FIND_IN_SET('with_errors_or_warnings', in_views)) THEN SELECT CONCAT('Top ', @sys.statement_performance_analyzer.limit, ' Queries with Errors') AS 'Next Output'; SET v_sql = REPLACE( (SELECT VIEW_DEFINITION FROM information_schema.VIEWS WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'statements_with_errors_or_warnings' ), '`performance_schema`.`events_statements_summary_by_digest`', v_digests_table ); IF (@sys.statement_performance_analyzer.limit > 0) THEN SET v_sql = CONCAT(v_sql, ' LIMIT ', @sys.statement_performance_analyzer.limit); END IF; CALL sys.execute_prepared_stmt(v_sql); END IF;  IF (FIND_IN_SET('with_full_table_scans', in_views)) THEN SELECT CONCAT('Top ', @sys.statement_performance_analyzer.limit, ' Queries with Full Table Scan') AS 'Next Output'; SET v_sql = REPLACE( (SELECT VIEW_DEFINITION FROM information_schema.VIEWS WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'statements_with_full_table_scans' ), '`performance_schema`.`events_statements_summary_by_digest`', v_digests_table ); IF (@sys.statement_performance_analyzer.limit > 0) THEN SET v_sql = CONCAT(v_sql, ' LIMIT ', @sys.statement_performance_analyzer.limit); END IF; CALL sys.execute_prepared_stmt(v_sql); END IF;  IF (FIND_IN_SET('with_sorting', in_views)) THEN SELECT CONCAT('Top ', @sys.statement_performance_analyzer.limit, ' Queries with Sorting') AS 'Next Output'; SET v_sql = REPLACE( (SELECT VIEW_DEFINITION FROM information_schema.VIEWS WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'statements_with_sorting' ), '`performance_schema`.`events_statements_summary_by_digest`', v_digests_table ); IF (@sys.statement_performance_analyzer.limit > 0) THEN SET v_sql = CONCAT(v_sql, ' LIMIT ', @sys.statement_performance_analyzer.limit); END IF; CALL sys.execute_prepared_stmt(v_sql); END IF;  IF (FIND_IN_SET('with_temp_tables', in_views)) THEN SELECT CONCAT('Top ', @sys.statement_performance_analyzer.limit, ' Queries with Internal Temporary Tables') AS 'Next Output'; SET v_sql = REPLACE( (SELECT VIEW_DEFINITION FROM information_schema.VIEWS WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'statements_with_temp_tables' ), '`performance_schema`.`events_statements_summary_by_digest`', v_digests_table ); IF (@sys.statement_performance_analyzer.limit > 0) THEN SET v_sql = CONCAT(v_sql, ' LIMIT ', @sys.statement_performance_analyzer.limit); END IF; CALL sys.execute_prepared_stmt(v_sql); END IF;  IF (FIND_IN_SET('custom', in_views)) THEN SELECT CONCAT('Top ', @sys.statement_performance_analyzer.limit, ' Queries Using Custom View') AS 'Next Output';  IF (@sys.statement_performance_analyzer.view IS NULL) THEN SET @sys.statement_performance_analyzer.view = sys.sys_get_config('statement_performance_analyzer.view', NULL); END IF; IF (@sys.statement_performance_analyzer.view IS NULL) THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'The @sys.statement_performance_analyzer.view user variable must be set with the view or query to use.'; END IF;  IF (NOT INSTR(@sys.statement_performance_analyzer.view, ' ')) THEN IF (NOT INSTR(@sys.statement_performance_analyzer.view, '.')) THEN SET v_custom_db   = DATABASE(), v_custom_name = @sys.statement_performance_analyzer.view; ELSE SET v_custom_db   = SUBSTRING_INDEX(@sys.statement_performance_analyzer.view, '.', 1); SET v_custom_name = SUBSTRING(@sys.statement_performance_analyzer.view, CHAR_LENGTH(v_custom_db)+2); END IF;  CALL sys.table_exists(v_custom_db, v_custom_name, v_custom_view_exists); IF (v_custom_view_exists <> 'VIEW') THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'The @sys.statement_performance_analyzer.view user variable is set but specified neither an existing view nor a query.'; END IF;  SET v_sql = REPLACE( (SELECT VIEW_DEFINITION FROM information_schema.VIEWS WHERE TABLE_SCHEMA = v_custom_db AND TABLE_NAME = v_custom_name ), '`performance_schema`.`events_statements_summary_by_digest`', v_digests_table ); ELSE SET v_sql = REPLACE(@sys.statement_performance_analyzer.view, '`performance_schema`.`events_statements_summary_by_digest`', v_digests_table); END IF;  IF (@sys.statement_performance_analyzer.limit > 0) THEN SET v_sql = CONCAT(v_sql, ' LIMIT ', @sys.statement_performance_analyzer.limit); END IF;  CALL sys.execute_prepared_stmt(v_sql); END IF; END IF;  IF (v_this_thread_enabled = 'YES') THEN CALL sys.ps_setup_enable_thread(CONNECTION_ID()); END IF;  IF (@log_bin = 1) THEN SET sql_log_bin = @log_bin; END IF; END
;;
delimiter ;

-- ----------------------------
-- Function structure for sys_get_config
-- ----------------------------
DROP FUNCTION IF EXISTS `sys_get_config`;
delimiter ;;
CREATE FUNCTION `sys_get_config`(in_variable_name VARCHAR(128), in_default_value VARCHAR(128))
 RETURNS varchar(128) CHARSET utf8mb4
  READS SQL DATA 
  DETERMINISTIC
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Returns the value for the requested variable using the following logic:\r\n \r\n 1. If the option exists in sys.sys_config return the value from there.\r\n 2. Else fall back on the provided default value.\r\n \r\n Notes for using sys_get_config():\r\n \r\n * If the default value argument to sys_get_config() is NULL and case 2. is reached, NULL is returned.\r\n It is then expected that the caller is able to handle NULL for the given configuration option.\r\n * The convention is to name the user variables @sys.<name of variable>. It is <name of variable> that\r\n is stored in the sys_config table and is what is expected as the argument to sys_get_config().\r\n * If you want to check whether the configuration option has already been set and if not assign with\r\n the return value of sys_get_config() you can use IFNULL(...) (see example below). However this should\r\n not be done inside a loop (e.g. for each row in a result set) as for repeated calls where assignment\r\n is only needed in the first iteration using IFNULL(...) is expected to be significantly slower than\r\n using an IF (...) THEN ... END IF; block (see example below).\r\n \r\n Parameters\r\n \r\n in_variable_name (VARCHAR(128)):\r\n The name of the config option to return the value for.\r\n \r\n in_default_value (VARCHAR(128)):\r\n The default value to return if the variable does not exist in sys.sys_config.\r\n \r\n Returns\r\n \r\n VARCHAR(128)\r\n \r\n Example\r\n \r\n mysql> SELECT sys.sys_get_config(\'statement_truncate_len\', 128) AS Value;\r\n +-------+\r\n | Value |\r\n +-------+\r\n | 64    |\r\n +-------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> SET @sys.statement_truncate_len = IFNULL(@sys.statement_truncate_len, sys.sys_get_config(\'statement_truncate_len\', 64));\r\n Query OK, 0 rows affected (0.00 sec)\r\n \r\n IF (@sys.statement_truncate_len IS NULL) THEN\r\n SET @sys.statement_truncate_len = sys.sys_get_config(\'statement_truncate_len\', 64);\r\n END IF;\r\n '
BEGIN DECLARE v_value VARCHAR(128) DEFAULT NULL;  SET v_value = (SELECT value FROM sys.sys_config WHERE variable = in_variable_name);  IF (v_value IS NULL) THEN SET v_value = in_default_value; END IF;  RETURN v_value; END
;;
delimiter ;

-- ----------------------------
-- Procedure structure for table_exists
-- ----------------------------
DROP PROCEDURE IF EXISTS `table_exists`;
delimiter ;;
CREATE PROCEDURE `table_exists`(IN in_db VARCHAR(64), IN in_table VARCHAR(64), OUT out_exists ENUM('', 'BASE TABLE', 'VIEW', 'TEMPORARY'))
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Tests whether the table specified in in_db and in_table exists either as a regular\r\n table, or as a temporary table. The returned value corresponds to the table that\r\n will be used, so if there\'s both a temporary and a permanent table with the given\r\n name, then \'TEMPORARY\' will be returned.\r\n \r\n Parameters\r\n \r\n in_db (VARCHAR(64)):\r\n The database name to check for the existance of the table in.\r\n \r\n in_table (VARCHAR(64)):\r\n The name of the table to check the existance of.\r\n \r\n out_exists ENUM(\'\', \'BASE TABLE\', \'VIEW\', \'TEMPORARY\'):\r\n The return value: whether the table exists. The value is one of:\r\n * \'\'           - the table does not exist neither as a base table, view, nor temporary table.\r\n * \'BASE TABLE\' - the table name exists as a permanent base table table.\r\n * \'VIEW\'       - the table name exists as a view.\r\n * \'TEMPORARY\'  - the table name exists as a temporary table.\r\n \r\n Example\r\n \r\n mysql> CREATE DATABASE db1;\r\n Query OK, 1 row affected (0.07 sec)\r\n \r\n mysql> use db1;\r\n Database changed\r\n mysql> CREATE TABLE t1 (id INT PRIMARY KEY);\r\n Query OK, 0 rows affected (0.08 sec)\r\n \r\n mysql> CREATE TABLE t2 (id INT PRIMARY KEY);\r\n Query OK, 0 rows affected (0.08 sec)\r\n \r\n mysql> CREATE view v_t1 AS SELECT * FROM t1;\r\n Query OK, 0 rows affected (0.00 sec)\r\n \r\n mysql> CREATE TEMPORARY TABLE t1 (id INT PRIMARY KEY);\r\n Query OK, 0 rows affected (0.00 sec)\r\n \r\n mysql> CALL sys.table_exists(\'db1\', \'t1\', @exists); SELECT @exists;\r\n Query OK, 0 rows affected (0.00 sec)\r\n \r\n +------------+\r\n | @exists    |\r\n +------------+\r\n | TEMPORARY  |\r\n +------------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> CALL sys.table_exists(\'db1\', \'t2\', @exists); SELECT @exists;\r\n Query OK, 0 rows affected (0.00 sec)\r\n \r\n +------------+\r\n | @exists    |\r\n +------------+\r\n | BASE TABLE |\r\n +------------+\r\n 1 row in set (0.01 sec)\r\n \r\n mysql> CALL sys.table_exists(\'db1\', \'v_t1\', @exists); SELECT @exists;\r\n Query OK, 0 rows affected (0.00 sec)\r\n \r\n +---------+\r\n | @exists |\r\n +---------+\r\n | VIEW    |\r\n +---------+\r\n 1 row in set (0.00 sec)\r\n \r\n mysql> CALL sys.table_exists(\'db1\', \'t3\', @exists); SELECT @exists;\r\n Query OK, 0 rows affected (0.01 sec)\r\n \r\n +---------+\r\n | @exists |\r\n +---------+\r\n |         |\r\n +---------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN DECLARE v_error BOOLEAN DEFAULT FALSE; DECLARE CONTINUE HANDLER FOR 1050 SET v_error = TRUE; DECLARE CONTINUE HANDLER FOR 1146 SET v_error = TRUE;  SET out_exists = '';  IF (EXISTS(SELECT 1 FROM information_schema.TABLES WHERE TABLE_SCHEMA = in_db AND TABLE_NAME = in_table)) THEN SET @sys.tmp.table_exists.SQL = CONCAT('CREATE TEMPORARY TABLE `', in_db, '`.`', in_table, '` (id INT PRIMARY KEY)'); PREPARE stmt_create_table FROM @sys.tmp.table_exists.SQL; EXECUTE stmt_create_table; DEALLOCATE PREPARE stmt_create_table; IF (v_error) THEN SET out_exists = 'TEMPORARY'; ELSE SET @sys.tmp.table_exists.SQL = CONCAT('DROP TEMPORARY TABLE `', in_db, '`.`', in_table, '`'); PREPARE stmt_drop_table FROM @sys.tmp.table_exists.SQL; EXECUTE stmt_drop_table; DEALLOCATE PREPARE stmt_drop_table; SET out_exists = (SELECT TABLE_TYPE FROM information_schema.TABLES WHERE TABLE_SCHEMA = in_db AND TABLE_NAME = in_table); END IF; ELSE SET @sys.tmp.table_exists.SQL = CONCAT('SELECT COUNT(*) FROM `', in_db, '`.`', in_table, '`'); PREPARE stmt_select FROM @sys.tmp.table_exists.SQL; IF (NOT v_error) THEN DEALLOCATE PREPARE stmt_select; SET out_exists = 'TEMPORARY'; END IF; END IF; END
;;
delimiter ;

-- ----------------------------
-- Function structure for version_major
-- ----------------------------
DROP FUNCTION IF EXISTS `version_major`;
delimiter ;;
CREATE FUNCTION `version_major`()
 RETURNS tinyint(3) unsigned
  NO SQL 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Returns the major version of MySQL Server.\r\n \r\n Returns\r\n \r\n TINYINT UNSIGNED\r\n \r\n Example\r\n \r\n mysql> SELECT VERSION(), sys.version_major();\r\n +--------------------------------------+---------------------+\r\n | VERSION()                            | sys.version_major() |\r\n +--------------------------------------+---------------------+\r\n | 5.7.9-enterprise-commercial-advanced | 5                   |\r\n +--------------------------------------+---------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN RETURN SUBSTRING_INDEX(SUBSTRING_INDEX(VERSION(), '-', 1), '.', 1); END
;;
delimiter ;

-- ----------------------------
-- Function structure for version_minor
-- ----------------------------
DROP FUNCTION IF EXISTS `version_minor`;
delimiter ;;
CREATE FUNCTION `version_minor`()
 RETURNS tinyint(3) unsigned
  NO SQL 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Returns the minor (release series) version of MySQL Server.\r\n \r\n Returns\r\n \r\n TINYINT UNSIGNED\r\n \r\n Example\r\n \r\n mysql> SELECT VERSION(), sys.server_minor();\r\n +--------------------------------------+---------------------+\r\n | VERSION()                            | sys.version_minor() |\r\n +--------------------------------------+---------------------+\r\n | 5.7.9-enterprise-commercial-advanced | 7                   |\r\n +--------------------------------------+---------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN RETURN SUBSTRING_INDEX(SUBSTRING_INDEX(SUBSTRING_INDEX(VERSION(), '-', 1), '.', 2), '.', -1); END
;;
delimiter ;

-- ----------------------------
-- Function structure for version_patch
-- ----------------------------
DROP FUNCTION IF EXISTS `version_patch`;
delimiter ;;
CREATE FUNCTION `version_patch`()
 RETURNS tinyint(3) unsigned
  NO SQL 
  SQL SECURITY INVOKER
  COMMENT '\r\n Description\r\n \r\n Returns the patch release version of MySQL Server.\r\n \r\n Returns\r\n \r\n TINYINT UNSIGNED\r\n \r\n Example\r\n \r\n mysql> SELECT VERSION(), sys.version_patch();\r\n +--------------------------------------+---------------------+\r\n | VERSION()                            | sys.version_patch() |\r\n +--------------------------------------+---------------------+\r\n | 5.7.9-enterprise-commercial-advanced | 9                   |\r\n +--------------------------------------+---------------------+\r\n 1 row in set (0.00 sec)\r\n '
BEGIN RETURN SUBSTRING_INDEX(SUBSTRING_INDEX(VERSION(), '-', 1), '.', -1); END
;;
delimiter ;

SET FOREIGN_KEY_CHECKS = 1;
